{"version":3,"sources":["webpack:///webpack/bootstrap 5483c3b056faf51faf23","webpack:///(webpack)/buildin/global.js","webpack:///./src/nk-polyfill/nk-polyfill.js","webpack:///./src/nk-math/nk-math.js","webpack:///./src/nk-utils/nk-assert.js","webpack:///./src/nk-utils/nk-pool.js","webpack:///./src/nk-utils/nk-cache.js","webpack:///./src/nk-utils/nk-utils.js","webpack:///./src/nk-utils/nk-flag-list.js","webpack:///./src/nk-utils/nk-flag-enum.js","webpack:///./src/nk-utils/nk-maker.js","webpack:///./src/nk-event/nk-local-listener.js","webpack:///./src/nk-event/nk-local-event.js","webpack:///./src/nk-time/nk-timer/nk-timer.js","webpack:///./src/nk-math/nk-vector/nk-vector2d.js","webpack:///./src/nk-math/nk-matrix/nk-matrix2d.js","webpack:///./src/nk-math/nk-transform/nk-basetransform2d.js","webpack:///./src/nk-math/nk-transform/nk-transform2d.js","webpack:///./src/nk-geom/nk-line/nk-line2d.js","webpack:///./src/nk-geom/nk-aabb/nk-aabb2d.js","webpack:///./src/nk-geom/nk-polygon/nk-polygon2d.js","webpack:///./src/nk-geom/nk-circle/nk-circle.js","webpack:///./src/nk-math/nk-collision/nk-collision2d.js","webpack:///./src/nk-math/nk-ease.js","webpack:///./src/nk-motion/nk-motion.js","webpack:///./src/nk-motion/nk-motion-manager.js","webpack:///./src/nk-utils/nk-quadtree-node.js","webpack:///./src/nk-entity/nk-core-entity2d.js","webpack:///./src/nk-entity/nk-container2d.js","webpack:///./src/nk-entity/nk-case2d.js","webpack:///./src/nk-cp/nk-option.js","webpack:///./src/nk-cp/nk-command.js","webpack:///./src/nk-cp/nk-register.js","webpack:///./src/nk.js","webpack:///./src/nk-base/nk-base.js","webpack:///./src/nk-shader/nk-load-shaders.js","webpack:///./src/nk-shader/nk-texture2d/nk-texture2d.shader","webpack:///./src/nk-shader/nk-texture2d/nk-texture2d-batch.shader","webpack:///./src/nk-shader/nk-shape2d/nk-line2d.shader","webpack:///./src/nk-shader/nk-shape2d/nk-rectangle.shader","webpack:///./src/nk-shader/nk-shape2d/nk-circle.shader","webpack:///./src/nk-shader/nk-pixel/nk-pixel-batch.shader","webpack:///./src/nk-utils/nk-browser-utils.js","webpack:///./src/nk-utils/nk-color.js","webpack:///./src/nk-utils/nk-canvas-manager.js","webpack:///./src/nk-style/nk-fill.js","webpack:///./src/nk-style/nk-shadow.js","webpack:///./src/nk-style/nk-stroke.js","webpack:///./src/nk-style/nk-text.js","webpack:///./src/nk-style/nk-pixel.js","webpack:///./src/nk-style/nk-style.js","webpack:///./src/nk-texture/nk-basic-texture.js","webpack:///./src/nk-texture/nk-spritesheet.js","webpack:///./src/nk-time/nk-ticker/nk-ticker.js","webpack:///./src/nk-input/nk-mouse.js","webpack:///./src/nk-input/nk-keyboard.js","webpack:///./src/nk-input/nk-touch.js","webpack:///./src/nk-debug/nk-debug.js","webpack:///./src/nk-path/nk-pixel/nk-pixel.js","webpack:///./src/nk-path/nk-line/nk-line2d.js","webpack:///./src/nk-path/nk-aabb/nk-aabb2d.js","webpack:///./src/nk-path/nk-polygon/nk-polygon2d.js","webpack:///./src/nk-path/nk-circle/nk-circle.js","webpack:///./src/nk-entity/nk-stage2d.js","webpack:///./src/nk-entity/nk-stadium.js","webpack:///./src/nk-entity/nk-graphic2d.js","webpack:///./src/nk-entity/nk-plain2d.js","webpack:///./src/nk-entity/nk-plaingraphic2d.js","webpack:///./src/nk-entity/nk-plainsprite.js","webpack:///./src/nk-entity/nk-text.js","webpack:///./src/nk-entity/nk-sprite.js","webpack:///./src/nk-entity/nk-tilesprite.js","webpack:///./src/nk-entity/nk-char.js","webpack:///./src/nk-entity/nk-bitmap-text.js","webpack:///./src/nk-entity/nk-camera2d.js","webpack:///./src/nk-particles/nk-particle.js","webpack:///./src/nk-particles/nk-particle-system.js","webpack:///./src/nk-animator/nk-frame.js","webpack:///./src/nk-animator/nk-animation.js","webpack:///./src/nk-animator/nk-controller.js","webpack:///./src/nk-load/nk-image-loader.js","webpack:///./src/nk-load/nk-xhr-loader.js","webpack:///./src/nk-load/nk-spritesheet-loader.js","webpack:///./src/nk-controller/nk-gl-program-controller/nk-gl-program-controller.js","webpack:///./src/nk-controller/nk-gl-program-controller/nk-gl-line2d-program-controller.js","webpack:///./src/nk-controller/nk-gl-program-controller/nk-gl-rectangle-program-controller.js","webpack:///./src/nk-controller/nk-gl-program-controller/nk-gl-circle-program-controller.js","webpack:///./src/nk-controller/nk-gl-program-controller/nk-gl-texture-program-controller.js","webpack:///./src/nk-controller/nk-gl-program-controller/nk-gl-texture-batch-program-controller.js","webpack:///./src/nk-controller/nk-gl-program-controller/nk-gl-pixel-batch-program-controller.js"],"names":[],"mappings":"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;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,yCAAyC,OAAO;;AAEhD;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,yCAAyC,OAAO;;AAEhD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,KAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,qCAAqC;;AAErC;;;;;;;AC5lBA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AChOA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;AC/CA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;AC7FA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,oBAAoB,kBAAkB;;AAEtC;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACnJA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AChLA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,uEAAuE,OAAO;;AAE9E;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,aAAa;;AAEjC;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,YAAY,OAAO;;AAEnB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,YAAY,OAAO;;AAEnB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,YAAY,QAAQ;;AAEpB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,YAAY,OAAO;;AAEnB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,oCAAoC,OAAO;;AAE3C;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,0DAA0D,OAAO;;AAEjE;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY,OAAO;;AAEnB;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,0DAA0D,OAAO;;AAEjE;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,OAAO;;AAElC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;ACvdA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,aAAa;;AAEjC;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;;AAEA;;;;;;;AC1IA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;AACA;;AAEA;;AAEA;;AAEA,WAAW;;AAEX;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA,OAAO;;AAEP;AACA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,YAAY,SAAS;;AAErB;;AAEA;;AAEA;;AAEA;;AAEA,gBAAgB,SAAS;;AAEzB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;ACvcA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;AC9DA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;ACjHA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,qCAAqC,OAAO;;AAE5C;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,qCAAqC,OAAO;;AAE5C;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,qCAAqC,OAAO;;AAE5C;;AAEA;;AAEA;;AAEA;;AAEA,wEAAwE,OAAO;;AAE/E;AACA;;AAEA;;AAEA;;AAEA;;AAEA,wEAAwE,OAAO;;AAE/E;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;AC7JA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,WAAW;;AAEX;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,wCAAwC;;AAExC;;;;;;;ACjRA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;;AAEA;;;;;;;ACzLA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,mEAAmE,OAAO;;AAE1E;;AAEA;;AAEA;;AAEA;;AAEA,mEAAmE,OAAO;;AAE1E;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,qFAAqF,OAAO;;AAE5F;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,yCAAyC,OAAO;;AAEhD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,qDAAqD,OAAO;;AAE5D;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,qFAAqF,OAAO;;AAE5F;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,8EAA8E,OAAO;;AAErF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACzZA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,0EAA0E,OAAO;;AAEjF;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AC3DA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;ACxCA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wEAAwE,OAAO;;AAE/E;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,2EAA2E,OAAO;;AAElF;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,0DAA0D,OAAO;;AAEjE;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,wEAAwE,OAAO;;AAE/E;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,gEAAgE,OAAO;;AAEvE;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,6CAA6C,OAAO;;AAEpD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,wEAAwE,OAAO;;AAE/E;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;AC7LA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,4EAA4E,OAAO;;AAEnF;;AAEA;;AAEA,gDAAgD,QAAQ;;AAExD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,+BAA+B;AAC/B;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;;;;;;;;AC3FA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;;AChGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4C;AACA;;AAEA;;AAEA;AACA;AACA,kBAAkB,uBAAuB,kBAAkB,eAAe,gBAAgB;AAC1F,qBAAqB,uBAAuB,kBAAkB,eAAe;AAC7E,oBAAoB,uBAAuB,kBAAkB,eAAe;AAC5E;;AAEA;;AAEA;;;;;;;ACjCA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ;;A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AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;;AAEH;;AAEA;;;;;;;ACrMA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,O;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,K;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AC5MA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;AChCA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;ACtCA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;ACjDA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;ACjEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5FA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA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,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;AC/DA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,M;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;AC3GA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACtFA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;AC/FA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yCAAyC,OAAO;;AAEhD;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;AC3DA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;AC5FA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AClOA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,8B;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,oEAAoE,OAAO;;AAE3E;;AAEA,sBAAsB,sBAAsB;;AAE5C;;AAEA;;AAEA,S;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,6DAA6D,OAAO;;AAEpE;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACxHA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACpMA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACzMA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AClFA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACrHA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACrFA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sBAAsB,yBAAyB;;AAE/C;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;;;;;;;AC3ZA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AC7IA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sDAAsD,OAAO;;AAE7D;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,uEAAuE,OAAO;;AAE9E;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;AC7JA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,0DAA0D,OAAO;;AAEjE;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,wDAAwD,OAAO;;AAE/D;;AAEA;;AAEA,KAAK;;AAEL,wDAAwD,OAAO;;AAE/D;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2FAA2F,OAAO;;AAElG;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,0DAA0D,OAAO;;AAEjE;;AAEA;;AAEA;;AAEA;;AAEA,6EAA6E,OAAO;;AAEpF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AC/OA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACnFA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,qCAAqC;;AAErC;;AAEA;;;;;;;ACtlBA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,sEAAsE,OAAO;;AAE7E;;AAEA;;AAEA;;AAEA;;AAEA,gFAAgF,OAAO;;AAEvF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,oBAAoB,qBAAqB;;AAEzC;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;ACjHA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;ACpEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,8BAA8B;;AAE9B,gEAAgE,aAAa;;AAE7E;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,0CAA0C,mBAAmB;;AAE7D;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,oEAAoE,OAAO;;AAE3E;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;ACjNA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,oFAAoF,OAAO;;AAE3F;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;ACrFA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA,uCAAuC,yEAAyE;;AAEhH;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,qCAAqC,oBAAoB;AACzD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AClIA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA,uCAAuC,qDAAqD;;AAE5F;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,qCAAqC,oBAAoB;AACzD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,qCAAqC,oBAAoB;AACzD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACzKA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA,uCAAuC,0CAA0C;;AAEjF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA,uDAAuD,oBAAoB;AAC3E;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACjIA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACjGA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AC1EA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AClFA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;AClFA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACrIA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACvIA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA","file":"nk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 32);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5483c3b056faf51faf23","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 0\n// module chunks = 0 2","module.exports = function() {\r\n\r\n  Array.prototype.indexPop = function( index ) {\r\n\r\n    var last = this.length - 1;\r\n\r\n    if ( last > 1 && index <= last && index >= 0 ) {\r\n  \r\n      var temp = this[last];\r\n      this[last] = this[index];\r\n      this[index] = temp;\r\n  \r\n      return this.pop();\r\n    \r\n    }\r\n\r\n    return this.pop();\r\n  \r\n  };\r\n\r\n  Array.prototype.indexShift = function( index ) {\r\n  \r\n    if ( this.length > 1 && index <= this.length - 1 && index >= 0 ) {\r\n  \r\n      var temp = this[0];\r\n      this[0] = this[index];\r\n      this[index] = temp;\r\n\r\n      return this.shift();\r\n    \r\n    }\r\n\r\n    return this.shift();\r\n  \r\n  };\r\n\r\n  Array.prototype.popSplice = function( index ) {\r\n\r\n    var l = this.length - 1;\r\n    if ( l < 1 ) return;\r\n    var returnee = this[index];\r\n\r\n    while ( index < l ) {\r\n \r\n      this[index] = this[index + 1]; \r\n      index++; \r\n    \r\n    }\r\n\r\n    this.pop();\r\n\r\n    return returnee;\r\n  \r\n  };\r\n\r\n  Array.prototype.shiftSplice = function( index ) {\r\n\r\n    if ( this.length < 1 ) return;\r\n    var returnee = this[index];\r\n\r\n    while ( index > 0 ) {\r\n\r\n      this[index] = this[index - 1];\r\n      index--;\r\n    \r\n    }\r\n\r\n    this.shift();\r\n\r\n    return returnee;\r\n  \r\n  };\r\n\r\n  Array.prototype.fickleSplice = function( index ) {\r\n\r\n    if ( index > ( this.length * 0.5 ) | 0 ) {\r\n\r\n      return this.popSplice( index );\r\n    \r\n    }\r\n\r\n    return this.shiftSplice( index );\r\n  \r\n  };\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-polyfill/nk-polyfill.js\n// module id = 1\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  var PI = Math.PI;\r\n  var Sin = Math.sin;\r\n  var Cos = Math.cos;\r\n  var Pow = Math.pow;\r\n  var Round = Math.round;\r\n\r\n  Nenkraft.Math.PII = PI * 2;\r\n  Nenkraft.Math.PI5 = PI * 0.5;\r\n  Nenkraft.Math.DEGREES_TO_RADIANS = PI / 180;\r\n  Nenkraft.Math.RADIANS_TO_DEGREES = 180 / PI;\r\n  Nenkraft.Math.RADIAN = Nenkraft.Math.DEGREES_TO_RADIANS;\r\n\r\n  var DTR = Nenkraft.Math.DegreesToRadians = Nenkraft.Math.DTR = function ( _angle ) {\r\n\r\n    return _angle * Nenkraft.Math.DEGREES_TO_RADIANS;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.RadiansToDegrees = Nenkraft.Math.RTD = function ( _angle ) {\r\n\r\n    return _angle * Nenkraft.Math.RADIANS_TO_DEGREES;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.PrecisionRound = function ( _value, _precision ) {\r\n\r\n    if ( _precision == null ) return _value;\r\n    var divisor = Pow( 10, _precision );\r\n    return Round( divisor * _value ) / divisor;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.PR = Nenkraft.Math.PrecisionRound;\r\n\r\n  Nenkraft.Math.Spread = function ( _start, _amount, _margin, _i ) {\r\n\r\n    return ( _start - ( _margin * ( _amount - 1 ) * 0.5 ) + ( _i * _margin ) );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.AttractRepel = function ( _repeller, _attractor, _velocity, _radius, _strength ) {\r\n\r\n    var delta = _attractor.SubtractVC( _repeller ), distance = delta.GetMagnitudeSquared();\r\n\r\n    if ( distance < _radius * _radius ) {\r\n\r\n      var theta = delta.GetAngle();\r\n      _velocity.Add(\r\n        Cos( theta ) * _strength,\r\n        Sin( theta ) * _strength\r\n      );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Oscillate = function( _time, _from, _to, _amplitude ) {\r\n\r\n    var delta = ( _to - _from ) * 0.5;\r\n    return ( _from + delta ) + ( Sin( DTR( _time * _amplitude ) ) * delta );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.LineLineIntersection = function ( _sA, _eA, _sB, _eB ) {\r\n\r\n    var d1 = _eA.SubtractVC( _sA );\r\n    var d2 = _eB.SubtractVC( _sB );\r\n    var l = -d2.x * d1.y + d1.x * d2.y;\r\n    var abx = _sA.x - _sB.x;\r\n    var aby = _sA.y - _sB.y;\r\n    var s = ( -d1.y * abx + d1.x * aby ) / l;\r\n    var t = ( d2.x * aby - d2.y * abx ) / l;\r\n\r\n    if ( s >= 0 && s <= 1 && t >= 0 && t <= 1 ) {\r\n\r\n      d1.Set( _sA.x + ( t * d1.x ), _sA.y + ( t * d1.y ) );\r\n      return d1;\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.ClosestPointOnLine = function ( _s, _e, _v ) {\r\n\r\n    var delta = _e.SubtractVC( _s );\r\n    var u = ( ( _v.x - _s.x ) * delta.x + ( _v.y - _s.y ) * delta.y ) / delta.GetMagnitudeSquared();\r\n\r\n    if ( u < 0 ) {\r\n\r\n      return _s;\r\n    \r\n    } else if ( u > 1 ) {\r\n\r\n      return _e;\r\n    \r\n    }\r\n\r\n    delta.Set( _s.x + u * delta.x, _s.y + u * delta.y );\r\n    return delta;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.LikeASquareGrid = function ( _points, _w, _marginX, _marginY ) {\r\n\r\n    for ( var i = 0, l = _points.length, columns = ( _w / _marginX ) | 0; i < l; ++i ) {\r\n\r\n      _points[ i ].Set( ( i % columns ) * _marginX, ( ( i / columns ) | 0 ) * _marginY );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.SquareGrid = function ( _w, _h, _marginX, _marginY, _creatableClass ) {\r\n\r\n    var grid = [];\r\n\r\n    for ( var i = 0, columns = ( _w / _marginX ) | 0, rows = ( _h / _marginY ) | 0, l = columns * rows; i < l; ++i ) {\r\n\r\n      grid.push( new _creatableClass( ( i % columns ) * _marginX, ( ( i / columns ) | 0 ) * _marginY ) );\r\n    \r\n    }\r\n\r\n    return grid;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.TriRectArray = function ( _x, _y, _w, _h, _arr ) {\r\n\r\n    if ( _arr != null ) {\r\n\r\n      _arr[ 0 ] = _x;\r\n      _arr[ 1 ] = _y;\r\n      _arr[ 2 ] = _x + _w;\r\n      _arr[ 3 ] = _y;\r\n      _arr[ 4 ] = _x;\r\n      _arr[ 5 ] = _y + _h;\r\n      _arr[ 6 ] = _x;\r\n      _arr[ 7 ] = _y + _h;\r\n      _arr[ 8 ] = _x + _w;\r\n      _arr[ 9 ] = _y;\r\n      _arr[ 10 ] = _x + _w;\r\n      _arr[ 11 ] = _y + _h;\r\n      return _arr;\r\n    \r\n    }\r\n\r\n    return [\r\n      _x, _y,\r\n      _x + _w, _y,\r\n      _x, _y + _h,\r\n      _x, _y + _h,\r\n      _x + _w, _y,\r\n      _x + _w, _y + _h\r\n    ];\r\n  \r\n  };\r\n\r\n  var GCD = Nenkraft.Math.GreatestCommonDivisor = Nenkraft.Math.GCD = function( _x, _y ) {\r\n\r\n    if ( _y === 0 ) return _x;\r\n    return GCD( _y, _x % _y );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.SimplifyAspectRatio = Nenkraft.Math.SAR = function( _x, _y, _array ) {\r\n\r\n    var gcd = GCD( _x, _y );\r\n    var array = _array == null ? [] : _array;\r\n    array[0] = _x / gcd;\r\n    array[1] = _y / gcd;\r\n    return array;\r\n\r\n  };\r\n\r\n  Object.defineProperty( Nenkraft.Math, 'PII', { writable: false } );\r\n  Object.defineProperty( Nenkraft.Math, 'PI5', { writable: false } );\r\n  Object.defineProperty( Nenkraft.Math, 'DEGREES_TO_RADIANS', { writable: false } );\r\n  Object.defineProperty( Nenkraft.Math, 'RADIANS_TO_DEGREES', { writable: false } );\r\n  Object.defineProperty( Nenkraft.Math, 'RADIAN', { writable: false } );\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-math.js\n// module id = 2\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Assert ( _data, _compare, _value, _noSelfAssert ) {\r\n\r\n    if ( _noSelfAssert == undefined || typeof _data.Assert !== 'function' ) {\r\n\r\n      switch ( _compare ) {\r\n\r\n        case Assert.IS:\r\n          Is( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_NOT:\r\n          IsNot( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_SAME_TYPE:\r\n          IsSameType( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_NOT_SAME_TYPE:\r\n          IsNotSameType( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_INSTANCE_OF:\r\n          IsInstanceOf( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_NOT_INSTANCE_OF:\r\n          IsNotInstanceOf( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_LESS_THAN:\r\n          IsLessThan( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_GREATER_THAN:\r\n          IsGreaterThan( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_LESS_THAN_OR_EQUAL:\r\n          IsLessThanOrEqual( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_GREATER_THAN_OR_EQUAL:\r\n          IsGreaterThanOrEqual( _data, _value, _compare );\r\n          return;\r\n        default:\r\n          throw new Error( 'No comparison: ' + _compare );\r\n      \r\n      }\r\n    \r\n    } else {\r\n\r\n      _data.Assert( _compare, _value );\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  function Is ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data !== _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsNot ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data === _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsSameType ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( Array.isArray( _data ) || Array.isArray( _value ) ) {\r\n\r\n      if ( !Array.isArray( _data ) !== !Array.isArray( _value ) ) {\r\n\r\n        failed = true;\r\n\r\n      }  \r\n    \r\n    } else if ( _data === null || _value === null ) {\r\n\r\n      if ( _data !== _value ) {\r\n\r\n        failed = true;\r\n        \r\n      }\r\n      \r\n    } else if ( typeof _data !== typeof _value ) {\r\n\r\n      failed = true;\r\n      \r\n    } else if ( typeof _data === 'number' || typeof _value === 'number' ) {\r\n\r\n      if ( isNaN( _data ) || isNaN( _value ) ) {\r\n\r\n        if ( _data !== _value ) {\r\n\r\n          failed = true;\r\n      \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsNotSameType ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( Array.isArray( _data ) || Array.isArray( _value ) ) {\r\n\r\n      if ( Array.isArray( _data ) && ( Array.isArray( _value ) ) ) {\r\n\r\n        failed = true;\r\n      \r\n      }\r\n    \r\n    } else if ( _data === null || _value === null ) {\r\n\r\n      if ( _value === _data ) {\r\n\r\n        failed = true;\r\n        \r\n      }\r\n      \r\n    } else if ( typeof _data === typeof _value ) {\r\n\r\n      failed = true;\r\n      \r\n    } else if ( typeof _data === 'number' || typeof _value === 'number' ) {\r\n\r\n      if ( isNaN( _data ) || isNaN( _value ) ) {\r\n\r\n        if ( isNaN( _data ) && isNaN( _value ) ) {\r\n\r\n          failed = true;\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsInstanceOf ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( !( _data instanceof _value ) ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value.name, _compare );\r\n  \r\n  }\r\n\r\n  function IsNotInstanceOf ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data instanceof _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value.name, _compare );\r\n  \r\n  }\r\n\r\n  function IsLessThan ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data >= _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsGreaterThan ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data <= _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsLessThanOrEqual ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data > _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsGreaterThanOrEqual ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data < _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function Check ( _failed, _data, _value, _compare ) {\r\n\r\n    if ( _failed ) {\r\n\r\n      ErrorInfo( _data, _value, _compare );\r\n      throw new Error( 'Assertion failed: ' + _compare );\r\n    \r\n    } else if ( Assert.LOG && window ) {\r\n\r\n      SuccessLog( _data, _value, _compare );\r\n      \r\n    }\r\n  \r\n  }\r\n\r\n  function ErrorInfo ( _data, _value, _compare ) {\r\n\r\n    switch ( _compare ) {\r\n\r\n      case Assert.IS:\r\n        _compare = Assert.IS_NOT;\r\n        break;\r\n      case Assert.IS_NOT:\r\n        _compare = Assert.IS;\r\n        break;\r\n      case Assert.IS_SAME_TYPE:\r\n        _compare = Assert.IS_NOT_SAME_TYPE;\r\n        break;\r\n      case Assert.IS_NOT_SAME_TYPE:\r\n        _compare = Assert.IS_SAME_TYPE;\r\n        break;\r\n      case Assert.IS_INSTANCE_OF:\r\n        _compare = Assert.IS_NOT_INSTANCE_OF;\r\n        break;\r\n      case Assert.IS_NOT_INSTANCE_OF:\r\n        _compare = Assert.IS_INSTANCE_OF;\r\n        break;\r\n      case Assert.IS_LESS_THAN:\r\n        _compare = Assert.IS_GREATER_THAN_OR_EQUAL;\r\n        break;\r\n      case Assert.IS_GREATER_THAN:\r\n        _compare = Assert.IS_LESS_THAN_OR_EQUAL;\r\n        break;\r\n      case Assert.IS_LESS_THAN_OR_EQUAL:\r\n        _compare = Assert.IS_GREATER_THAN;\r\n        break;\r\n      case Assert.IS_GREATER_THAN_OR_EQUAL:\r\n        _compare = Assert.IS_LESS_THAN;\r\n        break;\r\n      default:\r\n        throw new Error( 'Unexpected error' );\r\n    \r\n    }\r\n\r\n    console.error( _data, _compare, _value );\r\n  \r\n  }\r\n\r\n  function SuccessLog ( _data, _value, _compare ) {\r\n\r\n    console.log( '%c<<||-?START?-||>>', 'background-color: black; color: #0FF; padding: 0px 25px;' );\r\n    console.log( '%cAssertion success: ', 'background-color: #333; color: #0F0; padding: 0px 25px;' );\r\n    console.log( _data );\r\n    console.log( _compare );\r\n    console.log( _value );\r\n    console.log( '%c>>||-?END?-||<<', 'background-color: black; color: #FF0; padding: 0px 25px;' );\r\n  \r\n  }\r\n\r\n  Assert.IS = 'IS';\r\n  Assert.IS_NOT = 'IS NOT';\r\n  Assert.IS_SAME_TYPE = 'IS SAME TYPE';\r\n  Assert.IS_NOT_SAME_TYPE = 'IS NOT SAME TYPE';\r\n  Assert.IS_INSTANCE_OF = 'IS INSTANCE OF';\r\n  Assert.IS_NOT_INSTANCE_OF = 'IS NOT INSTANCE OF';\r\n  Assert.IS_LESS_THAN = 'IS LESS THAN';\r\n  Assert.IS_GREATER_THAN = 'IS GREATER THAN';\r\n  Assert.IS_LESS_THAN_OR_EQUAL = 'IS LESS THAN OR EQUAL';\r\n  Assert.IS_GREATER_THAN_OR_EQUAL = 'IS GREATER THAN OR EQUAL';\r\n\r\n  Assert.Assign = function ( _g ) {\r\n\r\n    if ( window && !_g ) {\r\n\r\n      _g = window;\r\n    \r\n    } else if ( global && _g ) {\r\n\r\n      _g = global;\r\n    \r\n    }\r\n\r\n    if ( _g ) {\r\n\r\n      _g.IS = Assert.IS;\r\n      _g.IS_NOT = Assert.IS_NOT;\r\n      _g.IS_SAME_TYPE = Assert.IS_SAME_TYPE;\r\n      _g.IS_NOT_SAME_TYPE = Assert.IS_NOT_SAME_TYPE;\r\n      _g.IS_INSTANCE_OF = Assert.IS_INSTANCE_OF;\r\n      _g.IS_NOT_INSTANCE_OF = Assert.IS_NOT_INSTANCE_OF;\r\n      _g.IS_LESS_THAN = Assert.IS_LESS_THAN;\r\n      _g.IS_GREATER_THAN = Assert.IS_GREATER_THAN;\r\n      _g.IS_LESS_THAN_OR_EQUAL = Assert.IS_LESS_THAN_OR_EQUAL;\r\n      _g.IS_GREATER_THAN_OR_EQUAL = Assert.IS_GREATER_THAN_OR_EQUAL;\r\n    \r\n    } else {\r\n\r\n      throw new Error( 'No global namespace' );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Assert.LOG = false;\r\n  Nenkraft.Utils.Assert = Assert;\r\n  Nenkraft.Assert = Assert;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-assert.js\n// module id = 3\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Pool ( _class ) {\r\n\r\n    if ( !( this instanceof Pool ) ) return new Pool( _class );\r\n    this.class = _class;\r\n    this.objects = [];\r\n  \r\n  }\r\n\r\n  Pool.prototype = Object.create( null );\r\n  Pool.prototype.constructor = Pool;\r\n  // Static\r\n\r\n  // Members\r\n  Pool.prototype.class = null;\r\n  Pool.prototype.objects = null;\r\n  Pool.prototype.floodFunction = null;\r\n  Pool.prototype.floodAmount = 100;\r\n  Pool.prototype.context = null;\r\n\r\n  // Methods\r\n  Pool.prototype.Store = function ( _object ) {\r\n\r\n    this.objects.push( _object );\r\n  \r\n  };\r\n\r\n  Pool.prototype.Retrieve = function () {\r\n\r\n    if ( this.objects.length === 0 ) {\r\n\r\n      this.Flood();\r\n    \r\n    }\r\n\r\n    return this.objects.pop();\r\n  \r\n  };\r\n\r\n  Pool.prototype.Flood = function ( _func, _amount, _context ) {\r\n\r\n    if ( _func ) this.floodFunction = _func;\r\n    if ( _amount ) this.floodAmount = _amount;\r\n    if ( _context ) this.context = _context;\r\n\r\n    for ( var i = 0; i < this.floodAmount; ++i ) {\r\n\r\n      if ( this.class != null ) {\r\n\r\n        var object = new this.class();\r\n        this.Store( object );\r\n        this.floodFunction.call( this.context, object );\r\n      \r\n      } else {\r\n\r\n        this.Store( this.floodFunction.call( this.context ) );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Pool.prototype.Flush = function () {\r\n\r\n    this.objects.length = 0;\r\n  \r\n  };\r\n\r\n  Pool.prototype.Clean = function () {\r\n\r\n    var amount = this.objects.length;\r\n    this.Flush();\r\n    this.Flood( undefined, amount );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Pool = Pool;\r\n  Nenkraft.Pool = Pool;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-pool.js\n// module id = 4\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Assert = Nenkraft.Utils.Assert;\r\n  var EO = Object.create( null );\r\n  var ES = '';\r\n\r\n  function Cache ( _type ) {\r\n\r\n    if ( !( this instanceof Cache ) ) return new Cache( _type );\r\n\r\n    if ( _type != null ) {\r\n\r\n      this.type = _type;\r\n    \r\n    }\r\n\r\n    this.items = [];\r\n  \r\n  }\r\n\r\n  Cache.prototype = Object.create( null );\r\n  Cache.prototype.constructor = Cache;\r\n  // Static\r\n\r\n  // Members\r\n  Cache.prototype.type = null;\r\n  Cache.prototype.items = null;\r\n\r\n  // Methods\r\n  Cache.prototype.Store = function ( _item ) {\r\n\r\n    var valid = false;\r\n\r\n    if ( _item == null ) {\r\n\r\n      console.warn( 'Item is null. Cannot store null item.' );\r\n      return null;\r\n    \r\n    }\r\n\r\n    if ( _item.id != null && _item.id !== '' ) {\r\n\r\n      valid = !this.Contains( _item, _item.id );\r\n    \r\n    } else if ( _item.data ) {\r\n\r\n      if ( _item.data.id != null && _item.data.id !== '' ) {\r\n\r\n        valid = !this.Contains( _item, _item.data.id );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    if ( valid === false ) {\r\n\r\n      console.warn( 'Item is not valid. Check the item id. The item has not been stored' );\r\n      return false;\r\n    \r\n    }\r\n\r\n    this.items.push( _item );\r\n    return true;\r\n  \r\n  };\r\n\r\n  Cache.prototype.StoreSafe = function ( _item ) {\r\n\r\n    if ( this.type != null ) {\r\n\r\n      Assert( _item, Assert.IS_INSTANCE_OF, this.type );\r\n    \r\n    }\r\n\r\n    Assert( _item, Assert.IS_SAME_TYPE, EO );\r\n\r\n    if ( _item.id ) {\r\n\r\n      Assert( _item.id, Assert.IS_SAME_TYPE, ES );\r\n      Assert( _item.id, Assert.IS_NOT, '' );\r\n    \r\n    } else {\r\n\r\n      Assert( _item.data, Assert.IS_SAME_TYPE, EO );\r\n      Assert( _item.data.id, Assert.IS_SAME_TYPE, ES );\r\n      Assert( _item.data.id, Assert.IS_NOT, '' );\r\n    \r\n    }\r\n\r\n    return this.Store( _item );\r\n  \r\n  };\r\n\r\n  Cache.prototype.GetById = function ( _id ) {\r\n\r\n    for ( var i = 0, items = this.items, l = items.length, item = items[ i ]; i < l; item = items[ ++i ] ) {\r\n\r\n      if ( item != null ) {\r\n\r\n        if ( item.id === _id || ( item.data != null && item.data.id === _id ) ) {\r\n\r\n          return item;\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Cache.prototype.PerformOnAll = function ( _funcName, _params, _context ) {\r\n\r\n    for ( var i = 0, items = this.items, l = items.length, item = items[ i ]; i < l; item = items[ ++i ] ) {\r\n\r\n      if ( item != null && item[ _funcName ] ) {\r\n\r\n        item[ _funcName ].apply( _context ? _context : item, _params );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Cache.prototype.Contains = function ( _item, _id ) {\r\n\r\n    for ( var i = 0, items = this.items, l = items.length, item = items[ i ]; i < l; item = items[ ++i ] ) {\r\n\r\n      if ( item != null ) {\r\n\r\n        if ( item === _item ) {\r\n\r\n          return true;\r\n        \r\n        }\r\n\r\n        if ( item.id === _id ) {\r\n\r\n          return true;\r\n        \r\n        }\r\n\r\n        if ( item.data != null ) {\r\n\r\n          if ( item.data.id === _id ) {\r\n\r\n            return true;\r\n          \r\n          }\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Cache = Cache;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-cache.js\n// module id = 5\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Random = Math.random;\r\n  var PR = Nenkraft.Math.PR;\r\n\r\n  var RI = Nenkraft.Utils.RandomInteger = function ( _min, _max ) {\r\n\r\n    return ( Random() * ( _max - _min + 1 ) + _min ) | 0;\r\n  \r\n  };\r\n\r\n  var RF = Nenkraft.Utils.RandomFloat = function ( _min, _max ) {\r\n\r\n    return Random() * ( _max - _min ) + _min;\r\n  \r\n  };\r\n\r\n  var II = Nenkraft.Utils.IsInteger = function ( _value ) {\r\n\r\n    return Number( _value ) === _value && _value % 1 === 0;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.IsFloat = function ( _value ) {\r\n\r\n    return Number( _value ) === _value && _value % 1 !== 0;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Sign = function( _value, _1IfZero ) {\r\n\r\n    if ( _value === 0 ) {\r\n\r\n      if ( _1IfZero === true ) {\r\n\r\n        return 1;\r\n      \r\n      }\r\n\r\n      return 0;\r\n    \r\n    }\r\n\r\n    if ( _value > 0 ) return 1;\r\n    return -1;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Clamp = function ( _value, _min, _max ) {\r\n\r\n    if ( _value < _min ) return _min;\r\n    else if ( _value > _max ) return _max;\r\n    return _value;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.InverseClamp = function ( _value, _min, _max ) {\r\n\r\n    if ( _value < _min ) return _max;\r\n    else if ( _value > _max ) return _min;\r\n    return _value;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.ThisOrThat = function ( _this, _that ) {\r\n\r\n    if ( RI( 1, 2 ) === 1 ) return _this;\r\n    return _that;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.IntegerNotation = function ( _value, _roof, _splitter ) {\r\n\r\n    var vrm = _value % _roof, vrd = _value / _roof;\r\n    return Math.ceil( vrm === 0 ? vrd + 1 : vrd ) + _splitter + ( 1 + vrm );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.GenerateSequence = function( _from, _to, _interval, _precision ) {\r\n\r\n    var sequence = [];\r\n\r\n    for ( var i = _from; i < _to; i += _interval ) {\r\n\r\n      sequence.push( PR( i, _precision ) );\r\n    \r\n    }\r\n\r\n    return sequence;\r\n  \r\n  };\r\n\r\n  var RIA = Nenkraft.Utils.RandomInArray = function( _array ) {\r\n\r\n    return _array[RI( 0, _array.length - 1 )];\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.MinMaxOrValue = function( _options, _other ) {\r\n\r\n    if ( _options.min != null && _options.max != null ) {\r\n        \r\n      return RF( _options.min, _options.max );\r\n\r\n    } else if ( _options.values != null && _options.values.length > 0 ) {\r\n\r\n      return RIA( _options.values );\r\n\r\n    } else if ( _other != null && _options[_other].length > 0 ) {\r\n\r\n      return RIA( _options[_other] );\r\n\r\n    }\r\n\r\n    return _options;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.UUID = function ( _length, _parts, _charSetIndex, _separator ) {\r\n\r\n    _length = _length == null ? 32 : _length;\r\n    _parts = _parts == null ? 4 : _parts;\r\n    _charSetIndex = _charSetIndex == null ? 0 : _charSetIndex;\r\n    _separator = _separator == null ? '-' : _separator;\r\n    var id = '';\r\n\r\n    for ( var i = 0, lpd = ( _length / _parts ) | 0, ilpdd, at, charset = Nenkraft.Utils.CharacterSets[ _charSetIndex ]; i < _length; ++i ) {\r\n\r\n      ilpdd = i / lpd;\r\n\r\n      if ( ilpdd !== 0 && II( ilpdd ) ) id += _separator;\r\n      else {\r\n\r\n        at = RI( 1, charset.length - 1 );\r\n        id += charset.charAt( at );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return id;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.CharacterSets = [\r\n    '0123456789ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz',\r\n    '0123456789ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz!?#$%@&',\r\n    '0123456789',\r\n    'ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz',\r\n    'ABCDEFGHJIKLMNOPQRSTUWVXYZ',\r\n    'abcdefghijklmnopqrstuwvxyz',\r\n    '0123456789abcdefghijklmnopqrstuwvxyz',\r\n    '0123456789ABCDEFGHJIKLMNOPQRSTUWVXYZ'\r\n  ];\r\n\r\n  Nenkraft.Utils.ApplyProperties = function ( _object, _props ) {\r\n\r\n    if ( _props !== undefined ) {\r\n\r\n      var key;\r\n\r\n      for ( key in _props ) {\r\n\r\n        if ( _object[ key ] !== undefined ) _object[ key ] = _props[ key ];\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  var NESTED = Nenkraft.Utils.Nested = function ( _object, _string, _getObjectHolding, _set, _value, _splitter ) {\r\n\r\n    if ( typeof _string === 'string' ) {\r\n\r\n      _splitter = _splitter == null ? '.' : _splitter;\r\n      _string = _string.split( _splitter );\r\n    \r\n    }\r\n\r\n    var key;\r\n\r\n    if ( _string.length > 1 ) {\r\n\r\n      key = _string.shift();\r\n\r\n      if ( _object[ key ] !== undefined ) {\r\n\r\n        return NESTED( _object[ key ], _string, _getObjectHolding, _set, _value, _splitter );\r\n      \r\n      }\r\n    \r\n    } else {\r\n\r\n      key = _string.shift();\r\n\r\n      if ( _object[ key ] !== undefined ) {\r\n\r\n        if ( _set === true ) {\r\n\r\n          _object[ key ] = _value;\r\n          return;\r\n        \r\n        }\r\n\r\n        if ( _getObjectHolding === true ) {\r\n\r\n          return _object;\r\n        \r\n        }\r\n\r\n        return _object[ key ];\r\n      \r\n      }\r\n\r\n      if ( _set === true ) {\r\n\r\n        _object[ key ] = _value;\r\n        return;\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.ArrayGetRandom = function ( _array, _amount ) {\r\n\r\n    var array = [], control = {}, _al = _array.length;\r\n\r\n    for ( var i = 0, l = _amount; i < l; ++i ) {\r\n\r\n      var ix = ( Random() * _al ) | 0;\r\n      if ( control[ ix ] === undefined ) {\r\n\r\n        control[ ix ] = null;\r\n        array.push( _array[ ix ] );\r\n      \r\n      }\r\n      else i--;\r\n    \r\n    }\r\n\r\n    return array;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.ArrayShuffle = function ( _array ) {\r\n\r\n    var i = _array.length - 1, temp, rand;\r\n\r\n    for ( ; i >= 0; --i ) {\r\n\r\n      rand = ( Random() * i ) | 0;\r\n      temp = _array[ i ];\r\n      _array[ i ] = _array[ rand ];\r\n      _array[ rand ] = temp;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Cipher = {};\r\n  Nenkraft.Utils.Decipher = {};\r\n\r\n  Nenkraft.Utils.Cipher.CCH1 = function ( _str, _cci ) {\r\n\r\n    var output = [];\r\n    _cci = _cci === undefined ? 1 : _cci;\r\n\r\n    for ( var i = 0, chrs = _str.split( '' ), l = chrs.length, chr, otn; i < l; ++i ) {\r\n\r\n      chr = chrs[ i ];\r\n      chr = ( chr.charCodeAt( 0 ) + _cci ).toString( 2 );\r\n      otn = RI( 1, 9 );\r\n      output.push( otn + 'x' + chr.replace( /1/g, otn ) );\r\n    \r\n    }\r\n\r\n    return output.join( ' ' );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Decipher.CCH1 = function ( _str, _cci ) {\r\n\r\n    var output = [];\r\n    _cci = _cci === undefined ? 1 : _cci;\r\n\r\n    for ( var i = 0, strs = _str.split( ' ' ), l = strs.length, str; i < l; ++i ) {\r\n\r\n      str = strs[ i ];\r\n      str = str.slice( -str.length + 2 );\r\n      output.push( String.fromCharCode( parseInt( str.replace( /[2-9]/g, '1' ), 2 ) - _cci ) );\r\n    \r\n    }\r\n\r\n    return output.join( '' );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Base16ToBase10 = function ( _value ) {\r\n\r\n    return parseInt( _value, 16 );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Base2ToBase10 = function ( _value ) {\r\n\r\n    return parseInt( _value, 2 );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.IsObjectEmpty = function ( _object ) {\r\n\r\n    for ( var key in _object ) {\r\n\r\n      if ( _object.hasOwnProperty( key ) ) {\r\n\r\n        return false;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return JSON.stringify( _object ) === JSON.stringify( {} );\r\n  \r\n  };\r\n\r\n  var DC = Nenkraft.Utils.DeepClone = function( _object ) {\r\n\r\n    var r = null;\r\n    var ia = false;\r\n\r\n    if ( typeof _object === 'function' ) {\r\n\r\n      throw new TypeError( 'Object was of type: function. Not acceptable.' );\r\n\r\n    }\r\n\r\n    if ( Array.isArray( _object ) ) {\r\n\r\n      r = [];\r\n      ia = true;\r\n\r\n    } else if ( typeof _object === 'object' ) {\r\n\r\n      r = {};\r\n\r\n    } else {\r\n\r\n      return _object;\r\n\r\n    }\r\n\r\n    if ( ia ) {\r\n\r\n      for ( var i = 0; i < _object.length; ++i ) {\r\n\r\n        r[i] = DC( _object[i] );\r\n\r\n      }\r\n\r\n    } else {\r\n\r\n      for ( var key in _object ) {\r\n\r\n        if ( _object.hasOwnProperty( key ) ) {\r\n\r\n          r[key] = DC( _object[key] );\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return r;\r\n  \r\n  };\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-utils.js\n// module id = 6\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function FlagList () {\r\n\r\n    if ( !( this instanceof FlagList ) ) return new FlagList();\r\n  \r\n  }\r\n\r\n  FlagList.prototype = Object.create( null );\r\n  FlagList.prototype.constructor = FlagList;\r\n  /*\r\n   *Static\r\n   *Members\r\n   */\r\n  FlagList.prototype.value = 0;\r\n\r\n  // Methods\r\n  FlagList.prototype.Add = function ( _value ) {\r\n\r\n    this.value |= _value;\r\n  \r\n  };\r\n\r\n  FlagList.prototype.Remove = function ( _value ) {\r\n\r\n    this.value = ( this.value & ~_value );\r\n  \r\n  };\r\n\r\n  FlagList.prototype.Compare = function ( _value ) {\r\n\r\n    return ( ( this.value & _value ) !== 0 );\r\n  \r\n  };\r\n\r\n  FlagList.prototype.Holds = function ( _value ) {\r\n\r\n    return ( ( this.value & _value ) === _value );\r\n  \r\n  };\r\n\r\n  FlagList.prototype.Toggle = function ( _value ) {\r\n\r\n    this.value ^= _value;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.FlagList = FlagList;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-flag-list.js\n// module id = 7\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function FlagEnum () {\r\n\r\n    if ( !( this instanceof FlagEnum ) ) return new FlagEnum();\r\n  \r\n  }\r\n\r\n  FlagEnum.prototype = Object.create( null );\r\n  FlagEnum.prototype.constructor = FlagEnum;\r\n  /*\r\n   *Static\r\n   *Members\r\n   */\r\n  FlagEnum.prototype.NONE = 0;\r\n  FlagEnum.prototype.next = 1;\r\n\r\n  // Methods\r\n  FlagEnum.prototype.Add = function ( _id ) {\r\n\r\n    _id = _id.toUpperCase();\r\n\r\n    if ( this[ _id ] === undefined ) {\r\n\r\n      this[ _id ] = this.next;\r\n      this.next = this.next << 1;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.FlagEnum = FlagEnum;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-flag-enum.js\n// module id = 8\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  var NESTED = Nenkraft.Utils.Nested;\r\n\r\n  function Maker () {\r\n\r\n    if ( !( this instanceof Maker ) ) return new Maker();\r\n    this.orders = [];\r\n  \r\n  }\r\n\r\n  Maker.prototype = Object.create( null );\r\n  Maker.prototype.constructor = Maker;\r\n  // Static\r\n\r\n  // Members\r\n  Maker.prototype.orders = null;\r\n  Maker.prototype.classUsed = null;\r\n  Maker.prototype.amount = 1;\r\n\r\n  // Methods\r\n\r\n  Maker.prototype.Many = function( _amount ) {\r\n\r\n    this.amount = _amount;\r\n    return this;\r\n  \r\n  };\r\n\r\n  Maker.prototype.Bind = function( _object, _reset ) {\r\n\r\n    if ( _reset ) this.orders.length = 0;\r\n    this.orders.push( _object );\r\n    return this;\r\n  \r\n  };\r\n\r\n  Maker.prototype.Make = function( _class ) {\r\n\r\n    this.orders.length = 0;\r\n    this.classUsed = _class;\r\n\r\n    for ( var i = 0; i < this.amount; ++i ) {\r\n\r\n      this.orders.push(\r\n        new ( Function.prototype.bind.apply( _class, arguments ) )()\r\n      );\r\n      \r\n    }\r\n\r\n    return this;\r\n  \r\n  };\r\n\r\n  Maker.prototype.Call = function( _function, _args ) {\r\n\r\n    var orders = this.orders;\r\n\r\n    for ( var i = 0, order = orders[i]; i < orders.length; order = orders[++i] ) {\r\n\r\n      var context = NESTED( order, _function, true );\r\n      var f = NESTED( order, _function );\r\n\r\n      if ( _args != null && _args.length > 0 ) {\r\n\r\n        for ( var j = 0; j < _args.length; ++j ) {\r\n\r\n          if ( typeof _args[j] === 'string' && _args[j][0] === '$' ) {\r\n  \r\n            _args[j] = order[_args[j].slice( 1 )];\r\n        \r\n          }\r\n      \r\n        }\r\n      \r\n      }\r\n\r\n      f.apply( context, _args );\r\n    \r\n    }\r\n\r\n    return this;\r\n  \r\n  };\r\n\r\n  Maker.prototype.Cast = function( _key, _value ) {\r\n\r\n    var orders = this.order;\r\n\r\n    for ( var i = 0, order = orders[i]; i < orders.length; order = orders[++i] ) {\r\n\r\n      if ( typeof _value === 'string' && _value[0] === '$' ) {\r\n\r\n        _value = NESTED( order, _value );\r\n      \r\n      }\r\n  \r\n      NESTED( order, _key, false, true, _value );\r\n    \r\n    }\r\n\r\n    return this;\r\n  \r\n  };\r\n\r\n  Maker.prototype.Done = function() {\r\n\r\n    this.amount = 1;\r\n    return this.orders[0];\r\n  \r\n  };\r\n\r\n  Maker.prototype.Mass = function() {\r\n\r\n    this.amount = 1;\r\n    return this.orders;\r\n\r\n  };\r\n  \r\n  Nenkraft.Utils.Maker = Maker;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-maker.js\n// module id = 9\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function LocalListener ( _holderContext, _listenerContext, _handle, _removeOnNextCall ) {\r\n\r\n    if ( !( this instanceof LocalListener ) ) return new LocalListener( _holderContext, _listenerContext, _handle, _removeOnNextCall );\r\n    this.context = _listenerContext;\r\n    this.holderContext = _holderContext;\r\n    this.handle = _handle;\r\n    this.removeOnNextCall = _removeOnNextCall;\r\n  \r\n  }\r\n\r\n  LocalListener.prototype = Object.create( null );\r\n  LocalListener.prototype.constructor = LocalListener;\r\n  // Static\r\n\r\n  // Members\r\n\r\n  // Methods\r\n  LocalListener.prototype.Execute = function () {\r\n\r\n    this.handle.apply( this.context, arguments );\r\n\r\n    if ( this.removeOnNextCall === true ) {\r\n\r\n      this.Remove();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  LocalListener.prototype.Remove = function () {\r\n\r\n    this.holderContext.Remove( this.handle, this.context );\r\n  \r\n  };\r\n\r\n  Nenkraft.Event.LocalListener = LocalListener;\r\n  Nenkraft.LocalListener = LocalListener;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-event/nk-local-listener.js\n// module id = 10\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function LocalEvent () {\r\n\r\n    if ( !( this instanceof LocalEvent ) ) return new LocalEvent();\r\n    this.listeners = [];\r\n  \r\n  }\r\n\r\n  LocalEvent.prototype = Object.create( null );\r\n  LocalEvent.prototype.constructor = LocalEvent;\r\n  // Static\r\n\r\n  // Members\r\n  LocalEvent.prototype.stopPropagation = false;\r\n  LocalEvent.prototype.target = null;\r\n  LocalEvent.prototype.data = null;\r\n\r\n  // Methods\r\n  LocalEvent.prototype.GetListenerIndex = function ( _handle, _context ) {\r\n\r\n    var listeners = this.listeners;\r\n    if ( listeners.length === 0 ) return -1;\r\n\r\n    for ( var i = 0, l = listeners.length, listener; i < l; ++i ) {\r\n\r\n      listener = listeners[ i ];\r\n\r\n      if ( listener.context === _context && listener.handle === _handle ) {\r\n\r\n        return i;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return -1;\r\n  \r\n  };\r\n\r\n  LocalEvent.prototype.Add = function ( _handle, _context, _removeOnNextCall ) {\r\n\r\n    var listener = Nenkraft.LocalListener( this, _context, _handle, _removeOnNextCall );\r\n    this.listeners.push( listener );\r\n  \r\n  };\r\n\r\n  LocalEvent.prototype.Remove = function ( _handle, _context ) {\r\n\r\n    var ix = this.GetListenerIndex( _handle, _context );\r\n\r\n    if ( ix !== -1 ) {\r\n\r\n      this.listeners.fickleSplice( ix );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  LocalEvent.prototype.Dump = function ( _context ) {\r\n\r\n    var listeners = this.listeners;\r\n    if ( listeners.length === 0 ) return;\r\n\r\n    if ( _context !== undefined ) {\r\n\r\n      for ( var i = 0, l = listeners.length, listener; i < l; ++i ) {\r\n\r\n        listener = listeners[ i ];\r\n\r\n        if ( listener.context === _context ) {\r\n\r\n          this.listeners.fickleSplice( i );\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n    else {\r\n\r\n      this.listeners.length = 0;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  LocalEvent.prototype.Dispatch = function ( _target, _data ) {\r\n\r\n    var listeners = this.listeners;\r\n    if ( listeners.length === 0 ) return;\r\n    listeners = listeners.slice();\r\n    this.stopPropagation = false;\r\n    this.target = _target;\r\n    this.data = _data;\r\n\r\n    for ( var i = 0, l = listeners.length, listener; i < l; ++i ) {\r\n\r\n      listener = listeners[ i ];\r\n      listener.Execute( this );\r\n      if ( this.stopPropagation === true ) break;\r\n    \r\n    }\r\n\r\n    delete this.target;\r\n    delete this.data;\r\n  \r\n  };\r\n\r\n  Nenkraft.Event.LocalEvent = LocalEvent;\r\n  Nenkraft.LocalEvent = LocalEvent;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-event/nk-local-event.js\n// module id = 11\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Timer ( _stopTime ) {\r\n\r\n    if ( !( this instanceof Timer ) ) return new Timer( _stopTime );\r\n\r\n    if ( _stopTime != null ) {\r\n\r\n      this.stopTime = _stopTime;\r\n    \r\n    }\r\n\r\n    this.onStop = Nenkraft.LocalEvent();\r\n    this.onFinish = Nenkraft.LocalEvent();\r\n    this.onStart = Nenkraft.LocalEvent();\r\n    this.onReset = Nenkraft.LocalEvent();\r\n    this.onPause = Nenkraft.LocalEvent();\r\n    this.onResume = Nenkraft.LocalEvent();\r\n  \r\n  }\r\n\r\n  Timer.prototype = Object.create( null );\r\n  Timer.prototype.constructor = Timer;\r\n  // Static\r\n\r\n  // Members\r\n  Timer.prototype.time = 0;\r\n  Timer.prototype.stopTime = 0;\r\n  Timer.prototype.isRunning = false;\r\n  Timer.prototype.canResume = false;\r\n  Timer.prototype.count = 0;\r\n\r\n  // Methods\r\n  Timer.prototype.Reset = function () {\r\n\r\n    this.onReset.Dispatch( this, null );\r\n    this.count = 0;\r\n    this.time = 0;\r\n    this.isRunning = false;\r\n    this.canResume = false;\r\n    this.stopTime = null;\r\n  \r\n  };\r\n\r\n  Timer.prototype.Start = function ( _stopTime ) {\r\n\r\n    this.stopTime = Math.round( _stopTime == null ? this.stopTime : _stopTime );\r\n\r\n    if ( this.stopTime > 0 ) {\r\n\r\n      this.time = 0;\r\n      this.isRunning = true;\r\n      this.canResume = false;\r\n      this.onStart.Dispatch( this, { stopTime: this.stopTime } );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Timer.prototype.Stop = function () {\r\n\r\n    if ( this.isRunning === true ) {\r\n\r\n      this.isRunning = false;\r\n      this.onStop.Dispatch( this, null );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Timer.prototype.Pause = function () {\r\n\r\n    if ( this.isRunning === true && this.canResume === false ) {\r\n\r\n      this.isRunning = false;\r\n      this.canResume = true;\r\n      this.onPause.Dispatch( this, null );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Timer.prototype.Resume = function () {\r\n\r\n    if ( this.canResume === true ) {\r\n\r\n      this.isRunning = true;\r\n      this.canResume = false;\r\n      this.onResume.Dispatch( this, null );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Timer.prototype.Process = function () {\r\n\r\n    if ( this.time < this.stopTime && this.isRunning === true ) {\r\n\r\n      if ( ++this.time >= this.stopTime ) {\r\n\r\n        this.isRunning = false;\r\n        this.count++;\r\n        this.onFinish.Dispatch( this, null );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Time.Timer = Timer;\r\n  Nenkraft.Timer = Timer;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-time/nk-timer/nk-timer.js\n// module id = 12\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Vector2D ( _arg0, _arg1 ) {\r\n\r\n    if ( !( this instanceof Vector2D ) ) return new Vector2D( _arg0, _arg1 );\r\n\r\n    if ( _arg0 != undefined && _arg0.x != undefined && _arg0.y != undefined ) {\r\n\r\n      this.x = _arg0.x;\r\n      this.y = _arg0.y;\r\n    \r\n    }\r\n    else if ( _arg0 != undefined ) {\r\n\r\n      if ( _arg1 == undefined ) {\r\n\r\n        this.x = _arg0;\r\n        this.y = _arg0;\r\n      \r\n      }\r\n      else {\r\n\r\n        this.x = _arg0;\r\n        this.y = _arg1;\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  Vector2D.prototype = Object.create( null );\r\n  Vector2D.prototype.constructor = Vector2D;\r\n\r\n  // Static\r\n  Vector2D.TranslateMultiple = function ( _vectors, _vector ) {\r\n\r\n    for ( var i = 0, l = _vectors.length; i < l; ++i ) {\r\n\r\n      _vectors[ i ].AddV( _vector );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Vector2D.GetMinMaxDot = function ( _vectors, _axis ) {\r\n\r\n    var min = Infinity;\r\n    var max = -min;\r\n    var dot = 0, result = _axis.Copy();\r\n\r\n    for ( var i = 0, l = _vectors.length; i < l; ++i ) {\r\n\r\n      dot = _vectors[ i ].GetDotV( _axis );\r\n\r\n      if ( dot > max ) {\r\n\r\n        max = dot;\r\n      \r\n      }\r\n\r\n      if ( dot < min ) {\r\n\r\n        min = dot;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    result.Set( min, max );\r\n    return result;\r\n  \r\n  };\r\n\r\n  Vector2D.Pool = Nenkraft.Utils.Pool( Vector2D );\r\n\r\n  Vector2D.Pool.Retrieve = function ( _x, _y ) {\r\n\r\n    if ( this.objects.length === 0 ) {\r\n\r\n      this.Flood();\r\n    \r\n    }\r\n\r\n    var v = this.objects.pop();\r\n    v.Set( _x, _y );\r\n    return v;\r\n  \r\n  };\r\n\r\n  Vector2D.USE_POOL = true;\r\n  // Members\r\n  Vector2D.prototype.x = 0;\r\n  Vector2D.prototype.y = 0;\r\n\r\n  // Methods\r\n  Vector2D.prototype.Copy = function () {\r\n\r\n    if ( Vector2D.USE_POOL === true ) {\r\n\r\n      return Vector2D.Pool.Retrieve( this.x, this.y );\r\n    \r\n    }\r\n\r\n    return Vector2D( this );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.FromStore = function( _x, _y ) {\r\n\r\n    if ( Vector2D.USE_POOL === true ) {\r\n\r\n      return Vector2D.Pool.Retrieve( _x, _y );\r\n    \r\n    }\r\n\r\n    return Vector2D( _x, _y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.AbsoluteCopy = function () {\r\n\r\n    var v = this.Copy();\r\n    v.Positive();\r\n    return v;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.SetV = function ( _v ) {\r\n\r\n    this.x = _v.x;\r\n    this.y = _v.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Set = function ( _x, _y ) {\r\n\r\n    if ( _x != undefined && _y == undefined ) {\r\n\r\n      this.x = _x;\r\n      this.y = _x;\r\n    \r\n    } else {\r\n\r\n      this.x = _x;\r\n      this.y = _y;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Is0 = function () {\r\n\r\n    return this.x === 0 && this.y === 0;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.AddV = function ( _v ) {\r\n\r\n    this.x += _v.x;\r\n    this.y += _v.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.AddVC = function ( _v ) {\r\n\r\n    var r = this.Copy();\r\n    r.AddV( _v );\r\n    return r;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Add = function ( _x, _y ) {\r\n\r\n    this.x += _x;\r\n    this.y += _y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.SubtractV = function ( _v ) {\r\n\r\n    this.x -= _v.x;\r\n    this.y -= _v.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.SubtractVC = function ( _v ) {\r\n\r\n    var r = this.Copy();\r\n    r.SubtractV( _v );\r\n    return r;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Subtract = function ( _x, _y ) {\r\n\r\n    this.x -= _x;\r\n    this.y -= _y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.MultiplyV = function ( _v ) {\r\n\r\n    this.x *= _v.x;\r\n    this.y *= _v.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.MultiplyVC = function ( _v ) {\r\n\r\n    var r = this.Copy();\r\n    r.MultiplyV( _v );\r\n    return r;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Multiply = function ( _x, _y ) {\r\n\r\n    this.x *= _x;\r\n    this.y *= _y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.DivideV = function ( _v ) {\r\n\r\n    this.x /= _v.x;\r\n    this.y /= _v.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.DivideVC = function ( _v ) {\r\n\r\n    var r = this.Copy();\r\n    r.DivideV( _v );\r\n    return r;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Divide = function ( _x, _y ) {\r\n\r\n    this.x /= _x;\r\n    this.y /= _y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Normalize = function () {\r\n\r\n    var m = this.GetMagnitude();\r\n    this.Divide( m, m );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Positive = function () {\r\n\r\n    this.x = Math.abs( this.x );\r\n    this.y = Math.abs( this.y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Negative = function () {\r\n\r\n    this.x = -Math.abs( this.x );\r\n    this.y = -Math.abs( this.y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Invert = function () {\r\n\r\n    this.x = -this.x;\r\n    this.y = -this.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Rotate = function ( _a ) {\r\n\r\n    var s = Math.sin( _a ), c = Math.cos( _a );\r\n    var tx = this.x, ty = this.y;\r\n    this.x = tx * c - ty * s;\r\n    this.y = tx * s + ty * c;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.RotateAbsolute = function ( _a ) {\r\n\r\n    this.Rotate( _a - this.GetAngle() );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.RotateAroundV = function ( _v, _a ) {\r\n\r\n    this.SubtractV( _v );\r\n    this.Rotate( _a );\r\n    this.AddV( _v );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.RotateAround = function ( _x, _y, _a ) {\r\n\r\n    this.Subtract( _x, _y );\r\n    this.Rotate( _a );\r\n    this.Add( _x, _y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.RotateAbsoluteAroundV = function ( _v, _a ) {\r\n\r\n    this.SubtractV( _v );\r\n    this.RotateAbsolute( _a );\r\n    this.AddV( _v );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.RotateAbsoluteAround = function ( _x, _y, _a ) {\r\n\r\n    this.Subtract( _x, _y );\r\n    this.RotateAbsolute( _a );\r\n    this.Add( _x, _y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.PushFromV = function ( _v, _m ) {\r\n\r\n    var d = this.Copy();\r\n    d.SubtractV( _v );\r\n    d.Normalize();\r\n    d.Multiply( _m, _m );\r\n    this.AddV( d );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.PushFrom = function ( _x, _y, _m ) {\r\n\r\n    var d = this.Copy();\r\n    d.Subtract( _x, _y );\r\n    d.Normalize();\r\n    d.Multiply( _m, _m );\r\n    this.AddV( d );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetWeightedAverage = function( _x, _y, _perc ) {\r\n\r\n    return this.FromStore(\r\n      this.x * ( 1 - _perc ) + _x * _perc,\r\n      this.y * ( 1 - _perc ) + _y * _perc\r\n    );\r\n\r\n  };\r\n\r\n  Vector2D.prototype.GetWeightedAverageV = function( _v, _perc ) {\r\n\r\n    return this.FromStore(\r\n      this.x * ( 1 - _perc ) + _v.x * _perc,\r\n      this.y * ( 1 - _perc ) + _v.y * _perc\r\n    );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetAngle = function () {\r\n\r\n    return Math.atan2( this.y, this.x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetAngleBetweenV = function ( _v ) {\r\n\r\n    return Math.atan2( this.y - _v.y, this.x - _v.x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetAngleBetween = function ( _x, _y ) {\r\n\r\n    return Math.atan2( this.y - _y, this.x - _x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDotV = function ( _v ) {\r\n\r\n    return ( this.x * _v.x + this.y * _v.y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDot = function ( _x, _y ) {\r\n\r\n    return ( this.x * _x + this.y * _y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetCrossV = function ( _v ) {\r\n\r\n    return ( this.x * _v.y + this.y * _v.x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetCross = function ( _x, _y ) {\r\n\r\n    return ( this.x * _y + this.y * _x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetMagnitudeSquared = function () {\r\n\r\n    return ( this.x * this.x + this.y * this.y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetMagnitude = function () {\r\n\r\n    return Math.sqrt( this.GetMagnitudeSquared() );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDistanceV = function ( _v ) {\r\n\r\n    var d = this.Copy();\r\n    d.SubtractV( _v );\r\n    return d.GetMagnitude();\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDistance = function ( _x, _y ) {\r\n\r\n    var d = this.Copy();\r\n    d.Subtract( _x, _y );\r\n    return d.GetMagnitude();\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDistanceSquaredV = function ( _v ) {\r\n\r\n    var d = this.Copy();\r\n    d.SubtractV( _v );\r\n    return d.GetMagnitudeSquared();\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDistanceSquared = function ( _x, _y ) {\r\n\r\n    var d = this.Copy();\r\n    d.Subtract( _x, _y );\r\n    return d.GetMagnitudeSquared();\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetPerpendicularCCWV = function ( _v ) {\r\n\r\n    return this.FromStore( -( _v.y - this.y ), _v.x - this.x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetPerpendicularCCW = function ( _x, _y ) {\r\n\r\n    return this.FromStore( -( _y - this.y ), _x - this.x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetPerpendicularCWV = function ( _v ) {\r\n\r\n    return this.FromStore( _v.y - this.y, -( _v.x - this.x ) );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetPerpendicularCW = function ( _x, _y ) {\r\n\r\n    return this.FromStore( _y - this.y, -( _x - this.x ) );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetNormalAV = function ( _v ) {\r\n\r\n    var normal = this.GetPerpendicularCCWV( _v );\r\n    normal.Normalize();\r\n    return normal;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetNormalA = function ( _x, _y ) {\r\n\r\n    var normal = this.GetPerpendicularCCW( _x, _y );\r\n    normal.Normalize();\r\n    return normal;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetNormalBV = function ( _v ) {\r\n\r\n    var normal = this.GetPerpendicularCWV( _v );\r\n    normal.Normalize();\r\n    return normal;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetNormalB = function ( _x, _y ) {\r\n\r\n    var normal = this.GetPerpendicularCW( _x, _y );\r\n    normal.Normalize();\r\n    return normal;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetMidPointV = function ( _v ) {\r\n\r\n    var mp = this.Copy();\r\n    mp.AddV( _v );\r\n    mp.Divide( 2, 2 );\r\n    return mp;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetMidPoint = function ( _x, _y ) {\r\n\r\n    var mp = this.Copy();\r\n    mp.Add( _x, _y );\r\n    mp.Multiply( 0.5, 0.5 );\r\n    return mp;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.IsEqualTo = function ( _x, _y ) {\r\n\r\n    return ( this.x === _x && this.y === _y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.IsEqualToV = function ( _v ) {\r\n\r\n    return ( this.x === _v.x && this.y === _v.y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetProjectionOntoV = function ( _v ) {\r\n\r\n    var dot = this.GetDotV( _v );\r\n    if ( dot === 0 ) return this.FromStore( 0 );\r\n    var mag = _v.GetMagnitude();\r\n    var scl = dot / ( mag * mag );\r\n    var p = _v.Copy();\r\n    p.Multiply( scl, scl );\r\n    return p;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetProjectionOnto = function ( _x, _y ) {\r\n\r\n    var p = this.Copy();\r\n    p.Set( _x, _y );\r\n    var dot = this.GetDotV( p );\r\n    if ( dot === 0 ) return this.FromStore( 0 );\r\n    var mag = p.GetMagnitude();\r\n    var scl = dot / ( mag * mag );\r\n    p.Multiply( scl, scl );\r\n    return p;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetReflectionV = function ( _v ) {\r\n\r\n    var r = _v.Copy();\r\n    var dot = this.GetDotV( r );\r\n    r.Multiply( 2, 2 );\r\n    r.Multiply( dot, dot );\r\n    return this.SubtractVC( r );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetReflection = function ( _x, _y ) {\r\n\r\n    var r = this.Copy();\r\n    r.Set( _x, _y );\r\n    var dot = this.GetDotV( r );\r\n    r.Multiply( 2, 2 );\r\n    r.Multiply( dot, dot );\r\n    return this.SubtractVC( r );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Assert = function () {\r\n\r\n    var A = Nenkraft.Utils.Assert;\r\n    A( this.x, A.IS_SAME_TYPE, 0 );\r\n    A( this.y, A.IS_SAME_TYPE, 0 );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Store = function () {\r\n\r\n    Vector2D.Pool.Store( this );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetLength = Vector2D.prototype.GetMagnitude;\r\n  Vector2D.prototype.GetLengthSquared = Vector2D.prototype.GetMagnitudeSquared;\r\n\r\n  Nenkraft.Math.Vector2D = Vector2D;\r\n  Nenkraft.Vector2D = Vector2D;\r\n\r\n  Vector2D.Pool.Flood( function () {}, 100000 );\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-vector/nk-vector2d.js\n// module id = 13\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Matrix2D () {\r\n\r\n    if ( !( this instanceof Matrix2D ) ) return new Matrix2D();\r\n    this.array = new Float32Array( 9 );\r\n  \r\n  }\r\n\r\n  Matrix2D.prototype = Object.create( null );\r\n  Matrix2D.prototype.constructor = Matrix2D;\r\n  // Static\r\n  Matrix2D.EPSILON = 0.00001;\r\n  // Members\r\n  Matrix2D.prototype.array = null;\r\n  Matrix2D.prototype.a = 1;\r\n  Matrix2D.prototype.b = 0;\r\n  Matrix2D.prototype.c = 0;\r\n  Matrix2D.prototype.d = 1;\r\n  Matrix2D.prototype.e = 0;\r\n  Matrix2D.prototype.f = 0;\r\n\r\n  // Methods\r\n  Matrix2D.prototype.Identity = function () {\r\n\r\n    this.a = 1;\r\n    this.b = 0;\r\n    this.c = 0;\r\n    this.d = 1;\r\n    this.e = 0;\r\n    this.f = 0;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Copy = function () {\r\n\r\n    var matrix = new Matrix2D();\r\n    matrix.Set( this.a, this.b, this.c, this.d, this.e, this.f );\r\n    return matrix;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Set = function ( _a, _b, _c, _d, _e, _f ) {\r\n\r\n    this.a = _a;\r\n    this.b = _b;\r\n    this.c = _c;\r\n    this.d = _d;\r\n    this.e = _e;\r\n    this.f = _f;\r\n    return this;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.SetTransform = function ( _x, _y, _sx, _sy, _r, _skx, _sky, _px, _py ) {\r\n\r\n    _x = _x == null ? 0 : _x;\r\n    _y = _y == null ? 0 : _y;\r\n    _sx = _sx == null ? 1 : _sx;\r\n    _sy = _sy == null ? 1 : _sy;\r\n    _r = _r == null ? 0 : _r;\r\n    _skx = _skx == null ? 0 : _skx;\r\n    _sky = _sky == null ? 0 : _sky;\r\n    _px = _px == null ? 0 : _px;\r\n    _py = _py == null ? 0 : _py;\r\n    var sr = Math.sin( _r );\r\n    var cr = Math.cos( _r );\r\n    var sskx = -Math.sin( _skx );\r\n    var cskx = Math.cos( _skx );\r\n    var ssky = Math.sin( _sky );\r\n    var csky = Math.cos( _sky );\r\n    var a = cr * _sx;\r\n    var b = sr * _sx;\r\n    var c = -sr * _sy;\r\n    var d = cr * _sy;\r\n    this.a = csky * a + ssky * c;\r\n    this.b = csky * b + ssky * d;\r\n    this.c = sskx * a + cskx * c;\r\n    this.d = sskx * b + cskx * d;\r\n    this.e = _x + _px * a + _py * c;\r\n    this.f = _y + _px * b + _py * d;\r\n    return this;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Translate = function ( _x, _y ) {\r\n\r\n    this.e += _x;\r\n    this.f += _y;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.TranslateTo = function( _x, _y ) {\r\n\r\n    this.e = _x;\r\n    this.f = _y;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.ApplyTranslation = function ( _x, _y ) {\r\n\r\n    this.e = _x * this.a + _y * this.c + this.e;\r\n    this.f = _x * this.b + _y * this.d + this.f;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.ApplyScale = function ( _x, _y ) {\r\n\r\n    this.a *= _x;\r\n    this.b *= _y;\r\n    this.c *= _x;\r\n    this.d *= _y;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Scale = function ( _x, _y ) {\r\n\r\n    this.a *= _x;\r\n    this.b *= _y;\r\n    this.c *= _x;\r\n    this.d *= _y;\r\n    this.e *= _x;\r\n    this.f *= _y;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Rotate = function ( _angle ) {\r\n\r\n    var sa = Math.sin( _angle );\r\n    var ca = Math.cos( _angle );\r\n    var a = this.a;\r\n    var c = this.c;\r\n    var e = this.e;\r\n    this.a = a * ca - this.b * sa;\r\n    this.b = a * sa + this.b * ca;\r\n    this.c = c * ca - this.d * sa;\r\n    this.d = c * sa + this.d * ca;\r\n    this.e = e * ca - this.f * sa;\r\n    this.f = e * sa + this.f * ca;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Decompose = function ( _transform ) {\r\n\r\n    var a = this.a;\r\n    var b = this.b;\r\n    var c = this.c;\r\n    var d = this.d;\r\n    var skx = -Math.atan2( -c, d );\r\n    var sky = Math.atan2( b, a );\r\n    var delta = Math.abs( skx + sky );\r\n\r\n    if ( delta < Matrix2D.EPSILON ) {\r\n\r\n      _transform.rotation = sky;\r\n\r\n      if ( a < 0 && d >= 0 ) {\r\n\r\n        _transform.rotation += Math.PI;\r\n      \r\n      }\r\n\r\n      _transform.skew.Set( 0 );\r\n    \r\n    } else {\r\n\r\n      _transform.skew.Set( skx, sky );\r\n    \r\n    }\r\n\r\n    _transform.scale.Set( Math.sqrt( a * a + b * b ), Math.sqrt( c * c + d * d ) );\r\n    _transform.position.Set( this.e, this.f );\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.ApplyToContext = function ( _rc ) {\r\n\r\n    _rc.setTransform( this.a, this.b, this.c, this.d, this.e, this.f );\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.AsArray = function ( _transpose ) {\r\n\r\n    var array = this.array;\r\n\r\n    if ( _transpose === true ) {\r\n\r\n      array[ 0 ] = this.a;\r\n      array[ 1 ] = this.b;\r\n      array[ 2 ] = 0;\r\n      array[ 3 ] = this.c;\r\n      array[ 4 ] = this.d;\r\n      array[ 5 ] = 0;\r\n      array[ 6 ] = this.e;\r\n      array[ 7 ] = this.f;\r\n      array[ 8 ] = 1;\r\n    \r\n    } else {\r\n\r\n      array[ 0 ] = this.a;\r\n      array[ 1 ] = this.c;\r\n      array[ 2 ] = this.e;\r\n      array[ 3 ] = this.b;\r\n      array[ 4 ] = this.d;\r\n      array[ 5 ] = this.f;\r\n      array[ 6 ] = 0;\r\n      array[ 7 ] = 0;\r\n      array[ 8 ] = 1;\r\n    \r\n    }\r\n\r\n    return array;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Matrix2D = Matrix2D;\r\n  Nenkraft.Matrix2D = Matrix2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-matrix/nk-matrix2d.js\n// module id = 14\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Basetransform2D ( _x, _y ) {\r\n\r\n    if ( !( this instanceof Basetransform2D ) ) return new Basetransform2D( _x, _y );\r\n    this.position = Nenkraft.Vector2D( _x, _y );\r\n    this.scale = Nenkraft.Vector2D( 1, 1 );\r\n    this.localTransform = Nenkraft.Vector2D( 0, 0 );\r\n    this.worldTransform = Nenkraft.Vector2D( 0, 0 );\r\n  \r\n  }\r\n\r\n  Basetransform2D.prototype = Object.create( null );\r\n  Basetransform2D.prototype.constructor = Basetransform2D;\r\n  // Static\r\n\r\n  // Members\r\n\r\n  // Methods\r\n  Basetransform2D.prototype.UpdateLocal = function () {\r\n\r\n    this.localTransform.SetV( this.position );\r\n  \r\n  };\r\n\r\n  Basetransform2D.prototype.UpdateWorld = function ( _parentWorldTransform ) {\r\n\r\n    var localTransform = this.localTransform;\r\n    localTransform.SetV( this.position );\r\n    this.worldTransform.Set( _parentWorldTransform.e + localTransform.x, _parentWorldTransform.f + localTransform.y );\r\n  \r\n  };\r\n\r\n  Basetransform2D.prototype.ApplyWorld = function ( _rc ) {\r\n\r\n    _rc.setTransform( this.scale.x, 0, 0, this.scale.y, this.worldTransform.x, this.worldTransform.y );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Basetransform2D = Basetransform2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-transform/nk-basetransform2d.js\n// module id = 15\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Transform2D ( _x, _y ) {\r\n\r\n    if ( !( this instanceof Transform2D ) ) return new Transform2D( _x, _y );\r\n    this.position = Nenkraft.Vector2D( _x, _y );\r\n    this.scale = Nenkraft.Vector2D( 1, 1 );\r\n    this.skew = Nenkraft.Vector2D( 0, 0 );\r\n    this.pivot = Nenkraft.Vector2D( 0, 0 );\r\n    this.localTransform = Nenkraft.Matrix2D();\r\n    this.worldTransform = Nenkraft.Matrix2D();\r\n  \r\n  }\r\n\r\n  Transform2D.prototype = Object.create( null );\r\n  Transform2D.prototype.constructor = Transform2D;\r\n  // Static\r\n\r\n  // Members\r\n  Transform2D.prototype.rotation = 0;\r\n  Transform2D.prototype.skewCX = 1;\r\n  Transform2D.prototype.skewSX = 0;\r\n  Transform2D.prototype.skewCY = 0;\r\n  Transform2D.prototype.skewSY = 1;\r\n\r\n  // Methods\r\n  Transform2D.prototype.Set = function ( _matrix ) {\r\n\r\n    _matrix.Decompose( this );\r\n    this.UpdateSkew();\r\n  \r\n  };\r\n\r\n  Transform2D.prototype.UpdateLocal = function () {\r\n\r\n    var localTransform = this.localTransform, position = this.position, scale = this.scale, pivot = this.pivot;\r\n\r\n    localTransform.a = this.skewCX * scale.x;\r\n    localTransform.b = this.skewSX * scale.x;\r\n    localTransform.c = this.skewCY * scale.y;\r\n    localTransform.d = this.skewSY * scale.y;\r\n\r\n    localTransform.e = position.x - pivot.x * localTransform.a + pivot.y * localTransform.c;\r\n    localTransform.f = position.y - pivot.y * localTransform.b + pivot.y * localTransform.d;\r\n  \r\n  };\r\n\r\n  Transform2D.prototype.UpdateWorld = function ( _parentWorldTransform ) {\r\n\r\n    var localTransform = this.localTransform, worldTransform = this.worldTransform, position = this.position, scale = this.scale, pivot = this.pivot;\r\n\r\n    localTransform.a = this.skewCX * scale.x;\r\n    localTransform.b = this.skewSX * scale.x;\r\n    localTransform.c = this.skewCY * scale.y;\r\n    localTransform.d = this.skewSY * scale.y;\r\n\r\n    localTransform.e = position.x - pivot.x * localTransform.a + pivot.y * localTransform.c;\r\n    localTransform.f = position.y - pivot.y * localTransform.b + pivot.y * localTransform.d;\r\n\r\n    worldTransform.a = localTransform.a * _parentWorldTransform.a + localTransform.b * _parentWorldTransform.c;\r\n    worldTransform.b = localTransform.a * _parentWorldTransform.b + localTransform.b * _parentWorldTransform.d;\r\n    worldTransform.c = localTransform.c * _parentWorldTransform.a + localTransform.d * _parentWorldTransform.c;\r\n    worldTransform.d = localTransform.c * _parentWorldTransform.b + localTransform.d * _parentWorldTransform.d;\r\n\r\n    worldTransform.e = localTransform.e * _parentWorldTransform.a + localTransform.f * _parentWorldTransform.c + _parentWorldTransform.e;\r\n    worldTransform.f = localTransform.e * _parentWorldTransform.b + localTransform.f * _parentWorldTransform.d + _parentWorldTransform.f;\r\n  \r\n  };\r\n\r\n  Transform2D.prototype.UpdateSkew = function () {\r\n\r\n    var skew = this.skew, rotation = this.rotation;\r\n    this.skewCX = Math.cos( rotation + skew.y );\r\n    this.skewSX = Math.sin( rotation + skew.y );\r\n    this.skewCY = -Math.sin( rotation - skew.x );\r\n    this.skewSY = Math.cos( rotation - skew.x );\r\n  \r\n  };\r\n\r\n  Transform2D.prototype.ApplyWorld = function ( _rc ) {\r\n\r\n    this.worldTransform.ApplyToContext( _rc );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Transform2D = Transform2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-transform/nk-transform2d.js\n// module id = 16\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var LLI = Nenkraft.Math.LineLineIntersection;\r\n  var CPOL = Nenkraft.Math.ClosestPointOnLine;\r\n\r\n  function Line2D ( _arg0, _arg1, _arg2, _arg3 ) {\r\n\r\n    if ( !( this instanceof Line2D ) ) return new Line2D( _arg0, _arg1, _arg2, _arg3 );\r\n\r\n    if ( _arg0 !== undefined && _arg0.x != null && _arg0.y != null && _arg1 !== undefined && _arg1.x != null && _arg1.y != null ) {\r\n\r\n      this.s = _arg0;\r\n      this.e = _arg1;\r\n    \r\n    }\r\n    else if ( _arg0 !== undefined && _arg1 !== undefined && _arg2 !== undefined && _arg3 !== undefined ) {\r\n\r\n      this.s = Nenkraft.Vector2D( _arg0, _arg1 );\r\n      this.e = Nenkraft.Vector2D( _arg2, _arg3 );\r\n    \r\n    }\r\n    else {\r\n\r\n      this.s = Nenkraft.Vector2D();\r\n      this.e = Nenkraft.Vector2D();\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  Line2D.prototype = Object.create( null );\r\n  Line2D.prototype.constructor = Line2D;\r\n  // Static\r\n  Line2D.TYPE = 0;\r\n  // Members\r\n  Line2D.prototype.TYPE = Line2D.TYPE;\r\n  Line2D.prototype.epsilon = 1000;\r\n  Line2D.prototype.belongsTo = null;\r\n\r\n  // Methods\r\n  Line2D.prototype.Stretch = function ( _magnitude ) {\r\n\r\n    var hm = _magnitude * 0.5;\r\n    this.s.PushFromV( this.e, hm );\r\n    this.e.PushFromV( this.s, hm );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.Rotate = function ( _angle, _anchorX, _anchorY ) {\r\n\r\n    _anchorX = _anchorX == undefined ? 0.5 : _anchorX;\r\n    var ap = this.s.Copy();\r\n    ap.AddV( this.e );\r\n    ap.Multiply( _anchorX, _anchorY == undefined ? _anchorX : _anchorY );\r\n    this.s.RotateAroundV( ap, _angle );\r\n    this.e.RotateAroundV( ap, _angle );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.Cut = function( _cuts, _points ) {\r\n\r\n    if ( _points == null ) _points = [];\r\n\r\n    for ( var i = 0; i < _cuts.length; ++i ) {\r\n\r\n      _points.push( this.s.GetWeightedAverageV( this.e, _cuts[i] ) );\r\n    \r\n    }\r\n\r\n    return _points;\r\n\r\n  };\r\n\r\n  Line2D.prototype.GetLength = function () {\r\n\r\n    return this.s.GetDistanceV( this.e );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.GetLengthSquared = function () {\r\n\r\n    return this.s.GetDistanceSquaredV( this.e );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    var s = this.s;\r\n    var e = this.e;\r\n    var cross = ( _v.y - s.y ) * ( e.x - s.x ) - ( _v.x - s.x ) * ( e.y - s.y );\r\n\r\n    if ( Math.abs( cross ) > this.epsilon ) {\r\n\r\n      return false;\r\n    \r\n    }\r\n\r\n    var dot = ( _v.x - s.x ) * ( e.x - s.x ) + ( _v.y - s.y ) * ( e.y - s.y );\r\n\r\n    if ( dot < 0 ) {\r\n\r\n      return false;\r\n    \r\n    }\r\n\r\n    if ( dot > this.GetLengthSquared() ) {\r\n\r\n      return false;\r\n    \r\n    }\r\n\r\n    return true;\r\n  \r\n  };\r\n\r\n  Line2D.prototype.IntersectsLine = function ( _line ) {\r\n\r\n    return LLI( this.s, this.e, _line.s, _line.e );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.GetClosestPointTo = function ( _v ) {\r\n\r\n    return CPOL( this.s, this.e, _v );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.GetNormalA = function () {\r\n\r\n    return this.s.GetNormalAV( this.e );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.GetNormalB = function () {\r\n\r\n    return this.s.GetNormalBV( this.e );\r\n  \r\n  };\r\n\r\n  Nenkraft.Geom.Line2D = Line2D;\r\n  Nenkraft.Geom.Ray2D = Line2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-geom/nk-line/nk-line2d.js\n// module id = 17\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function AABB2D ( _arg0, _arg1, _arg2, _arg3 ) {\r\n\r\n    if ( !( this instanceof AABB2D ) ) return new AABB2D( _arg0, _arg1, _arg2, _arg3 );\r\n\r\n    if ( _arg0 instanceof Nenkraft.Vector2D && _arg1 instanceof Nenkraft.Vector2D ) {\r\n\r\n      this.tl = _arg0;\r\n      this.br = _arg1;\r\n    \r\n    }\r\n    else if (\r\n      _arg0 !== undefined &&\r\n      _arg1 !== undefined &&\r\n      _arg0.x !== undefined &&\r\n      _arg0.y !== undefined &&\r\n      _arg1.x !== undefined &&\r\n      _arg1.y !== undefined\r\n    ) {\r\n\r\n      this.tl = Nenkraft.Vector2D( _arg0.x, _arg0.y );\r\n      this.br = Nenkraft.Vector2D( _arg1.x, _arg1.y );\r\n    \r\n    }\r\n    else if ( _arg0 !== undefined && _arg1 !== undefined && _arg2 !== undefined && _arg3 !== undefined ) {\r\n\r\n      this.tl = Nenkraft.Vector2D( _arg0, _arg1 );\r\n      this.br = Nenkraft.Vector2D( _arg2, _arg3 );\r\n    \r\n    }\r\n    else {\r\n\r\n      this.tl = Nenkraft.Vector2D();\r\n      this.br = Nenkraft.Vector2D();\r\n    \r\n    }\r\n\r\n    this.ComputeWH();\r\n  \r\n  }\r\n\r\n  AABB2D.prototype = Object.create( null );\r\n  AABB2D.prototype.constructor = AABB2D;\r\n  // Static\r\n  AABB2D.TYPE = 1;\r\n  AABB2D.TOP_LEFT = 'TL';\r\n  AABB2D.TOP_RIGHT = 'TR';\r\n  AABB2D.BOTTOM_LEFT = 'BL';\r\n  AABB2D.BOTTOM_RIGHT = 'BR';\r\n  // Members\r\n  AABB2D.prototype.TYPE = AABB2D.TYPE;\r\n  AABB2D.prototype.w = 0;\r\n  AABB2D.prototype.h = 0;\r\n  AABB2D.prototype.hw = 0;\r\n  AABB2D.prototype.hh = 0;\r\n  AABB2D.prototype.area = 0;\r\n  AABB2D.prototype.belongsTo = null;\r\n\r\n  // Methods\r\n  AABB2D.prototype.Set = function ( _tlx, _tly, _brx, _bry ) {\r\n\r\n    this.tl.x = _tlx;\r\n    this.tl.y = _tly;\r\n    this.br.x = _brx;\r\n    this.br.y = _bry;\r\n    this.ComputeWH();\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.SetC = function ( _aabb ) {\r\n\r\n    this.Set( _aabb.tl.x, _aabb.tl.y, _aabb.br.x, _aabb.br.y );\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.Scale = function ( _x, _y ) {\r\n\r\n    this.tl.Multiply( _x, _y );\r\n    this.br.Multiply( _x, _y );\r\n    this.ComputeWH();\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.ComputeWH = function () {\r\n\r\n    this.w = this.br.x - this.tl.x;\r\n    this.h = this.br.y - this.tl.y;\r\n    this.hw = this.w * 0.5;\r\n    this.hh = this.h * 0.5;\r\n    this.area = this.w * this.h;\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.GetQuadrant = function ( _quadrant ) {\r\n\r\n    var tl = this.tl, br = this.br;\r\n\r\n    switch ( _quadrant ) {\r\n\r\n      case AABB2D.TOP_LEFT:\r\n        return AABB2D(\r\n          tl.x,\r\n          tl.y,\r\n          tl.x + this.hw,\r\n          tl.y + this.hh\r\n        );\r\n      case AABB2D.TOP_RIGHT:\r\n        return AABB2D(\r\n          tl.x + this.hw,\r\n          tl.y,\r\n          br.x,\r\n          tl.y + this.hh\r\n        );\r\n      case AABB2D.BOTTOM_LEFT:\r\n        return AABB2D(\r\n          tl.x,\r\n          tl.y + this.hh,\r\n          tl.x + this.hw,\r\n          br.y\r\n        );\r\n      case AABB2D.BOTTOM_RIGHT:\r\n        return AABB2D(\r\n          tl.x + this.hw,\r\n          tl.y + this.hh,\r\n          br.x,\r\n          br.y\r\n        );\r\n      default:\r\n        return null;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    return !( _v.x < this.tl.x || _v.x > this.br.x || _v.y < this.tl.y || _v.y > this.br.y );\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.ContainsPoint = function ( _v ) {\r\n\r\n    return ( _v.x > this.tl.x && _v.x < this.br.x && _v.y > this.tl.y && _v.y < this.br.y );\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.IntersectsAABB2D = function ( _aabb ) {\r\n\r\n    var tl1 = this.tl, br1 = this.br, tl2 = _aabb.tl, br2 = _aabb.br;\r\n    return !( tl2.x >= br1.x || tl2.y >= br1.y || br2.x <= tl1.x || br2.y <= tl1.y );\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.ContainsAABB2D = function ( _aabb ) {\r\n\r\n    if ( _aabb.area > this.area ) {\r\n\r\n      return false;\r\n    \r\n    }\r\n\r\n    var tl1 = this.tl, br1 = this.br, tl2 = _aabb.tl, br2 = _aabb.br;\r\n    return ( tl2.x >= tl1.x && tl2.y >= tl1.y && br2.x <= br1.x && br2.y <= br1.y );\r\n  \r\n  };\r\n\r\n  Nenkraft.Geom.AABB2D = AABB2D;\r\n  Nenkraft.AABB2D = AABB2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-geom/nk-aabb/nk-aabb2d.js\n// module id = 18\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  var RF = Nenkraft.Utils.RandomFloat;\r\n  var RI = Nenkraft.Utils.RandomInteger;\r\n\r\n  function Polygon2D ( _vertices ) {\r\n\r\n    if ( !( this instanceof Polygon2D ) ) return new Polygon2D( _vertices );\r\n    this.vertices = [];\r\n    this.normals = [];\r\n    this.perimeterMidPoints = [];\r\n    this.centroid = Nenkraft.Vector2D();\r\n\r\n    if ( _vertices != null ) {\r\n\r\n      if ( _vertices[ 0 ] instanceof Nenkraft.Vector2D ) {\r\n\r\n        this.AddPoints( _vertices );\r\n      \r\n      } else {\r\n\r\n        this.PushPoints( _vertices );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  Polygon2D.prototype = Object.create( null );\r\n  Polygon2D.prototype.constructor = Polygon2D;\r\n  // Static\r\n  Polygon2D.TYPE = 3;\r\n\r\n  Polygon2D.CreateCopy = function ( _polygon ) {\r\n\r\n    var p = new Polygon2D();\r\n\r\n    for ( var i = 0, vertices = _polygon.vertices, l = vertices.length; i < l; ++i ) {\r\n\r\n      p.AddPoint( vertices[ i ].Copy() );\r\n    \r\n    }\r\n\r\n    return p;\r\n  \r\n  };\r\n\r\n  Polygon2D.ExtractSegments = function( _polygon, _segments ) {\r\n\r\n    if ( _segments == null ) _segments = [];\r\n\r\n    for (\r\n      var i = 0, vertices = _polygon.vertices, vertex = vertices[ i ], l = vertices.length - 1;\r\n      i < l;\r\n      vertex = vertices[ ++i ] ) {\r\n\r\n      _segments.push( Nenkraft.Geom.Line2D( vertex, vertices[ i + 1 ] ) );\r\n    \r\n    }\r\n\r\n    _segments.push( Nenkraft.Geom.Line2D( vertices[ l ], vertices[ 0 ] ) );\r\n\r\n    return _segments;\r\n  \r\n  };\r\n\r\n  Polygon2D.GenerateRandomPoints = function( _polygon, _amount, _int, _outside ) {\r\n\r\n    _polygon.ComputeBounds();\r\n    if ( _outside == null ) _outside = false;\r\n\r\n    var randFunc = RF;\r\n    var tl = _polygon.aabb.tl;\r\n    var br = _polygon.aabb.br;\r\n    var points = [];\r\n\r\n    if ( _int === true ) randFunc = RI;\r\n\r\n    for ( var i = 0; i < _amount; ++i ) {\r\n      \r\n      var point = Nenkraft.Vector2D( randFunc( tl.x, br.x ), randFunc( tl.y, br.y ) );\r\n\r\n      while ( _polygon.IntersectsPoint( point ) === _outside ) {\r\n\r\n        point.Set( randFunc( tl.x, br.x ), randFunc( tl.y, br.y ) );\r\n\r\n      }\r\n\r\n      points.push( point );\r\n\r\n    }\r\n\r\n    return points;\r\n\r\n  };\r\n\r\n  Polygon2D.Construct = Object.create( null );\r\n\r\n  Polygon2D.Construct.Rectangular = function ( _po, _x, _y, _w, _h ) {\r\n\r\n    var tl = Nenkraft.Vector2D( _x, _y );\r\n    var tr = Nenkraft.Vector2D( _x + _w, _y );\r\n    var br = Nenkraft.Vector2D( _x + _w, _y + _h );\r\n    var bl = Nenkraft.Vector2D( _x, _y + _h );\r\n    _po.Recreate( [ tl, tr, br, bl ] );\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Isosceles = function ( _po, _x, _y, _w, _h ) {\r\n\r\n    var tm = Nenkraft.Vector2D( _x, _y );\r\n    var br = Nenkraft.Vector2D( _x + _w * 0.5, _y + _h );\r\n    var bl = Nenkraft.Vector2D( _x - _w * 0.5, _y + _h );\r\n    _po.Recreate( [ tm, br, bl ] );\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Cyclic = function ( _po, _x, _y, _ra, _acc ) {\r\n\r\n    var i = 0, l = _acc, x, y, th, an = Math.PI * 2 / l;\r\n    _po.Recreate( [] );\r\n\r\n    for ( i; i < l; ++i ) {\r\n\r\n      th = an * i;\r\n      x = Math.cos( th ) * _ra;\r\n      y = Math.sin( th ) * _ra;\r\n      _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    \r\n    }\r\n\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Equilateral = function ( _po, _x, _y, _side ) {\r\n\r\n    var th = 2.0943951023931953;\r\n    var x, y;\r\n    _po.Recreate( [] );\r\n    x = Math.cos( 0 ) * _side;\r\n    y = Math.sin( 0 ) * _side;\r\n    _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    x = Math.cos( th ) * _side;\r\n    y = Math.sin( th ) * _side;\r\n    _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    x = Math.cos( th * 2 ) * _side;\r\n    y = Math.sin( th * 2 ) * _side;\r\n    _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    _po.Rotate( Nenkraft.Math.RADIAN * -90 );\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Star = function ( _po, _x, _y, _ora, _ira, _cors ) {\r\n\r\n    var i = 0, l = _cors * 2, x, y, th, an = Math.PI * 2 / l, ra;\r\n    _po.Recreate( [] );\r\n\r\n    for ( i; i < l; ++i ) {\r\n\r\n      ra = ( i & 1 ) === 0 ? _ora : _ira;\r\n      th = an * i;\r\n      x = Math.cos( th ) * ra;\r\n      y = Math.sin( th ) * ra;\r\n      _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    \r\n    }\r\n\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Butterfly = function ( _po, _x, _y, _n, _ra ) {\r\n\r\n    var i = 0, x, y, u, c = Polygon2D.Construct.Butterfly.C;\r\n    _po.Recreate( [] );\r\n\r\n    for ( i; i < _n; ++i ) {\r\n\r\n      u = i * c._1 * Math.PI / _n;\r\n      x = Math.cos( u ) * ( Math.exp( Math.cos( u ) ) - c._2 * Math.cos( c._3 * u ) - Math.pow( Math.sin( u / c._4 ), c._5 ) ) * _ra;\r\n      y = Math.sin( u ) * ( Math.exp( Math.cos( u ) ) - c._2 * Math.cos( c._3 * u ) - Math.pow( Math.sin( u / c._4 ), c._5 ) ) * _ra;\r\n      _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    \r\n    }\r\n\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Butterfly.C = {\r\n    _1: 24,\r\n    _2: 2,\r\n    _3: 4,\r\n    _4: 12,\r\n    _5: 5,\r\n    Reset: function () {\r\n\r\n      this._1 = 24;\r\n      this._2 = 2;\r\n      this._3 = 4;\r\n      this._4 = 12;\r\n      this._5 = 5;\r\n    \r\n    }\r\n  };\r\n\r\n  Polygon2D.Construct.Supershape = function ( _po, _x, _y, _ra, _acc, _m, _n1, _n2, _n3 ) {\r\n\r\n    _n1 = _n1 === undefined ? 1 : _n1;\r\n    _n2 = _n2 === undefined ? 1 : _n2;\r\n    _n3 = _n3 === undefined ? 1 : _n3;\r\n    var i = 0, l = _acc, x, y, a, r, c = Polygon2D.Construct.Supershape.C, t1, t2;\r\n    _po.Recreate( [] );\r\n\r\n    for ( i; i < l; ++i ) {\r\n\r\n      a = i * Math.PI * 2 / _acc;\r\n\r\n      t1 = Math.cos( _m * a / 4 ) / c._A;\r\n      t1 = Math.abs( t1 );\r\n      t1 = Math.pow( t1, _n2 );\r\n\r\n      t2 = Math.sin( _m * a / 4 ) / c._B;\r\n      t2 = Math.abs( t2 );\r\n      t2 = Math.pow( t2, _n3 );\r\n\r\n      r = Math.pow( t1 + t2, 1 / _n1 );\r\n\r\n      if ( Math.abs( r ) === 0 ) {\r\n\r\n        x = 0;\r\n        y = 0;\r\n      \r\n      }\r\n      else {\r\n\r\n        r = 1 / r;\r\n        x = Math.cos( a ) * r * _ra;\r\n        y = Math.sin( a ) * r * _ra;\r\n      \r\n      }\r\n\r\n      _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    \r\n    }\r\n\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Supershape.C = {\r\n    _A: 1,\r\n    _B: 1\r\n  };\r\n  // Members\r\n  Polygon2D.prototype.TYPE = Polygon2D.TYPE;\r\n  Polygon2D.prototype.aabb = null;\r\n  Polygon2D.prototype.dirtyBounds = true;\r\n  Polygon2D.prototype.belongsTo = null;\r\n\r\n  // Methods\r\n  Polygon2D.prototype.AddPoint = function ( _p ) {\r\n\r\n    this.vertices.push( _p );\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.AddPoints = function ( _ps ) {\r\n\r\n    this.vertices.push.apply( this.vertices, _ps );\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.PushPoint = function ( _x, _y ) {\r\n\r\n    this.vertices.push( Nenkraft.Vector2D( _x, _y ) );\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.PushPoints = function ( _ps ) {\r\n\r\n    for ( var i = 0, l = _ps.length; i < l; i += 2 ) {\r\n\r\n      this.PushPoint( _ps[ i ], _ps[ i + 1 ] );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.Recreate = function ( _ps ) {\r\n\r\n    this.vertices.length = 0;\r\n    if ( _ps != undefined ) this.vertices.push.apply( this.vertices, _ps );\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.ComputeBounds = function () {\r\n\r\n    if ( this.aabb === null ) this.aabb = Nenkraft.Geom.AABB2D();\r\n    var mix = Infinity, max = -mix, miy = mix, may = -mix;\r\n\r\n    for ( var i = 0, ps = this.vertices, l = ps.length, p; i < l; ++i ) {\r\n\r\n      p = ps[ i ];\r\n      if ( p.x < mix ) mix = p.x;\r\n      if ( p.x > max ) max = p.x;\r\n      if ( p.y < miy ) miy = p.y;\r\n      if ( p.y > may ) may = p.y;\r\n    \r\n    }\r\n\r\n    this.aabb.Set( mix, miy, max, may );\r\n    this.dirtyBounds = false;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.Rotate = function ( _angle, _anchorX, _anchorY, _updateBounds ) {\r\n\r\n    if ( this.dirtyBounds === true && _updateBounds === true ) this.ComputeBounds();\r\n    else if ( this.aabb === null ) this.ComputeBounds();\r\n    _anchorX = _anchorX === undefined ? 0.5 : _anchorX;\r\n    var aabb = this.aabb;\r\n    var ap = aabb.tl.Copy();\r\n    ap.AddV( aabb.br );\r\n    ap.Multiply( _anchorX, _anchorY === undefined ? _anchorX : _anchorY );\r\n    var i = 0, ps = this.vertices, l = ps.length, p;\r\n\r\n    for ( i; i < l; ++i ) {\r\n\r\n      p = ps[ i ];\r\n      p.RotateAroundV( ap, _angle );\r\n    \r\n    }\r\n\r\n    this.dirtyBounds = true;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.GetCentroid = function () {\r\n\r\n    var centroid = this.centroid;\r\n    centroid.Set( 0, 0 );\r\n\r\n    for ( var i = 0, ps = this.vertices, l = ps.length, p; i < l; ++i ) {\r\n\r\n      p = ps[ i ];\r\n      centroid.AddV( p );\r\n    \r\n    }\r\n\r\n    centroid.Divide( l, l );\r\n    return centroid;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.GetNormalsA = function () {\r\n\r\n    var normals = this.normals;\r\n    normals.length = 0;\r\n\r\n    for (\r\n      var i = 0, vertices = this.vertices, vertex = vertices[ i ], l = this.vertices.length - 1;\r\n      i < l;\r\n      vertex = vertices[ ++i ] ) {\r\n\r\n      normals.push( vertex.GetNormalAV( vertices[ i + 1 ] ) );\r\n    \r\n    }\r\n\r\n    normals.push( vertices[ l ].GetNormalAV( vertices[ 0 ] ) );\r\n    return normals;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.GetNormalsB = function () {\r\n\r\n    var normals = this.normals;\r\n    normals.length = 0;\r\n\r\n    for (\r\n      var i = 0, vertices = this.vertices, vertex = vertices[ i ], l = vertices.length - 1;\r\n      i < l;\r\n      vertex = vertices[ ++i ] ) {\r\n\r\n      normals.push( vertex.GetNormalBV( vertices[ i + 1 ] ) );\r\n    \r\n    }\r\n\r\n    normals.push( vertices[ l ].GetNormalBV( vertices[ 0 ] ) );\r\n    return normals;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.GetPerimeterMidPoints = function () {\r\n\r\n    var perimeterMidPoints = this.perimeterMidPoints;\r\n    perimeterMidPoints.length = 0;\r\n\r\n    for (\r\n      var i = 0, vertices = this.vertices, vertex = vertices[ i ], l = vertices.length - 1;\r\n      i < l;\r\n      vertex = vertices[ ++i ] ) {\r\n\r\n      perimeterMidPoints.push( vertex.GetMidPointV( vertices[ i + 1 ] ) );\r\n    \r\n    }\r\n\r\n    perimeterMidPoints.push( vertices[ l ].GetMidPointV( vertices[ 0 ] ) );\r\n    return perimeterMidPoints;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    if ( this.dirtyBounds === true ) this.ComputeBounds();\r\n    if ( this.aabb.IntersectsPoint( _v ) === false ) return false;\r\n    var x = _v.x;\r\n    var y = _v.y;\r\n    var intersects = false;\r\n    var i, j;\r\n    var vertices = this.vertices;\r\n    var vertexi, vertexj;\r\n    var l = vertices.length;\r\n\r\n    for ( i = 0, j = l - 1; i < l; j = i++ ) {\r\n\r\n      vertexi = vertices[ i ];\r\n      vertexj = vertices[ j ];\r\n\r\n      if (\r\n        ( ( vertexi.y > y ) !== ( vertexj.y > y ) ) &&\r\n        ( x < ( vertexj.x - vertexi.x ) * ( y - vertexi.y ) / ( vertexj.y - vertexi.y ) + vertexi.x )\r\n      ) {\r\n\r\n        intersects = !intersects;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return intersects;\r\n  \r\n  };\r\n\r\n  Nenkraft.Geom.Polygon2D = Polygon2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-geom/nk-polygon/nk-polygon2d.js\n// module id = 19\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  var RF = Nenkraft.Utils.RandomFloat;\r\n  var RI = Nenkraft.Utils.RandomInteger;\r\n\r\n  function Circle ( _x, _y, _radius ) {\r\n\r\n    if ( !( this instanceof Circle ) ) return new Circle( _x, _y, _radius );\r\n    this.center = Nenkraft.Vector2D( _x, _y );\r\n    this.radius = _radius === undefined ? 32 : _radius;\r\n  \r\n  }\r\n\r\n  Circle.prototype = Object.create( null );\r\n  Circle.prototype.constructor = Circle;\r\n  // Static\r\n  Circle.TYPE = 2;\r\n\r\n  Circle.GenerateRandomPoints = function( _circle, _amount, _int, _outside ) {\r\n\r\n    if ( _outside == null ) _outside = false;\r\n\r\n    var randFunc = RF;\r\n    var tl = Nenkraft.Vector2D( _circle.x - _circle.radius, _circle.y - _circle.radius );\r\n    var br = Nenkraft.Vector2D( _circle.x + _circle.radius, _circle.y + _circle.radius );\r\n    var points = [];\r\n\r\n    if ( _int === true ) randFunc = RI;\r\n\r\n    for ( var i = 0; i < _amount; ++i ) {\r\n      \r\n      var point = Nenkraft.Vector2D( randFunc( tl.x, br.x ), randFunc( tl.y, br.y ) );\r\n\r\n      while ( _circle.IntersectsPoint( point ) === _outside ) {\r\n\r\n        point.Set( randFunc( tl.x, br.x ), randFunc( tl.y, br.y ) );\r\n\r\n      }\r\n\r\n      points.push( point );\r\n\r\n    }\r\n\r\n    return points;\r\n\r\n  };\r\n\r\n  // Members\r\n  Circle.prototype.TYPE = Circle.TYPE;\r\n  Circle.prototype.diameter = 0;\r\n  Circle.prototype.w = 0;\r\n  Circle.prototype.h = 0;\r\n  Circle.prototype.radiusSquared = 0;\r\n  Circle.prototype.radiusUnsquared = 0;\r\n  Circle.prototype.area = 0;\r\n  Circle.prototype.belongsTo = null;\r\n\r\n  // Methods\r\n  Circle.prototype.Set = function ( _x, _y, _radius ) {\r\n\r\n    this.center.Set( _x, _y );\r\n    this.radius = _radius;\r\n  \r\n  };\r\n\r\n  Circle.prototype.SetC = function ( _circle ) {\r\n\r\n    this.center.SetV( _circle );\r\n    this.radius = _circle.radius;\r\n  \r\n  };\r\n\r\n  Circle.prototype.Scale = function ( _scale ) {\r\n\r\n    this.radius *= _scale;\r\n  \r\n  };\r\n\r\n  Circle.prototype.IntersectsCircle = function ( _circle ) {\r\n\r\n    var radii = this.radius + _circle.radius;\r\n    return ( radii * radii >= this.center.GetDistanceSquaredV( _circle.center ) );\r\n  \r\n  };\r\n\r\n  Circle.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    return ( this.radiusSquared >= this.center.GetDistanceSquaredV( _v ) );\r\n  \r\n  };\r\n\r\n  Object.defineProperty( Circle.prototype, 'x', {\r\n    set: function ( _value ) {\r\n\r\n      this.center.x = _value;\r\n    \r\n    },\r\n    get: function () {\r\n\r\n      return this.center.x;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Circle.prototype, 'y', {\r\n    set: function ( _value ) {\r\n\r\n      this.center.y = _value;\r\n    \r\n    },\r\n    get: function () {\r\n\r\n      return this.center.y;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Circle.prototype, 'radius', {\r\n    set: function ( _value ) {\r\n\r\n      this.radiusUnsquared = _value;\r\n      this.radiusSquared = _value * _value;\r\n      this.diameter = this.w = this.h = _value * 2;\r\n      this.area = Math.PI * _value * _value;\r\n    \r\n    },\r\n    get: function () {\r\n\r\n      return this.radiusUnsquared;\r\n    \r\n    }\r\n  } );\r\n  Nenkraft.Geom.Circle = Circle;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-geom/nk-circle/nk-circle.js\n// module id = 20\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Collision2D = Object.create( null );\r\n  Collision2D.AABB2DvsAABB2D = Object.create( null );\r\n  Collision2D.AABB2DvsAABB2D.Relative = Object.create( null );\r\n  Collision2D.CirclevsCircle = Object.create( null );\r\n  Collision2D.CirclevsCircle.Relative = Object.create( null );\r\n  Collision2D.PolygonvsPolygon = Object.create( null );\r\n  Collision2D.PolygonvsPolygon.Relative = Object.create( null );\r\n  Collision2D.CirclevsLine = Object.create( null );\r\n  Collision2D.CirclevsLine.Relative = Object.create( null );\r\n\r\n  Collision2D.VectorSortMinMag = function ( _a, _b ) {\r\n\r\n    return _a.GetMagnitudeSquared() - _b.GetMagnitudeSquared();\r\n  \r\n  };\r\n\r\n  var V2DMMD = Nenkraft.Vector2D.GetMinMaxDot;\r\n  var CPOL = Nenkraft.Math.ClosestPointOnLine;\r\n\r\n  Collision2D.AABB2DvsAABB2D.Result = function () {\r\n\r\n    this.mtv = Nenkraft.Vector2D();\r\n  \r\n  };\r\n\r\n  Collision2D.AABB2DvsAABB2D.Result.prototype.occured = false;\r\n\r\n  Collision2D.AABB2DvsAABB2D.Result.prototype.Reset = function () {\r\n\r\n    this.mtv.Set( 0, 0 );\r\n    this.occured = false;\r\n  \r\n  };\r\n\r\n  Collision2D.AABB2DvsAABB2D.Relative.Collide = function ( _obj1, _obj2, _result ) {\r\n\r\n    var aabb1 = _obj1.shape, w1 = aabb1.w, h1 = aabb1.h, anchor1 = _obj1.anchor;\r\n    var aabb2 = _obj2.shape, w2 = aabb2.w, h2 = aabb2.h, anchor2 = _obj2.anchor;\r\n    var tl1 = aabb1.tl.SubtractVC( _obj1.relative );\r\n    var tl2 = aabb2.tl.SubtractVC( _obj2.relative );\r\n\r\n    if ( anchor1 != undefined ) {\r\n\r\n      tl1.x += anchor1.x * w1;\r\n      tl1.y += anchor1.y * h1;\r\n    \r\n    }\r\n\r\n    if ( anchor2 != undefined ) {\r\n\r\n      tl2.x += anchor2.x * w2;\r\n      tl2.y += anchor2.y * h2;\r\n    \r\n    }\r\n\r\n    var tl2xw = tl2.x + w1;\r\n    var tl1xw = tl1.x + w2;\r\n    var br2yh = tl2.y + h1;\r\n    var br1yh = tl1.y + h2;\r\n\r\n    if (\r\n      tl1.x < tl2xw &&\r\n      tl2.x < tl1xw &&\r\n      tl1.y < br2yh &&\r\n      tl2.y < br1yh\r\n    ) {\r\n\r\n      if ( _result != undefined ) {\r\n\r\n        var tvs = [\r\n          Nenkraft.Vector2D( tl1.x - tl2xw, 0 ),\r\n          Nenkraft.Vector2D( tl1xw - tl2.x, 0 ),\r\n          Nenkraft.Vector2D( 0, tl1.y - br2yh ),\r\n          Nenkraft.Vector2D( 0, br1yh - tl2.y )\r\n        ];\r\n        tvs.sort( Collision2D.VectorSortMinMag );\r\n        _result.mtv.SetV( tvs[ 0 ] );\r\n        _result.occured = true;\r\n      \r\n      }\r\n\r\n      return true;\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsCircle.Result = function () {\r\n\r\n    this.mtv = Nenkraft.Vector2D( 0, 0 );\r\n    this.poc = {\r\n      a: null,\r\n      b: null,\r\n      c: null\r\n    };\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsCircle.Result.prototype.mtd = 0;\r\n  Collision2D.CirclevsCircle.Result.prototype.delta = null;\r\n  Collision2D.CirclevsCircle.Result.prototype.occured = false;\r\n\r\n  Collision2D.CirclevsCircle.Result.prototype.Reset = function () {\r\n\r\n    this.poc.a = null;\r\n    this.poc.b = null;\r\n    this.poc.c = null;\r\n    this.mtv.Set( 0, 0 );\r\n    this.mtd = 0;\r\n    this.delta = null;\r\n    this.occured = false;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsCircle.Relative.Collide = function ( _obj1, _obj2, _result ) {\r\n\r\n    var c1 = _obj1.shape, c2 = _obj2.shape;\r\n    var r1 = c1.radius, r2 = c2.radius;\r\n    var radii = r1 + r2;\r\n    var anchor1 = _obj1.anchor, anchor2 = _obj2.anchor;\r\n    var pos1 = _obj1.relative.Copy();\r\n    var pos2 = _obj2.relative.Copy();\r\n\r\n    if ( anchor1 != undefined ) {\r\n\r\n      pos1.x += anchor1.x * c1.diameter;\r\n      pos1.y += anchor1.y * c1.diameter;\r\n    \r\n    }\r\n\r\n    if ( anchor2 != undefined ) {\r\n\r\n      pos2.x += anchor2.x * c2.diameter;\r\n      pos2.y += anchor2.y * c2.diameter;\r\n    \r\n    }\r\n\r\n    var delta = pos2.SubtractVC( pos1 );\r\n    var distanceSq = delta.GetMagnitudeSquared();\r\n\r\n    if ( radii * radii > distanceSq ) {\r\n\r\n      if ( _result != undefined ) {\r\n\r\n        var distance = Math.sqrt( distanceSq );\r\n        var dm = ( c1.radiusSquared - c2.radiusSquared + distanceSq ) / ( distance + distance );\r\n        var poc1 = Nenkraft.Vector2D(\r\n          pos1.x + ( delta.x * dm / distance ),\r\n          pos1.y + ( delta.y * dm / distance )\r\n        );\r\n        var de = Math.sqrt( ( c1.radiusSquared ) - ( dm * dm ) ) / distance;\r\n        var rx = -delta.y * de;\r\n        var ry = delta.x * de;\r\n        var poc2 = Nenkraft.Vector2D(\r\n          poc1.x + rx,\r\n          poc1.y + ry\r\n        );\r\n        var poc3 = Nenkraft.Vector2D(\r\n          poc1.x - rx,\r\n          poc1.y - ry\r\n        );\r\n        var mtv = pos1.SubtractVC( pos2 );\r\n        mtv.Divide( radii, radii );\r\n        var mtd = distance - r1 - r2;\r\n        _result.poc.a = poc1;\r\n        _result.poc.b = poc2;\r\n        _result.poc.c = poc3;\r\n        _result.mtv.SetV( mtv );\r\n        _result.mtd = mtd;\r\n        _result.delta = delta;\r\n        _result.occured = true;\r\n      \r\n      }\r\n\r\n      return true;\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsCircle.Relative.ElasticResponse = function ( _obj1, _obj2, _result ) {\r\n\r\n    var n = _result.delta.Copy();\r\n    var mtv = _result.mtv.Copy();\r\n    n.Normalize();\r\n    var m1 = _obj1.mass;\r\n    var m2 = _obj2.mass;\r\n    var v1 = _obj1.velocity;\r\n    var v2 = _obj2.velocity;\r\n    var a1 = v1.GetDotV( n );\r\n    var a2 = v2.GetDotV( n );\r\n    var op = 2 * ( a1 - a2 ) / ( m1 + m2 );\r\n    v1.Set(\r\n      v1.x - op * m2 * n.x,\r\n      v1.y - op * m2 * n.y\r\n    );\r\n    v2.Set(\r\n      v2.x + op * m1 * n.x,\r\n      v2.y + op * m1 * n.y\r\n    );\r\n    mtv.Multiply( _result.mtd, _result.mtd );\r\n    mtv.Divide( 2, 2 );\r\n    _obj1.relative.SubtractV( mtv );\r\n    _obj2.relative.AddV( mtv );\r\n  \r\n  };\r\n\r\n  Collision2D.PolygonvsPolygon.Result = function () {\r\n\r\n    this.mtv = Nenkraft.Vector2D( 0, 0 );\r\n    this.olAxis = Nenkraft.Vector2D( 0, 0 );\r\n  \r\n  };\r\n\r\n  Collision2D.PolygonvsPolygon.Result.prototype.occured = false;\r\n  Collision2D.PolygonvsPolygon.Result.prototype.mtd = Infinity;\r\n\r\n  Collision2D.PolygonvsPolygon.Result.prototype.Reset = function () {\r\n\r\n    this.occured = false;\r\n    this.mtv.Set( 0, 0 );\r\n    this.mtd = Infinity;\r\n    this.olAxis.Set( 0, 0 );\r\n  \r\n  };\r\n\r\n  var AS = Collision2D.PolygonvsPolygon.Relative.AxisSeparates = function ( _obj1, _obj2, _axis, _result ) {\r\n\r\n    var d1 = V2DMMD( _obj1.shape.vertices, _axis );\r\n    var d2 = V2DMMD( _obj2.shape.vertices, _axis );\r\n    var offset = _obj2.relative.SubtractVC( _obj1.relative ).GetDotV( _axis );\r\n    d2.Add( offset, offset );\r\n\r\n    if ( d1.x > d2.y || d2.x > d1.y ) {\r\n\r\n      return true;\r\n    \r\n    }\r\n\r\n    if ( _result != undefined ) {\r\n\r\n      var mtd = 0;\r\n      var d1x = d1.x;\r\n      var d1y = d1.y;\r\n      var d2x = d2.x;\r\n      var d2y = d2.y;\r\n      var o1 = 0, o2 = 0;\r\n\r\n      if ( d1x < d2x ) {\r\n\r\n        if ( d1y < d2y ) {\r\n\r\n          mtd = d1y - d2x;\r\n        \r\n        } else {\r\n\r\n          o1 = d1y - d2x;\r\n          o2 = d2y - d1x;\r\n\r\n          if ( o1 < o2 ) {\r\n\r\n            mtd = o1;\r\n          \r\n          } else {\r\n\r\n            mtd = -o2;\r\n          \r\n          }\r\n        \r\n        }\r\n      \r\n      } else if ( d1y > d2y ) {\r\n\r\n        mtd = d1x - d2y;\r\n        \r\n      } else {\r\n\r\n        o1 = d1y - d2x;\r\n        o2 = d2y - d1x;\r\n\r\n        if ( o1 < o2 ) {\r\n\r\n          mtd = o1;\r\n          \r\n        } else {\r\n\r\n          mtd = -o2;\r\n          \r\n        }\r\n        \r\n      }\r\n\r\n      var absMtd = Math.abs( mtd );\r\n\r\n      if ( absMtd < _result.mtd ) {\r\n\r\n        _result.mtd = absMtd;\r\n        _result.olAxis.SetV( _axis );\r\n\r\n        if ( mtd < 0 ) {\r\n\r\n          _result.olAxis.Invert();\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Collision2D.PolygonvsPolygon.Relative.Collide = function ( _obj1, _obj2, _result ) {\r\n\r\n    var p1 = _obj1.shape;\r\n    var p2 = _obj2.shape;\r\n    var p1Normals = p1.normals;\r\n    var p2Normals = p2.normals;\r\n    var i = 0, p1l = p1Normals.length, p2l = p2Normals.length;\r\n\r\n    for ( i; i < p1l; ++i ) {\r\n\r\n      if ( AS( _obj1, _obj2, p1Normals[ i ], _result ) === true ) {\r\n\r\n        return false;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    for ( i = 0; i < p2l; ++i ) {\r\n\r\n      if ( AS( _obj1, _obj2, p2Normals[ i ], _result ) === true ) {\r\n\r\n        return false;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    if ( _result != undefined ) {\r\n\r\n      _result.mtv.SetV( _result.olAxis );\r\n      _result.mtv.Multiply( _result.mtd, _result.mtd );\r\n      _result.occured = true;\r\n    \r\n    }\r\n\r\n    return true;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsLine.Result = function () {\r\n\r\n    this.mtv = Nenkraft.Vector2D( 0, 0 );\r\n    this.cp = Nenkraft.Vector2D( 0, 0 );\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsLine.Result.prototype.occured = false;\r\n  Collision2D.CirclevsLine.Result.prototype.sore = 0;\r\n\r\n  Collision2D.CirclevsLine.Result.prototype.Reset = function () {\r\n\r\n    this.mtv.Set( 0, 0 );\r\n    this.cp.Set( 0, 0 );\r\n    this.occured = false;\r\n    this.sore = 0;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsLine.Relative.Collide = function ( _c, _l, _result ) {\r\n\r\n    var lshape = _l.shape;\r\n    var cshape = _c.shape;\r\n    var lpos = _l.relative;\r\n    var cpos = _c.relative;\r\n    var s = lshape.s.AddVC( lpos );\r\n    var e = lshape.e.AddVC( lpos );\r\n    var cp = CPOL( s, e, cpos );\r\n    var delta = cpos.SubtractVC( cp );\r\n    var distanceSq = delta.GetMagnitudeSquared();\r\n\r\n    if ( distanceSq < cshape.radiusSquared ) {\r\n\r\n      if ( _result ) {\r\n\r\n        var mtv = delta;\r\n        var distance = cshape.radius - Math.sqrt( distanceSq );\r\n        mtv.Normalize();\r\n        mtv.Multiply( distance, distance );\r\n        _result.mtv.SetV( mtv );\r\n        _result.cp.SetV( cp );\r\n        _result.occured = true;\r\n\r\n        if ( cp === s ) {\r\n\r\n          _result.sore = 1;\r\n        \r\n        } else if ( cp === e ) {\r\n\r\n          _result.sore = 2;\r\n        \r\n        }\r\n      \r\n      }\r\n\r\n      return true;\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsLine.Relative.ReflectingResponse = function ( _c, _l, _result ) {\r\n\r\n    var lshape = _l.shape;\r\n    var cvel = _c.velocity;\r\n    var cpos = _c.relative;\r\n    var n;\r\n    var refl;\r\n    var cp = _result.cp;\r\n\r\n    if ( _result.sore !== 0 ) {\r\n\r\n      n = cp.SubtractVC( cpos );\r\n      n.Normalize();\r\n    \r\n    } else {\r\n\r\n      n = lshape.GetNormalA();\r\n    \r\n    }\r\n\r\n    refl = cvel.GetReflectionV( n );\r\n    cvel.SetV( refl );\r\n    cpos.AddV( _result.mtv );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Collision2D = Collision2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-collision/nk-collision2d.js\n// module id = 21\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  Nenkraft.Math.Ease = Object.create( null );\r\n\r\n  var Sin = Math.sin;\r\n  var Cos = Math.cos;\r\n  var PI = Math.PI;\r\n\r\n  Nenkraft.Math.Ease.Linear = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    return _amplitude * _time / _duration + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.QuadIn = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    _time /= _duration;\r\n    return _amplitude * _time * _time + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.QuadOut = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    _time /= _duration;\r\n    return -_amplitude * _time * ( _time - 2 ) + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.QuadInOut = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    _time /= _duration * 0.5;\r\n    if ( _time < 1 ) return _amplitude * 0.5 * _time * _time + _startValue;\r\n    _time--;\r\n    return -_amplitude * 0.5 * ( _time * ( _time - 2 ) - 1 ) + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.SineIn = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    return -_amplitude * Cos( _time / _duration * ( PI * 0.5 ) ) + _amplitude + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.SineOut = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    return _amplitude * Sin( _time / _duration * ( PI * 0.5 ) ) + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.SineInOut = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    return -_amplitude * 0.5 * ( Cos( PI * _time / _duration ) - 1 ) + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Ease = Nenkraft.Math.Ease;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-ease.js\n// module id = 22\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Motion ( _id, _target, _propertyString, _value, _duration, _easing ) {\r\n\r\n    if ( !( this instanceof Motion ) ) return new Motion( _id, _target, _propertyString, _value, _duration, _easing );\r\n    this.id = _id;\r\n    this.target = _target;\r\n    this.propertyString = _propertyString;\r\n    if ( _value !== undefined ) this.value = _value;\r\n    if ( _duration !== undefined ) this.duration = _duration;\r\n    this.easing = Nenkraft.Math.Ease[ _easing === undefined ? Motion.DEFAULT_EASING : _easing ];\r\n    this.onStart = Nenkraft.Event.LocalEvent();\r\n    this.onEnd = Nenkraft.Event.LocalEvent();\r\n    this.onStop = Nenkraft.Event.LocalEvent();\r\n    this.onReconfigure = Nenkraft.Event.LocalEvent();\r\n    this.onReset = Nenkraft.Event.LocalEvent();\r\n  \r\n  }\r\n\r\n  Motion.prototype = Object.create( null );\r\n  Motion.prototype.constructor = Motion;\r\n  // Static\r\n  Motion.DEFAULT_EASING = 'Linear';\r\n  // Members\r\n  Motion.prototype.id = null;\r\n  Motion.prototype.target = null;\r\n  Motion.prototype.easing = null;\r\n  Motion.prototype.duration = 1000;\r\n  Motion.prototype.time = 0;\r\n  Motion.prototype.value = 1;\r\n  Motion.prototype.startValue = 0;\r\n  Motion.prototype.propertyString = null;\r\n  Motion.prototype.change = 0;\r\n  Motion.prototype.property = null;\r\n  Motion.prototype.propertyObject = null;\r\n  Motion.prototype.running = false;\r\n\r\n  // Methods\r\n  Motion.prototype.Start = function () {\r\n\r\n    var property = this.propertyString.split( '.' );\r\n    this.property = property[ property.length - 1 ];\r\n    this.propertyObject = Nenkraft.Utils.Nested( this.target, this.propertyString, true );\r\n    this.startValue = this.propertyObject[ this.property ];\r\n    this.change = this.value - this.startValue;\r\n    this.time = 0;\r\n    this.running = true;\r\n    this.onStart.Dispatch( this, null );\r\n  \r\n  };\r\n\r\n  Motion.prototype.Stop = function () {\r\n\r\n    delete this.property;\r\n    delete this.propertyObject;\r\n    delete this.startValue;\r\n    delete this.change;\r\n    delete this.time;\r\n    delete this.running;\r\n    this.onStop.Dispatch( this, null );\r\n  \r\n  };\r\n\r\n  Motion.prototype.Process = function () {\r\n\r\n    if ( this.running === true ) {\r\n\r\n      this.propertyObject[ this.property ] = this.easing( this.time, this.startValue, this.change, this.duration );\r\n\r\n      if ( ++this.time >= this.duration ) {\r\n\r\n        this.running = false;\r\n        this.propertyObject[ this.property ] = this.value;\r\n        this.onEnd.Dispatch( this, null );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Motion.prototype.Reconfigure = function ( _propertyString, _value, _duration, _easing ) {\r\n\r\n    if ( _propertyString !== undefined ) this.propertyString = _propertyString;\r\n    this.value = _value;\r\n    this.duration = _duration;\r\n    this.easing = Nenkraft.Math.Ease[ _easing === undefined ? Motion.DEFAULT_EASING : _easing ];\r\n    this.onReconfigure.Dispatch( this, null );\r\n  \r\n  };\r\n\r\n  Motion.prototype.Reset = function () {\r\n\r\n    if ( this.propertyObject === null || this.property === null ) return false;\r\n    this.propertyObject[ this.property ] = this.startValue;\r\n    delete this.property;\r\n    delete this.propertyObject;\r\n    delete this.startValue;\r\n    delete this.change;\r\n    delete this.time;\r\n    delete this.running;\r\n    this.onReset.Dispatch( this, null );\r\n  \r\n  };\r\n\r\n  Nenkraft.Motion = Motion;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-motion/nk-motion.js\n// module id = 23\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function MotionManager ( _target ) {\r\n\r\n    if ( !( this instanceof MotionManager ) ) return new MotionManager( _target );\r\n    this.motions = [];\r\n    this.target = _target;\r\n  \r\n  }\r\n\r\n  MotionManager.prototype = Object.create( null );\r\n  MotionManager.prototype.constructor = MotionManager;\r\n  // Static\r\n\r\n  // Members\r\n  MotionManager.prototype.target = null;\r\n  MotionManager.prototype.motions = null;\r\n\r\n  // Methods\r\n  MotionManager.prototype.Create = function ( _id, _propertyString, _value, _duration, _easing ) {\r\n\r\n    var exists = this.GetMotion( _id );\r\n\r\n    if ( exists === null ) {\r\n\r\n      var motion = Nenkraft.Motion( _id, this.target, _propertyString, _value, _duration, _easing );\r\n      this.motions.push( motion );\r\n      return motion;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.Add = function ( _motion ) {\r\n\r\n    var exists = this.GetMotion( _motion.id );\r\n\r\n    if ( exists === null ) {\r\n\r\n      this.motions.push( _motion );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.Start = function ( _id ) {\r\n\r\n    var motion = this.GetMotion( _id );\r\n\r\n    if ( motion !== null ) {\r\n\r\n      motion.Start();\r\n    \r\n    }\r\n\r\n    return motion;\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.StartMultiple = function ( _ids ) {\r\n\r\n    _ids = _ids.split( ' ' );\r\n\r\n    for ( var i = 0, l = _ids.length; i < l; ++i ) {\r\n\r\n      this.Start( _ids[ i ] );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.Stop = function ( _id ) {\r\n\r\n    var motion = this.GetMotion( _id );\r\n\r\n    if ( motion !== null ) {\r\n\r\n      motion.Stop();\r\n    \r\n    }\r\n\r\n    return motion;\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.StopMultiple = function ( _ids ) {\r\n\r\n    _ids = _ids.split( ' ' );\r\n\r\n    for ( var i = 0, l = _ids.length; i < l; ++i ) {\r\n\r\n      this.Stop( _ids[ i ] );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.Reset = function ( _id ) {\r\n\r\n    var motion = this.GetMotion( _id );\r\n\r\n    if ( motion !== null ) {\r\n\r\n      motion.Reset();\r\n    \r\n    }\r\n\r\n    return motion;\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.ResetMultiple = function ( _ids ) {\r\n\r\n    _ids = _ids.split( ' ' );\r\n\r\n    for ( var i = 0, l = _ids.length; i < l; ++i ) {\r\n\r\n      this.Reset( _ids[ i ] );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.Process = function () {\r\n\r\n    for ( var i = 0, motions = this.motions, l = motions.length, motion; i < l; ++i ) {\r\n\r\n      motion = motions[ i ];\r\n      motion.Process();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.GetMotion = function ( _id ) {\r\n\r\n    for ( var i = 0, motions = this.motions, l = motions.length, motion; i < l; ++i ) {\r\n\r\n      motion = motions[ i ];\r\n      if ( motion.id === _id ) return motion;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Nenkraft.MotionManager = MotionManager;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-motion/nk-motion-manager.js\n// module id = 24\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function QuadtreeNode ( _aabb, _level, _objCap, _levelCap ) {\r\n\r\n    if ( !( this instanceof QuadtreeNode ) ) return new QuadtreeNode( _aabb, _level, _objCap, _levelCap );\r\n    this.Set( _aabb, _level, _objCap, _levelCap );\r\n    this.nodes = {};\r\n    this.objects = [];\r\n    this.convergence = [];\r\n  \r\n  }\r\n\r\n  QuadtreeNode.prototype = Object.create( null );\r\n  QuadtreeNode.prototype.constructor = QuadtreeNode;\r\n  // Static\r\n  QuadtreeNode.TOP_LEFT = 'TL';\r\n  QuadtreeNode.TOP_RIGHT = 'TR';\r\n  QuadtreeNode.BOTTOM_LEFT = 'BL';\r\n  QuadtreeNode.BOTTOM_RIGHT = 'BR';\r\n  QuadtreeNode.Pool = Nenkraft.Utils.Pool( QuadtreeNode );\r\n\r\n  QuadtreeNode.Pool.Retrieve = function( _aabb, _level, _objCap, _levelCap ) {\r\n\r\n    if ( this.objects.length === 0 ) {\r\n\r\n      this.Flood();\r\n    \r\n    }\r\n\r\n    var qtn = this.objects.pop();\r\n    qtn.Set( _aabb, _level, _objCap, _levelCap );\r\n    return qtn;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.USE_POOL = true;\r\n  // Members\r\n  QuadtreeNode.prototype.objectCap = 0;\r\n  QuadtreeNode.prototype.levelCap = 0;\r\n  QuadtreeNode.prototype.level = 0;\r\n  QuadtreeNode.prototype.nodes = null;\r\n  QuadtreeNode.prototype.objects = null;\r\n  QuadtreeNode.prototype.convergence = null;\r\n  QuadtreeNode.prototype.aabb = null;\r\n  QuadtreeNode.prototype.hasSplit = false;\r\n\r\n  // Methods\r\n  QuadtreeNode.prototype.Set = function( _aabb, _level, _objCap, _levelCap ) {\r\n\r\n    this.aabb = _aabb;\r\n    this.level = _level;\r\n    this.objectCap = _objCap;\r\n    this.levelCap = _levelCap;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.FromStore = function( _aabb, _level, _objCap, _levelCap ) {\r\n\r\n    if ( QuadtreeNode.USE_POOL === true ) {\r\n\r\n      return QuadtreeNode.Pool.Retrieve( _aabb, _level, _objCap, _levelCap );\r\n    \r\n    }\r\n\r\n    return QuadtreeNode( _aabb, _level, _objCap, _levelCap );\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Add = function ( _object ) {\r\n\r\n    var marking = '';\r\n    var objects = this.objects;\r\n    var nodes = this.nodes;\r\n    var i = 0;\r\n\r\n    if ( this.hasSplit === true ) {\r\n\r\n      marking = this.Marking( _object );\r\n\r\n      if ( marking !== null ) {\r\n\r\n        nodes[ marking ].Add( _object );\r\n        return;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    objects.push( _object );\r\n\r\n    if ( this.level < this.levelCap ) {\r\n\r\n      if ( objects.length > this.objectCap ) {\r\n\r\n        if ( this.hasSplit === false ) {\r\n\r\n          this.Split();\r\n        \r\n        }\r\n\r\n        while ( i < objects.length ) {\r\n\r\n          marking = this.Marking( objects[ i ] );\r\n\r\n          if ( marking !== null ) {\r\n\r\n            nodes[ marking ].Add( objects.fickleSplice( i ) );\r\n          \r\n          } else {\r\n\r\n            ++i;\r\n          \r\n          }\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Converge = function ( _object ) {\r\n\r\n    var convergence = this.convergence;\r\n    convergence.length = 0;\r\n    convergence.push.apply( convergence, this.objects );\r\n    var marking = null;\r\n    var nodes = this.nodes;\r\n\r\n    if ( this.hasSplit === true ) {\r\n\r\n      marking = this.Marking( _object );\r\n\r\n      if ( marking !== null ) {\r\n\r\n        convergence.push.apply( convergence, nodes[ marking ].Converge( _object ) );\r\n      \r\n      } else {\r\n\r\n        convergence.push.apply( convergence, nodes[ QuadtreeNode.TOP_LEFT ].Converge( _object ) );\r\n        convergence.push.apply( convergence, nodes[ QuadtreeNode.TOP_RIGHT ].Converge( _object ) );\r\n        convergence.push.apply( convergence, nodes[ QuadtreeNode.BOTTOM_LEFT ].Converge( _object ) );\r\n        convergence.push.apply( convergence, nodes[ QuadtreeNode.BOTTOM_RIGHT ].Converge( _object ) );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return convergence;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Split = function () {\r\n\r\n    var nl = this.level + 1;\r\n    var oc = this.objectCap;\r\n    var lc = this.levelCap;\r\n    var nodes = this.nodes;\r\n    var aabb = this.aabb;\r\n    nodes[ QuadtreeNode.TOP_LEFT ] = this.FromStore(\r\n      aabb.GetQuadrant( QuadtreeNode.TOP_LEFT ),\r\n      nl, oc, lc\r\n    );\r\n    nodes[ QuadtreeNode.TOP_RIGHT ] = this.FromStore(\r\n      aabb.GetQuadrant( QuadtreeNode.TOP_RIGHT ),\r\n      nl, oc, lc\r\n    );\r\n    nodes[ QuadtreeNode.BOTTOM_LEFT ] = this.FromStore(\r\n      aabb.GetQuadrant( QuadtreeNode.BOTTOM_LEFT ),\r\n      nl, oc, lc\r\n    );\r\n    nodes[ QuadtreeNode.BOTTOM_RIGHT ] = this.FromStore(\r\n      aabb.GetQuadrant( QuadtreeNode.BOTTOM_RIGHT ),\r\n      nl, oc, lc\r\n    );\r\n    this.hasSplit = true;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Dump = function () {\r\n\r\n    var nodes = this.nodes;\r\n    this.objects.length = 0;\r\n\r\n    if ( this.hasSplit === true ) {\r\n\r\n      nodes[ QuadtreeNode.TOP_LEFT ].Dump();\r\n      nodes[ QuadtreeNode.TOP_RIGHT ].Dump();\r\n      nodes[ QuadtreeNode.BOTTOM_LEFT ].Dump();\r\n      nodes[ QuadtreeNode.BOTTOM_RIGHT ].Dump();\r\n\r\n      if ( QuadtreeNode.USE_POOL === true ) {\r\n\r\n        nodes[QuadtreeNode.TOP_LEFT].Store();\r\n        nodes[ QuadtreeNode.TOP_RIGHT ].Store();\r\n        nodes[ QuadtreeNode.BOTTOM_LEFT ].Store();\r\n        nodes[ QuadtreeNode.BOTTOM_RIGHT ].Store();\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    this.nodes = {};\r\n    this.hasSplit = false;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Marking = function ( _object ) {\r\n\r\n    var nodes = this.nodes;\r\n\r\n    if ( nodes[ QuadtreeNode.TOP_LEFT ].aabb.ContainsAABB2D( _object ) === true ) {\r\n\r\n      return QuadtreeNode.TOP_LEFT;\r\n    \r\n    }\r\n\r\n    if ( nodes[ QuadtreeNode.TOP_RIGHT ].aabb.ContainsAABB2D( _object ) === true ) {\r\n\r\n      return QuadtreeNode.TOP_RIGHT;\r\n    \r\n    }\r\n\r\n    if ( nodes[ QuadtreeNode.BOTTOM_LEFT ].aabb.ContainsAABB2D( _object ) === true ) {\r\n\r\n      return QuadtreeNode.BOTTOM_LEFT;\r\n    \r\n    }\r\n\r\n    if ( nodes[ QuadtreeNode.BOTTOM_RIGHT ].aabb.ContainsAABB2D( _object ) === true ) {\r\n\r\n      return QuadtreeNode.BOTTOM_RIGHT;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.ConcatNodes = function ( _nodeList ) {\r\n\r\n    if ( _nodeList === undefined ) _nodeList = [];\r\n    _nodeList.push( this );\r\n    var nodes = this.nodes;\r\n    if ( this.hasSplit === false ) return _nodeList;\r\n    nodes[ QuadtreeNode.TOP_LEFT ].ConcatNodes( _nodeList );\r\n    nodes[ QuadtreeNode.TOP_RIGHT ].ConcatNodes( _nodeList );\r\n    nodes[ QuadtreeNode.BOTTOM_LEFT ].ConcatNodes( _nodeList );\r\n    nodes[ QuadtreeNode.BOTTOM_RIGHT ].ConcatNodes( _nodeList );\r\n    return _nodeList;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Store = function() {\r\n\r\n    QuadtreeNode.Pool.Store( this );\r\n\r\n    // console.log( QuadtreeNode.Pool.objects.length );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.QuadtreeNode = QuadtreeNode;\r\n  Nenkraft.QuadtreeNode = QuadtreeNode;\r\n\r\n  QuadtreeNode.Pool.Flood( function() {}, 1000 );\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-quadtree-node.js\n// module id = 25\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function CoreEntity2D ( _x, _y ) {\r\n\r\n    if ( !( this instanceof CoreEntity2D ) ) return new CoreEntity2D( _x, _y );\r\n    this.transform = Nenkraft.Math.Transform2D( _x, _y );\r\n    this.data = Object.create( null );\r\n  \r\n  }\r\n\r\n  CoreEntity2D.prototype = Object.create( null );\r\n  CoreEntity2D.prototype.constructor = CoreEntity2D;\r\n  // Static\r\n  CoreEntity2D.NULL_TRANSFORM = Nenkraft.Math.Transform2D();\r\n  // Members\r\n  CoreEntity2D.prototype.parent = null;\r\n  CoreEntity2D.prototype.transform = null;\r\n  CoreEntity2D.prototype.data = null;\r\n  CoreEntity2D.prototype.w = 0;\r\n  CoreEntity2D.prototype.h = 0;\r\n  CoreEntity2D.prototype.bounds = null;\r\n  CoreEntity2D.prototype.boundsDirty = true;\r\n  CoreEntity2D.prototype.globalPosition = null;\r\n\r\n  // Methods\r\n  CoreEntity2D.prototype.UpdateTransform = function () {\r\n\r\n    if ( this.parent ) {\r\n\r\n      this.transform.UpdateWorld( this.parent.transform.worldTransform );\r\n    \r\n    } else {\r\n\r\n      this.transform.UpdateWorld( CoreEntity2D.NULL_TRANSFORM.worldTransform );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  CoreEntity2D.prototype.GetWorldPosition = function () {\r\n\r\n    var wt = this.transform.worldTransform;\r\n\r\n    if ( this.globalPosition === null ) {\r\n\r\n      this.globalPosition = Nenkraft.Vector2D( wt.e, wt.f );\r\n    \r\n    } else {\r\n\r\n      this.globalPosition.Set( wt.e, wt.f );\r\n      \r\n    }\r\n\r\n    return this.globalPosition;\r\n  \r\n  };\r\n\r\n  CoreEntity2D.prototype.ComputeBounds = function ( _anchor ) {\r\n\r\n    var wtax = 0;\r\n    var htay = 0;\r\n\r\n    if ( _anchor != null ) {\r\n\r\n      wtax = this.width * _anchor.x;\r\n      htay = this.height * _anchor.y;\r\n    \r\n    }\r\n\r\n    if ( this.bounds === null ) {\r\n\r\n      this.bounds = Nenkraft.Geom.AABB2D(\r\n        this.x - wtax,\r\n        this.y - htay,\r\n        this.x + this.width - wtax,\r\n        this.y + this.height - htay\r\n      );\r\n      this.bounds.belongsTo = this;\r\n    \r\n    } else {\r\n\r\n      this.bounds.Set(\r\n        this.x - wtax,\r\n        this.y - htay,\r\n        this.x + this.width - wtax,\r\n        this.y + this.height - htay\r\n      );\r\n    \r\n    }\r\n\r\n    this.boundsDirty = false;\r\n    return this.bounds;\r\n  \r\n  };\r\n\r\n  Object.defineProperty( CoreEntity2D.prototype, 'rotation', {\r\n    get: function () {\r\n\r\n      return this.transform.rotation;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.transform.rotation = _value;\r\n      this.transform.UpdateSkew();\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'scale', {\r\n    get: function () {\r\n\r\n      return this.transform.scale;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'position', {\r\n    get: function () {\r\n\r\n      return this.transform.position;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'pivot', {\r\n    get: function () {\r\n\r\n      return this.transform.pivot;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'x', {\r\n    get: function () {\r\n\r\n      return this.transform.position.x;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.transform.position.x = _value;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'y', {\r\n    get: function () {\r\n\r\n      return this.transform.position.y;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.transform.position.y = _value;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'width', {\r\n    get: function () {\r\n\r\n      return this.w * this.scale.x;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.w = _value;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'height', {\r\n    get: function () {\r\n\r\n      return this.h * this.scale.y;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.h = _value;\r\n    \r\n    }\r\n  } );\r\n  Nenkraft.Entity.CoreEntity2D = CoreEntity2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-core-entity2d.js\n// module id = 26\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.CoreEntity2D;\r\n\r\n  function Container2D ( _x, _y ) {\r\n\r\n    if ( !( this instanceof Container2D ) ) return new Container2D( _x, _y );\r\n    Super.call( this, _x, _y );\r\n    this.children = [];\r\n  \r\n  }\r\n\r\n  Container2D.prototype = Object.create( Super.prototype );\r\n  Container2D.prototype.constructor = Container2D;\r\n  // Static\r\n\r\n  // Members\r\n  Container2D.prototype.children = null;\r\n  Container2D.prototype.render = true;\r\n  Container2D.prototype.display = true;\r\n  Container2D.prototype.transformShouldUpdate = true;\r\n  Container2D.prototype.transformAutomaticUpdate = true;\r\n  //\r\n  Container2D.prototype.isBatchParent = false;\r\n  Container2D.prototype.childDataBuffer = null;\r\n  Container2D.prototype.bufferData = null;\r\n  Container2D.prototype.programController = null;\r\n  Container2D.prototype.bufferStartIndex = 0;\r\n  Container2D.prototype.bufferEndIndex = 0;\r\n\r\n  /*\r\n   *\r\n   *Methods\r\n   */\r\n  Container2D.prototype.PreDraw = function ( /* _rc */ ) {\r\n    // Override\r\n  };\r\n\r\n  Container2D.prototype.GLPreDraw = function ( /* _gl */ ) {\r\n    // Override\r\n  };\r\n\r\n  Container2D.prototype.Draw = function ( _rc ) {\r\n\r\n    this.PreDraw( _rc );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 && this.display === true ) {\r\n\r\n        this.DrawChildren( _rc );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GLDraw = function ( _gl ) {\r\n\r\n    this.GLPreDraw( _gl );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 && this.display === true ) {\r\n\r\n        if ( this.isBatchParent === true ) {\r\n\r\n          this.GLBatchDrawChildren();\r\n        \r\n        } else {\r\n\r\n          this.GLDrawChildren( _gl );\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.RequestTransformUpdate = function () {\r\n\r\n    this.transformShouldUpdate = true;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.DrawChildren = function ( _rc ) {\r\n\r\n    for ( var i = 0, children = this.children, l = children.length; i < l; ++i ) {\r\n\r\n      children[i].Draw( _rc );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GLDrawChildren = function ( _gl ) {\r\n\r\n    for ( var i = 0, children = this.children, l = children.length; i < l; ++i ) {\r\n\r\n      children[i].GLDraw( _gl );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GLBatchDrawChildren = function () {\r\n\r\n    if ( this.childDataBuffer != null && this.programController != null ) {\r\n\r\n      this.programController.Execute( this.childDataBuffer, this.children.length );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.ComputeBatchBuffer = function ( _getBufferData ) {\r\n\r\n    var childDataBuffer = [];\r\n\r\n    for ( var i = 0, children = this.children, l = children.length, child, childData; i < l; ++i ) {\r\n\r\n      child = children[ i ];\r\n\r\n      if ( _getBufferData != null ) {\r\n\r\n        childData = _getBufferData( child );\r\n      \r\n      } else {\r\n\r\n        childData = child.GetBufferData();\r\n      \r\n      }\r\n\r\n      child.bufferStartIndex = childDataBuffer.length;\r\n      child.bufferEndIndex = childDataBuffer.length + childData.length;\r\n      childDataBuffer.push.apply( childDataBuffer, childData );\r\n    \r\n    }\r\n\r\n    this.childDataBuffer = new Float32Array( childDataBuffer );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.UpdateInBuffer = function () {\r\n\r\n    throw new Error( 'Cannot update buffer data directly!' );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GetBufferData = function () {\r\n\r\n    throw new Error( 'Cannot access buffer data directly!' );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.AddChild = function ( _child ) {\r\n\r\n    var parent = _child.parent;\r\n\r\n    if ( parent !== null ) {\r\n\r\n      parent.RemoveChild( _child );\r\n    \r\n    }\r\n\r\n    this.children.push( _child );\r\n    _child.parent = this;\r\n    return _child;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.AddChildren = function () {\r\n\r\n    var children = arguments;\r\n\r\n    if ( Array.isArray( children[ 0 ] ) ) {\r\n\r\n      children = children[ 0 ];\r\n    \r\n    }\r\n\r\n    for ( var i = 0, l = children.length; i < l; ++i ) {\r\n\r\n      this.AddChild( children[ i ] );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.Mount = function () {\r\n\r\n    this.AddChildren.apply( this, arguments );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.AddSibling = function ( _sibling ) {\r\n\r\n    var parent = this.parent;\r\n\r\n    if ( parent !== null ) {\r\n\r\n      parent.AddChild( _sibling );\r\n    \r\n    }\r\n\r\n    return _sibling;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.RemoveChild = function ( _child ) {\r\n\r\n    var children = this.children;\r\n    var ix = children.indexOf( _child );\r\n\r\n    if ( ix !== -1 ) {\r\n\r\n      _child.parent = null;\r\n      return children.fickleSplice( ix );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.RemoveChildren = function () {\r\n\r\n    var children = this.children;\r\n    var aChildren = arguments[ 0 ].length ? arguments[ 0 ] : arguments;\r\n    var rChildren = [];\r\n\r\n    for ( var i = 0, l = aChildren.length, child, ix; i < l; ++i ) {\r\n\r\n      child = aChildren[ i ];\r\n      ix = children.indexOf( child );\r\n\r\n      if ( ix !== -1 ) {\r\n\r\n        rChildren.push( children.fickleSplice( ix ) );\r\n        child.parent = null;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return rChildren;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.SendToFront = function () {\r\n\r\n    if ( this.parent !== null ) {\r\n\r\n      var pChildren = this.parent.children;\r\n      var ix = pChildren.indexOf( this );\r\n\r\n      if ( ix !== -1 ) {\r\n\r\n        pChildren.push( pChildren.fickleSplice( ix ) );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.SendToBack = function () {\r\n\r\n    if ( this.parent !== null ) {\r\n\r\n      var pChildren = this.parent.children;\r\n      var ix = pChildren.indexOf( this );\r\n\r\n      if ( ix !== -1 ) {\r\n\r\n        pChildren.unshift( pChildren.fickleSplice( ix ) );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.Dump = function () {\r\n\r\n    this.children.length = 0;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.Destroy = function () {\r\n\r\n    this.Dump();\r\n    if ( this.parent !== null ) this.parent.RemoveChild( this );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.AttachTo = function ( _parent ) {\r\n\r\n    _parent.AddChild( this );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.Detach = function () {\r\n\r\n    if ( this.parent !== null ) return this.parent.RemoveChild( this );\r\n    return null;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GetChildClosestTo = function ( _object, _filter ) {\r\n\r\n    var children = this.children, closestChild = null;\r\n\r\n    if ( children.length !== 0 ) {\r\n\r\n      for ( var i = 0, l = children.length, child, distance = Infinity, tempDistance; i < l; ++i ) {\r\n\r\n        child = children[ i ];\r\n\r\n        if ( _filter !== undefined ) {\r\n\r\n          if ( _filter( child ) === false ) continue;\r\n        \r\n        }\r\n\r\n        tempDistance = Math.abs( child.position.GetDistanceSquared( _object.x, _object.y ) );\r\n\r\n        if ( tempDistance < distance ) {\r\n\r\n          distance = tempDistance;\r\n          closestChild = child;\r\n        \r\n        }\r\n      \r\n      }\r\n\r\n      return closestChild;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GetChildFurthestFrom = function ( _object, _filter ) {\r\n\r\n    var children = this.children, closestChild = null;\r\n\r\n    if ( children.length !== 0 ) {\r\n\r\n      for ( var i = 0, l = children.length, child, distance = 0, tempDistance; i < l; ++i ) {\r\n\r\n        child = children[ i ];\r\n\r\n        if ( _filter !== undefined ) {\r\n\r\n          if ( _filter( child ) === false ) continue;\r\n        \r\n        }\r\n\r\n        tempDistance = Math.abs( child.position.GetDistanceSquared( _object.x, _object.y ) );\r\n\r\n        if ( tempDistance > distance ) {\r\n\r\n          distance = tempDistance;\r\n          closestChild = child;\r\n        \r\n        }\r\n      \r\n      }\r\n\r\n      return closestChild;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.UseAsBatchParent = function ( _pc ) {\r\n\r\n    this.isBatchParent = true;\r\n    this.programController = _pc;\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Container2D = Container2D;\r\n  Nenkraft.Container2D = Container2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-container2d.js\n// module id = 27\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Container2D;\r\n\r\n  function Case2D ( _x, _y ) {\r\n\r\n    if ( !( this instanceof Case2D ) ) return new Case2D( _x, _y );\r\n    Super.call( this, _x, _y );\r\n  \r\n  }\r\n\r\n  Case2D.prototype = Object.create( Super.prototype );\r\n  Case2D.prototype.constructor = Case2D;\r\n\r\n  /*\r\n   *Static\r\n   *Members\r\n   *Methods\r\n   */\r\n  Case2D.prototype.Render = function () {\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 ) {\r\n\r\n        this.RenderChildren();\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Case2D.prototype.RenderChildren = function () {\r\n\r\n    for ( var i = 0, children = this.children, l = children.length, child; i < l; ++i ) {\r\n\r\n      child = children[ i ];\r\n      if ( child.Render ) child.Render();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Case2D = Case2D;\r\n  Nenkraft.Case2D = Case2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-case2d.js\n// module id = 28\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Option ( _id, _handle, _info, _priority, _breakIfExecuted ) {\r\n\r\n    if ( !( this instanceof Option ) ) return new Option( _id, _handle, _info, _priority, _breakIfExecuted );\r\n\r\n    this.id = _id.split( ' ' );\r\n    this.handle = _handle;\r\n    this.info = _info;\r\n    if ( _priority !== undefined ) this.priority = _priority;\r\n    if ( _breakIfExecuted !== undefined ) this.breakIfExecuted = _breakIfExecuted;\r\n    this.data = {};\r\n  \r\n  }\r\n\r\n  Option.prototype = Object.create( null );\r\n  Option.prototype.constructor = Option;\r\n  // Static\r\n\r\n  // Members\r\n  Option.prototype.command = null;\r\n  Option.prototype.priority = 0;\r\n  Option.prototype.breakIfExecuted = false;\r\n\r\n  // Methods\r\n  Option.prototype.Execute = function ( _dataStrs, _data, _staticData ) {\r\n\r\n    this.handle( _dataStrs, _data, _staticData );\r\n    return this.breakIfExecuted;\r\n  \r\n  };\r\n\r\n  Nenkraft.CP.Option = Option;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-cp/nk-option.js\n// module id = 29\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Command ( _id, _handle, _info, _continueToPrime, _optionPrefix ) {\r\n\r\n    if ( !( this instanceof Command ) ) return new Command( _id, _handle, _info, _continueToPrime, _optionPrefix );\r\n\r\n    this.id = _id.split( ' ' );\r\n    this.handle = _handle;\r\n    this.info = _info;\r\n    this.data = {};\r\n    this.optionPrefix = _optionPrefix === undefined ? Command.OPTION_PREFIX : _optionPrefix;\r\n    this.dsCopy = [];\r\n    if ( _continueToPrime !== undefined ) this.continueToPrime = _continueToPrime;\r\n  \r\n  }\r\n\r\n  Command.prototype = Object.create( null );\r\n  Command.prototype.constructor = Command;\r\n  // Static\r\n  Command.OPTION_PREFIX = '';\r\n  // Members\r\n  Command.prototype.dataSeparator = '=';\r\n  Command.prototype.options = null;\r\n  Command.prototype.allOptionIds = null;\r\n  Command.prototype.fullInfo = null;\r\n  Command.prototype.optionPrefix = null;\r\n  Command.prototype.continueToPrime = true;\r\n  Command.prototype.dsCopy = null;\r\n  Command.prototype.register = null;\r\n\r\n  // Methods\r\n  Command.prototype.Execute = function ( _dataStrs, _data, _staticData ) {\r\n\r\n    this.HandleData( _dataStrs, _data );\r\n\r\n    if ( this.HandleOptions( _dataStrs, _data, _staticData ) === true ) {\r\n\r\n      this.handle( _dataStrs, _data, _staticData );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Command.prototype.AddOption = function ( _id, _handle, _info, _priority, _breakIfExecuted, _optionPrefix ) {\r\n\r\n    _optionPrefix = _optionPrefix === undefined ? this.optionPrefix : _optionPrefix;\r\n    if ( _optionPrefix !== null ) _id = _id.replace( /\\S+/g, _optionPrefix + '$&' );\r\n    if ( this.options === null ) this.options = [];\r\n    _priority = _priority === undefined ? 0 : _priority;\r\n    var opt = Nenkraft.CP.Option( _id, _handle, _info, _priority, _breakIfExecuted );\r\n    opt.command = this;\r\n\r\n    for ( var i = 0, options = this.options, l = options.length, option; i < l; ++i ) {\r\n\r\n      option = options[ i ];\r\n\r\n      if ( option.priority <= _priority ) {\r\n\r\n        options.splice( i, 0, opt );\r\n        this.allOptionIds = this.GetAllOptionIds();\r\n        return this;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    this.options.push( opt );\r\n    this.allOptionIds = this.GetAllOptionIds();\r\n    return this;\r\n  \r\n  };\r\n\r\n  Command.prototype.HandleData = function ( _dataStrs, _data ) {\r\n\r\n    var dsCopy = this.dsCopy;\r\n    dsCopy.push.apply( dsCopy, _dataStrs );\r\n\r\n    for ( var i = 0, l = dsCopy.length, str, data, ds = this.dataSeparator; i < l; ++i ) {\r\n\r\n      str = dsCopy[ i ];\r\n      data = str.split( ds );\r\n\r\n      if ( data.length === 2 ) {\r\n\r\n        _dataStrs.fickleSplice( i );\r\n        _data[ data[ 0 ] ] = data[ 1 ];\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    dsCopy.length = 0;\r\n  \r\n  };\r\n\r\n  Command.prototype.HandleOptions = function ( _dataStrs, _data, _staticData ) {\r\n\r\n    if ( _dataStrs.length === 0 ) {\r\n\r\n      return this.continueToPrime;\r\n    \r\n    }\r\n\r\n    var matchingOptionIds = this.GetAndRemoveMatchingOptionIds( _dataStrs );\r\n    if ( matchingOptionIds === null ) return this.continueToPrime;\r\n\r\n    for ( var i = 0, l = matchingOptionIds.length, option; i < l; ++i ) {\r\n\r\n      option = this.GetOptionById( matchingOptionIds[ i ] );\r\n      if ( option.Execute( _dataStrs, _data, _staticData ) === true ) return false;\r\n    \r\n    }\r\n\r\n    return this.continueToPrime;\r\n  \r\n  };\r\n\r\n  Command.prototype.GetOptionById = function ( _id ) {\r\n\r\n    for ( var i = 0, options = this.options, l = options.length, option; i < l; ++i ) {\r\n\r\n      option = options[ i ];\r\n      if ( option.id.indexOf( _id ) !== -1 ) return option;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Command.prototype.GetAllOptionIds = function () {\r\n\r\n    var allOptionIds = [];\r\n\r\n    for ( var i = 0, options = this.options, l = options.length; i < l; ++i ) {\r\n\r\n      allOptionIds.push.apply( allOptionIds, options[ i ].id );\r\n    \r\n    }\r\n\r\n    return allOptionIds;\r\n  \r\n  };\r\n\r\n  Command.prototype.GetAndRemoveMatchingOptionIds = function ( _dataStrs ) {\r\n\r\n    var allOptionIds = this.allOptionIds;\r\n    if ( allOptionIds === null ) return null;\r\n    var optionIds = [];\r\n\r\n    for ( var i = 0, l = allOptionIds.length; i < l; ++i ) {\r\n\r\n      var ix = _dataStrs.indexOf( allOptionIds[ i ] );\r\n\r\n      if ( ix !== -1 ) {\r\n\r\n        optionIds.push( _dataStrs.fickleSplice( ix ) );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return optionIds;\r\n  \r\n  };\r\n\r\n  Command.prototype.GenerateInfoString = function () {\r\n\r\n    var str = 'COMMAND: ' + this.id.join( ', ' ) + ' -> ' + this.info + '\\n';\r\n\r\n    for ( var i = 0, options = this.options, l = options.length, option; i < l; ++i ) {\r\n\r\n      option = options[ i ];\r\n      str += 'OPTION: ' + option.id.join( ', ' ) + ' -> ' + option.info + '\\n';\r\n    \r\n    }\r\n\r\n    return str;\r\n  \r\n  };\r\n\r\n  Nenkraft.CP.Command = Command;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-cp/nk-command.js\n// module id = 30\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Register ( _options ) {\r\n\r\n    if ( !( this instanceof Register ) ) return new Register( _options );\r\n\r\n    this.commands = [];\r\n  \r\n  }\r\n\r\n  Register.prototype = Object.create( null );\r\n  Register.prototype.constructor = Register;\r\n  // Static\r\n\r\n  // Members\r\n  Register.prototype.splitter = ' ';\r\n\r\n  // Methods\r\n  Register.prototype.AddCommand = function ( _command ) {\r\n\r\n    if ( _command.register === null ) {\r\n\r\n      this.commands.push( _command );\r\n      _command.register = this;\r\n      return _command;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Register.prototype.RemoveCommand = function( _command ) {\r\n\r\n    var commands = this.commands;\r\n    var ix = commands.indexOf( _command );\r\n\r\n    if ( ix !== -1 ) {\r\n\r\n      _command.register = null;\r\n      return commands.fickleSplice( ix );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Register.prototype.GetCommand = function ( _id ) {\r\n\r\n    for ( var i = 0, commands = this.commands, l = commands.length, command; i < l; ++i ) {\r\n\r\n      command = this.commands[ i ];\r\n\r\n      if ( command ) {\r\n\r\n        for ( var j = 0, jl = command.id.length; j < jl; ++j ) {\r\n\r\n          if ( command.id[ j ] === _id ) return command;\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Register.prototype.Parse = function ( _str, _staticData ) {\r\n\r\n    var strs = String( _str ).split( this.splitter );\r\n    var cmdStr = strs.shift();\r\n    var command = this.GetCommand( cmdStr );\r\n\r\n    if ( command ) {\r\n\r\n      command.Execute( strs, {}, _staticData );\r\n      return null;\r\n    \r\n    }\r\n\r\n    return cmdStr;\r\n  \r\n  };\r\n\r\n  Nenkraft.CP.Register = Register;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-cp/nk-register.js\n// module id = 31\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nvar namespace = Object.create( null );\r\n\r\nrequire( './nk-polyfill/nk-polyfill' )();\r\nrequire( './nk-base/nk-base' )( namespace );\r\nrequire( './nk-shader/nk-load-shaders' )( namespace );\r\nrequire( './nk-math/nk-math' )( namespace );\r\nrequire( './nk-utils/nk-assert' )( namespace );\r\nrequire( './nk-utils/nk-pool' )( namespace );\r\nrequire( './nk-utils/nk-cache' )( namespace );\r\nrequire( './nk-utils/nk-utils' )( namespace );\r\nrequire( './nk-utils/nk-browser-utils' )( namespace );\r\nrequire( './nk-utils/nk-color' )( namespace );\r\nrequire( './nk-utils/nk-flag-list' )( namespace );\r\nrequire( './nk-utils/nk-flag-enum' )( namespace );\r\nrequire( './nk-utils/nk-maker' )( namespace );\r\nrequire( './nk-utils/nk-canvas-manager' )( namespace );\r\nrequire( './nk-style/nk-fill' )( namespace );\r\nrequire( './nk-style/nk-shadow' )( namespace );\r\nrequire( './nk-style/nk-stroke' )( namespace );\r\nrequire( './nk-style/nk-text' )( namespace );\r\nrequire( './nk-style/nk-pixel' )( namespace );\r\nrequire( './nk-style/nk-style' )( namespace );\r\nrequire( './nk-texture/nk-basic-texture' )( namespace );\r\nrequire( './nk-texture/nk-spritesheet' )( namespace );\r\nrequire( './nk-event/nk-local-listener' )( namespace );\r\nrequire( './nk-event/nk-local-event' )( namespace );\r\nrequire( './nk-time/nk-ticker/nk-ticker' )( namespace );\r\nrequire( './nk-time/nk-timer/nk-timer' )( namespace );\r\nrequire( './nk-math/nk-vector/nk-vector2d' )( namespace );\r\nrequire( './nk-math/nk-matrix/nk-matrix2d' )( namespace );\r\nrequire( './nk-math/nk-transform/nk-basetransform2d' )( namespace );\r\nrequire( './nk-math/nk-transform/nk-transform2d' )( namespace );\r\nrequire( './nk-geom/nk-line/nk-line2d' )( namespace );\r\nrequire( './nk-geom/nk-aabb/nk-aabb2d' )( namespace );\r\nrequire( './nk-geom/nk-polygon/nk-polygon2d' )( namespace );\r\nrequire( './nk-geom/nk-circle/nk-circle' )( namespace );\r\nrequire( './nk-math/nk-collision/nk-collision2d' )( namespace );\r\nrequire( './nk-math/nk-ease' )( namespace );\r\nrequire( './nk-motion/nk-motion' )( namespace );\r\nrequire( './nk-motion/nk-motion-manager' )( namespace );\r\nrequire( './nk-utils/nk-quadtree-node' )( namespace );\r\nrequire( './nk-input/nk-mouse' )( namespace );\r\nrequire( './nk-input/nk-keyboard' )( namespace );\r\nrequire( './nk-input/nk-touch' )( namespace );\r\nrequire( './nk-debug/nk-debug' )( namespace );\r\nrequire( './nk-path/nk-pixel/nk-pixel' )( namespace );\r\nrequire( './nk-path/nk-line/nk-line2d' )( namespace );\r\nrequire( './nk-path/nk-aabb/nk-aabb2d' )( namespace );\r\nrequire( './nk-path/nk-polygon/nk-polygon2d' )( namespace );\r\nrequire( './nk-path/nk-circle/nk-circle' )( namespace );\r\nrequire( './nk-entity/nk-core-entity2d' )( namespace );\r\nrequire( './nk-entity/nk-container2d' )( namespace );\r\nrequire( './nk-entity/nk-case2d' )( namespace );\r\nrequire( './nk-entity/nk-stage2d' )( namespace );\r\nrequire( './nk-entity/nk-stadium' )( namespace );\r\nrequire( './nk-entity/nk-graphic2d' )( namespace );\r\nrequire( './nk-entity/nk-plain2d' )( namespace );\r\nrequire( './nk-entity/nk-plaingraphic2d' )( namespace );\r\nrequire( './nk-entity/nk-plainsprite' )( namespace );\r\nrequire( './nk-entity/nk-text' )( namespace );\r\nrequire( './nk-entity/nk-sprite' )( namespace );\r\nrequire( './nk-entity/nk-tilesprite' )( namespace );\r\nrequire( './nk-entity/nk-char' )( namespace );\r\nrequire( './nk-entity/nk-bitmap-text' )( namespace );\r\nrequire( './nk-entity/nk-camera2d' )( namespace );\r\nrequire( './nk-particles/nk-particle' )( namespace );\r\nrequire( './nk-particles/nk-particle-system' )( namespace );\r\nrequire( './nk-animator/nk-frame' )( namespace );\r\nrequire( './nk-animator/nk-animation' )( namespace );\r\nrequire( './nk-animator/nk-controller' )( namespace );\r\nrequire( './nk-cp/nk-option' )( namespace );\r\nrequire( './nk-cp/nk-command' )( namespace );\r\nrequire( './nk-cp/nk-register' )( namespace );\r\nrequire( './nk-load/nk-image-loader' )( namespace );\r\nrequire( './nk-load/nk-xhr-loader' )( namespace );\r\nrequire( './nk-load/nk-spritesheet-loader' )( namespace );\r\nrequire( './nk-controller/nk-gl-program-controller/nk-gl-program-controller' )( namespace );\r\nrequire( './nk-controller/nk-gl-program-controller/nk-gl-line2d-program-controller' )( namespace );\r\nrequire( './nk-controller/nk-gl-program-controller/nk-gl-rectangle-program-controller' )( namespace );\r\nrequire( './nk-controller/nk-gl-program-controller/nk-gl-circle-program-controller' )( namespace );\r\nrequire( './nk-controller/nk-gl-program-controller/nk-gl-texture-program-controller' )( namespace );\r\nrequire( './nk-controller/nk-gl-program-controller/nk-gl-texture-batch-program-controller' )( namespace );\r\nrequire( './nk-controller/nk-gl-program-controller/nk-gl-pixel-batch-program-controller' )( namespace );\r\n\r\nif ( PRODUCTION || DEVELOPMENT ) {\r\n\r\n  global.Nenkraft = global.nk = namespace;\r\n\r\n}\r\n\r\nmodule.exports = namespace;\r\n\r\n// if ( DEVELOPMENT && module.hot ) module.hot.accept();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk.js\n// module id = 33\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  Nenkraft.Geom = Object.create( null );\r\n  Nenkraft.Style = Object.create( null );\r\n  Nenkraft.Math = Object.create( null );\r\n  Nenkraft.Utils = Object.create( null );\r\n  Nenkraft.Texture = Object.create( null );\r\n  Nenkraft.Controller = Object.create( null );\r\n  Nenkraft.Entity = Object.create( null );\r\n  Nenkraft.Path = Object.create( null );\r\n  Nenkraft.Event = Object.create( null );\r\n  Nenkraft.Time = Object.create( null );\r\n  Nenkraft.Input = Object.create( null );\r\n  Nenkraft.CP = Object.create( null );\r\n  Nenkraft.Load = Object.create( null );\r\n  Nenkraft.Animator = Object.create( null );        \r\n  Nenkraft.VERSION = '1.0.5';\r\n\r\n  Nenkraft.PRINT_VERSION = function() {\r\n\r\n    console.log(\r\n      '%cnenkraft %cversion %c' + Nenkraft.VERSION,\r\n      'color:cyan;background-color:black;font-family:Arial;font-size:16px;font-weight:900;',\r\n      'color:magenta;background-color:black;font-family:Arial;font-size:16px;',\r\n      'color:yellow;background-color:black;font-family:Arial;font-size:18px;'\r\n    );\r\n  \r\n  };\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-base/nk-base.js\n// module id = 34\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Parse ( _data ) {\r\n\r\n    var vS = '@vertex@';\r\n    var vE = '@vertex-end@';\r\n    var fS = '@fragment@';\r\n    var fE = '@fragment-end@';\r\n    var s, e;\r\n    s = _data.indexOf( vS ) + vS.length;\r\n    e = _data.indexOf( vE );\r\n    var vShader = _data.substring( s, e );\r\n    s = _data.indexOf( fS ) + fS.length;\r\n    e = _data.indexOf( fE );\r\n    var fShader = _data.substring( s, e );\r\n    return { v: vShader, f: fShader };\r\n  \r\n  }\r\n\r\n  Nenkraft.SHADER_CODE = {\r\n    TEXTURE_2D: Parse( require( './nk-texture2d/nk-texture2d.shader' ) ),\r\n    TEXTURE_2D_BATCH: Parse( require( './nk-texture2d/nk-texture2d-batch.shader' ) ),\r\n    LINE2D: Parse( require( './nk-shape2d/nk-line2d.shader' ) ),\r\n    RECTANGLE: Parse( require( './nk-shape2d/nk-rectangle.shader' ) ),\r\n    CIRCLE: Parse( require( './nk-shape2d/nk-circle.shader' ) ),\r\n    PIXEL_BATCH: Parse( require( './nk-pixel/nk-pixel-batch.shader' ) )\r\n  };\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-shader/nk-load-shaders.js\n// module id = 35\n// module chunks = 0","module.exports = \"/**\\r\\n* @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\\r\\n*/\\r\\n\\r\\n@vertex@\\r\\nprecision mediump float;\\r\\n\\r\\nattribute vec2 aPosition0;\\r\\nattribute vec2 aTexCoord0;\\r\\n\\r\\nattribute vec2 aPosition1;\\r\\nattribute vec2 aTexCoord1;\\r\\n\\r\\nattribute vec2 aPosition2;\\r\\nattribute vec2 aTexCoord2;\\r\\n\\r\\nattribute vec2 aPosition3;\\r\\nattribute vec2 aTexCoord3;\\r\\n\\r\\nuniform mat3 uProjection;\\r\\nuniform mat3 uTranslation;\\r\\nuniform mat3 uTransformation;\\r\\n\\r\\nuniform float uUnitId;\\r\\n\\r\\nvarying vec2 vTexCoord;\\r\\n\\r\\nvoid main() {\\r\\n  if ( uUnitId == 0.0 ) {\\r\\n    gl_Position = vec4( ( uProjection * uTranslation * vec3( aPosition0, 1.0 ) ).xy, 0.0, 1.0 );\\r\\n    vTexCoord = ( uTransformation * vec3( aTexCoord0, 1.0 ) ).xy;\\r\\n  } else if ( uUnitId == 1.0 ) {\\r\\n    gl_Position = vec4( ( uProjection * uTranslation * vec3( aPosition1, 1.0 ) ).xy, 0.0, 1.0 );\\r\\n    vTexCoord = ( uTransformation * vec3( aTexCoord1, 1.0 ) ).xy;\\r\\n  } else if ( uUnitId == 2.0 ) {\\r\\n    gl_Position = vec4( ( uProjection * uTranslation * vec3( aPosition2, 1.0 ) ).xy, 0.0, 1.0 );\\r\\n    vTexCoord = ( uTransformation * vec3( aTexCoord2, 1.0 ) ).xy;\\r\\n  } else if ( uUnitId == 3.0 ) {\\r\\n    gl_Position = vec4( ( uProjection * uTranslation * vec3( aPosition3, 1.0 ) ).xy, 0.0, 1.0 );\\r\\n    vTexCoord = ( uTransformation * vec3( aTexCoord3, 1.0 ) ).xy;\\r\\n  }\\r\\n}\\r\\n@vertex-end@\\r\\n\\r\\n@fragment@\\r\\nprecision mediump float;\\r\\n\\r\\nuniform sampler2D uImage;\\r\\nuniform vec4 uTint;\\r\\n\\r\\nvarying vec2 vTexCoord;\\r\\n\\r\\nvoid main() {\\r\\n  gl_FragColor = texture2D( uImage, vTexCoord ) * uTint;\\r\\n}\\r\\n@fragment-end@\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-shader/nk-texture2d/nk-texture2d.shader\n// module id = 36\n// module chunks = 0","module.exports = \"/**\\r\\n* @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\\r\\n*/\\r\\n\\r\\n@vertex@\\r\\nattribute vec2 aPosition;\\r\\nattribute vec2 aTexCoord;\\r\\n\\r\\nattribute vec3 aProjection1;\\r\\nattribute vec3 aProjection2;\\r\\nattribute vec3 aProjection3;\\r\\n\\r\\nattribute vec3 aTranslation1;\\r\\nattribute vec3 aTranslation2;\\r\\nattribute vec3 aTranslation3;\\r\\n\\r\\nattribute vec3 aTransformation1;\\r\\nattribute vec3 aTransformation2;\\r\\nattribute vec3 aTransformation3;\\r\\n\\r\\nvarying vec2 vTexCoord;\\r\\n\\r\\nvoid main() {\\r\\n  mat3 projection = mat3( aProjection1, aProjection2, aProjection3 );\\r\\n  mat3 translation = mat3( aTranslation1, aTranslation2, aTranslation3 );\\r\\n  mat3 transformation = mat3( aTransformation1, aTransformation2, aTransformation3 );\\r\\n  gl_Position = vec4( ( projection * translation * vec3( aPosition, 1.0 ) ).xy, 0.0, 1.0 );\\r\\n  vTexCoord = ( transformation * vec3( aTexCoord, 1.0 ) ).xy;\\r\\n}\\r\\n@vertex-end@\\r\\n\\r\\n@fragment@\\r\\nprecision mediump float;\\r\\n\\r\\nuniform sampler2D uImage;\\r\\n\\r\\nvarying vec2 vTexCoord;\\r\\n\\r\\nvoid main() {\\r\\n  gl_FragColor = texture2D( uImage, vTexCoord );\\r\\n}\\r\\n@fragment-end@\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-shader/nk-texture2d/nk-texture2d-batch.shader\n// module id = 37\n// module chunks = 0","module.exports = \"/**\\r\\n* @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\\r\\n*/\\r\\n\\r\\n@vertex@\\r\\nattribute vec2 aPosition;\\r\\n\\r\\nuniform mat3 uProjection;\\r\\nuniform lowp vec4 uColor;\\r\\n\\r\\nvarying lowp vec4 vColor;\\r\\n\\r\\nvoid main() {\\r\\n  gl_Position = vec4( ( uProjection * vec3( aPosition, 1.0 ) ).xy, 0.0, 1.0 );\\r\\n  vColor = uColor;\\r\\n}\\r\\n@vertex-end@\\r\\n\\r\\n@fragment@\\r\\nprecision mediump float;\\r\\n\\r\\nvarying lowp vec4 vColor;\\r\\n\\r\\nvoid main() {\\r\\n  gl_FragColor = vColor;\\r\\n}\\r\\n@fragment-end@\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-shader/nk-shape2d/nk-line2d.shader\n// module id = 38\n// module chunks = 0","module.exports = \"/**\\r\\n* @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\\r\\n*/\\r\\n\\r\\n@vertex@\\r\\nattribute vec2 aPosition;\\r\\n\\r\\nuniform mat3 uProjection;\\r\\nuniform lowp vec4 uFillColor;\\r\\nuniform lowp vec4 uOutlineColor;\\r\\nuniform vec2 uSize;\\r\\nuniform float uOutline;\\r\\n\\r\\nvarying lowp vec4 vFillColor;\\r\\nvarying lowp vec4 vOutlineColor;\\r\\nvarying vec2 vPosition;\\r\\nvarying float vBorderX;\\r\\nvarying float vNegBorderX;\\r\\nvarying float vBorderY;\\r\\nvarying float vNegBorderY;\\r\\n\\r\\nvoid main() {\\r\\n  gl_Position = vec4( ( uProjection * vec3( aPosition, 1.0 ) ).xy, 0.0, 1.0 );\\r\\n  vFillColor = uFillColor;\\r\\n  vOutlineColor = uOutlineColor;\\r\\n  vPosition = aPosition;\\r\\n  vBorderX = -uSize.x * 0.5 + uOutline;\\r\\n  vNegBorderX = uSize.x * 0.5 - uOutline;\\r\\n  vBorderY = -uSize.y * 0.5 + uOutline;\\r\\n  vNegBorderY = uSize.y * 0.5 - uOutline;\\r\\n}\\r\\n@vertex-end@\\r\\n\\r\\n@fragment@\\r\\nprecision mediump float;\\r\\n\\r\\nvarying lowp vec4 vFillColor;\\r\\nvarying lowp vec4 vOutlineColor;\\r\\nvarying vec2 vPosition;\\r\\nvarying float vBorderX;\\r\\nvarying float vNegBorderX;\\r\\nvarying float vBorderY;\\r\\nvarying float vNegBorderY;\\r\\n\\r\\nvoid main() {\\r\\n  if (\\r\\n    vPosition.x > vBorderX &&\\r\\n    vPosition.x < vNegBorderX && \\r\\n    vPosition.y > vBorderY && \\r\\n    vPosition.y < vNegBorderY\\r\\n  ) {\\r\\n    gl_FragColor = vFillColor;\\r\\n  } else {\\r\\n    gl_FragColor = vOutlineColor;\\r\\n  }\\r\\n}\\r\\n@fragment-end@\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-shader/nk-shape2d/nk-rectangle.shader\n// module id = 39\n// module chunks = 0","module.exports = \"/**\\r\\n* @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\\r\\n*/\\r\\n\\r\\n@vertex@\\r\\nattribute vec2 aPosition;\\r\\n\\r\\nuniform mat3 uProjection;\\r\\nuniform lowp vec4 uFillColor;\\r\\nuniform lowp vec4 uOutlineColor;\\r\\nuniform float uRadius;\\r\\nuniform float uOutline;\\r\\n\\r\\nvarying lowp vec4 vFillColor;\\r\\nvarying lowp vec4 vOutlineColor;\\r\\nvarying vec2 vPosition;\\r\\nvarying float vRadius;\\r\\nvarying float vOutline;\\r\\n\\r\\nvoid main() {\\r\\n  gl_Position = vec4( ( uProjection * vec3( aPosition, 1.0 ) ).xy, 0.0, 1.0 );\\r\\n  vFillColor = uFillColor;\\r\\n  vOutlineColor = uOutlineColor;\\r\\n  vPosition = aPosition;\\r\\n  vRadius = uRadius;\\r\\n  vOutline = uOutline;\\r\\n}\\r\\n@vertex-end@\\r\\n\\r\\n@fragment@\\r\\nprecision mediump float;\\r\\n\\r\\nvarying lowp vec4 vFillColor;\\r\\nvarying lowp vec4 vOutlineColor;\\r\\nvarying vec2 vPosition;\\r\\nvarying float vRadius;\\r\\nvarying float vOutline;\\r\\n\\r\\nvoid main() {\\r\\n  float d = dot( vPosition, vPosition );\\r\\n  float rs = vRadius * vRadius;\\r\\n  float ors = vRadius - vOutline;\\r\\n  ors = ors * ors;\\r\\n  if ( d < rs && d > ors ) {\\r\\n    gl_FragColor = vOutlineColor;\\r\\n  } else if ( d < rs ) {\\r\\n    gl_FragColor = vFillColor;\\r\\n  }\\r\\n}\\r\\n@fragment-end@\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-shader/nk-shape2d/nk-circle.shader\n// module id = 40\n// module chunks = 0","module.exports = \"/**\\r\\n* @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\\r\\n*/\\r\\n\\r\\n@vertex@\\r\\nattribute vec3 aProjection1;\\r\\nattribute vec3 aProjection2;\\r\\nattribute vec3 aProjection3;\\r\\nattribute vec2 aPosition;\\r\\nattribute vec4 aColor;\\r\\nattribute float aPointSize;\\r\\n\\r\\nvarying vec4 vColor;\\r\\n\\r\\nvoid main() {\\r\\n  mat3 projection = mat3( aProjection1, aProjection2, aProjection3 );\\r\\n  gl_Position = vec4( ( projection * vec3( aPosition, 1.0 ) ).xy, 0.0, 1.0 );\\r\\n  gl_PointSize = aPointSize;\\r\\n  vColor = aColor;\\r\\n}\\r\\n@vertex-end@\\r\\n\\r\\n@fragment@\\r\\nprecision mediump float;\\r\\n\\r\\nvarying vec4 vColor;\\r\\n\\r\\nvoid main() {\\r\\n  gl_FragColor = vColor;\\r\\n}\\r\\n@fragment-end@\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-shader/nk-pixel/nk-pixel-batch.shader\n// module id = 41\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var CANVAS = null;\r\n  var CANVASRC = null;\r\n  var DPARSER = null;\r\n\r\n  Nenkraft.Utils.GenerateSimpleBase64Png = function ( _imageFunction, _forceWidth, _forceHeight ) {\r\n\r\n    var drawable = _imageFunction();\r\n\r\n    if ( CANVAS == null ) {\r\n\r\n      CANVAS = document.createElement( 'canvas' );\r\n      CANVASRC = CANVAS.getContext( '2d' );\r\n    \r\n    }\r\n\r\n    CANVASRC.clearRect( 0, 0, CANVAS.width, CANVAS.height );\r\n\r\n    CANVAS.width = drawable.w;\r\n    CANVAS.height = drawable.h;\r\n\r\n    if ( _forceWidth != null ) {\r\n\r\n      CANVAS.width = _forceWidth;\r\n    \r\n    }\r\n\r\n    if ( _forceHeight != null ) {\r\n\r\n      CANVAS.height = _forceHeight;\r\n    \r\n    }\r\n\r\n    CANVASRC.setTransform( 1, 0, 0, 1, 0, 0 );\r\n    drawable.Draw( CANVASRC );\r\n    return CANVAS.toDataURL( 'image/png' );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.ImageFromDataURL = function ( _url, _w, _h, _onLoad ) {\r\n\r\n    var image = new Image();\r\n    image.width = _w;\r\n    image.height = _h;\r\n    image.onload = _onLoad;\r\n    image.src = _url;\r\n    return image;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.ParsedXMLToJSON = function ( _pxml, _deleteWhitespace ) {\r\n\r\n    var o = {};\r\n    var i, l, attrs, attr, child, pchild, children = _pxml.childNodes, temp;\r\n\r\n    if ( _pxml.nodeType === 1 ) {\r\n\r\n      attrs = _pxml.attributes;\r\n      l = attrs.length;\r\n\r\n      if ( l > 0 ) {\r\n\r\n        o.attributes = {};\r\n\r\n        for ( i = 0, attr = attrs.item( i ); i < l; attr = attrs.item( ++i ) ) {\r\n\r\n          o.attributes[ attr.nodeName ] = attr.nodeValue;\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    } else if ( _pxml.nodeType === 3 ) {\r\n\r\n      if ( ! /^\\s*$/g.exec( _pxml.nodeValue ) ) {\r\n\r\n        o = _pxml.nodeValue;\r\n\r\n        if ( _deleteWhitespace === true ) {\r\n\r\n          o = o.replace( /^\\s+|\\s+&|\\n/gmi, '' );\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    if ( children != null ) {\r\n\r\n      l = children.length;\r\n\r\n      for ( i = 0, child = children.item( i ); i < l; child = children.item( ++i ) ) {\r\n\r\n        if ( o[ child.nodeName ] === undefined ) {\r\n\r\n          o[ child.nodeName ] = Nenkraft.Utils.ParsedXMLToJSON( child, _deleteWhitespace );\r\n        \r\n        } else {\r\n\r\n          if ( o[ child.nodeName ].push === undefined ) {\r\n\r\n            temp = o[ child.nodeName ];\r\n            o[ child.nodeName ] = [];\r\n\r\n            if ( !Nenkraft.Utils.IsObjectEmpty( temp ) ) {\r\n\r\n              o[ child.nodeName ].push( temp );\r\n            \r\n            }\r\n          \r\n          }\r\n\r\n          pchild = Nenkraft.Utils.ParsedXMLToJSON( child, _deleteWhitespace );\r\n\r\n          if ( !Nenkraft.Utils.IsObjectEmpty( pchild ) ) {\r\n\r\n            o[ child.nodeName ].push( pchild );\r\n          \r\n          }\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    if ( o[ '#text' ] && o[ '#text' ].length === 0 ) {\r\n\r\n      delete o[ '#text' ];\r\n    \r\n    }\r\n\r\n    return o;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.XMLToJSON = function ( _xml, _deleteWhitespace ) {\r\n\r\n    if ( DPARSER == null ) {\r\n\r\n      DPARSER = new DOMParser();\r\n    \r\n    }\r\n\r\n    return Nenkraft.Utils.ParsedXMLToJSON( DPARSER.parseFromString( _xml, 'text/xml' ), _deleteWhitespace );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.DownloadAsJSON = function( _obj, _fileName ) {\r\n\r\n    var url = 'data:text/json;charset=utf-8,' + encodeURIComponent( JSON.stringify( _obj ) );\r\n    var a = document.createElement( 'a' );\r\n    a.setAttribute( 'href', url );\r\n    a.setAttribute( 'download', _fileName + '.json' );\r\n    a.click();\r\n  \r\n  };\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-browser-utils.js\n// module id = 42\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var HexMap = Nenkraft.Utils.Base16ToBase10;\r\n  var Clamp = Nenkraft.Utils.Clamp;\r\n\r\n  function Color ( _r, _g, _b, _a ) {\r\n\r\n    if ( !( this instanceof Color ) ) return new Color( _r, _g, _b, _a );\r\n    this.channel = new Float32Array( [\r\n      _r == null ? 0 : _r,\r\n      _g == null ? 0 : _g,\r\n      _b == null ? 0 : _b,\r\n      _a == null ? 1 : _a\r\n    ] );\r\n    this.ComputeValueRGBA();\r\n  \r\n  }\r\n\r\n  Color.prototype = Object.create( null );\r\n  Color.prototype.constructor = Color;\r\n  // Static\r\n  var NORM = Color.NORM = 1 / 255;\r\n  // Members\r\n  Color.prototype.value = '';\r\n  Color.prototype.currentConversion = '';\r\n\r\n  // Methods\r\n  Color.prototype.Copy = function () {\r\n\r\n    var color = new Color( this.channel[ 0 ], this.channel[ 1 ], this.channel[ 2 ], this.channel[ 3 ] );\r\n    color.value = this.value;\r\n    color.currentConversion = this.currentConversion;\r\n    return color;\r\n  \r\n  };\r\n\r\n  Color.prototype.ComputeValueRGBA = function () {\r\n\r\n    this.value = 'rgba('.concat( this.channel.join( ',' ).concat( ')' ) );\r\n    return this.value;\r\n  \r\n  };\r\n\r\n  Color.prototype.ComputeValueHSLA = function () {\r\n\r\n    this.value = 'hsla(' + this.channel[ 0 ] + ',' + this.channel[ 1 ] + '%,' + this.channel[ 2 ] + '%,' + this.channel[ 3 ] + ')';\r\n    return this.value;\r\n  \r\n  };\r\n\r\n  Color.prototype.ComputeValueHex = function () {\r\n\r\n    this.value = '#' + this.channel[ 0 ].toString( 16 ) + this.channel[ 1 ].toString( 16 ) + this.channel[ 2 ].toString( 16 );\r\n    return this.value;\r\n  \r\n  };\r\n\r\n  Color.prototype.ConvertToHSLA = function ( _round ) {\r\n\r\n    var r = this.channel[ 0 ] / 255, g = this.channel[ 1 ] / 255, b = this.channel[ 2 ] / 255;\r\n    var max = Math.max( r, g, b ), min = Math.min( r, g, b ), maxnmin = max - min, maxpmin = max + min;\r\n    var h = 0, s = 0, l = maxpmin * 0.5;\r\n\r\n    if ( max !== min ) {\r\n\r\n      s = ( l > 0.5 ) ? maxnmin / ( 2 - max - min ) : maxnmin / ( max + min );\r\n      if ( max === r ) h = ( g - b ) / maxnmin + ( ( g < b ) ? 6 : 0 );\r\n      else if ( max === g ) h = ( b - r ) / maxnmin + 2;\r\n      else h = ( r - g ) / maxnmin + 4;\r\n      h /= 6;\r\n    \r\n    }\r\n\r\n    this.channel[ 0 ] = h * 360, this.channel[ 1 ] = s * 100, this.channel[ 2 ] = l * 100;\r\n\r\n    if ( _round === true ) {\r\n\r\n      this.channel[ 0 ] = Math.round( this.channel[ 0 ] );\r\n      this.channel[ 1 ] = Math.round( this.channel[ 1 ] );\r\n      this.channel[ 2 ] = Math.round( this.channel[ 2 ] );\r\n    \r\n    }\r\n\r\n    this.currentConversion = 'hsl';\r\n    this.ComputeValueHSLA();\r\n  \r\n  };\r\n\r\n  Color.prototype.SetRGB = function ( _r, _g, _b, _noCompute ) {\r\n\r\n    var min = 0, max = 255;\r\n    this.channel[ 0 ] = Clamp( _r, min, max );\r\n    this.channel[ 1 ] = Clamp( _g, min, max );\r\n    this.channel[ 2 ] = Clamp( _b, min, max );\r\n    this.currentConversion = 'rgb';\r\n    if ( !_noCompute ) this.ComputeValueRGBA();\r\n  \r\n  };\r\n\r\n  Color.prototype.SetRGBA = function ( _r, _g, _b, _a ) {\r\n\r\n    this.SetRGB( _r, _g, _b, true );\r\n    this.channel[ 3 ] = Clamp( _a, 0, 1 );\r\n    this.ComputeValueRGBA();\r\n  \r\n  };\r\n\r\n  Color.prototype.SetHex = function ( _hex ) {\r\n\r\n    _hex = _hex.replace( /#/g, '' );\r\n    var strs = _hex.match( /.{2}/g );\r\n    strs = strs.map( HexMap );\r\n    if ( strs[ 3 ] == null ) strs[ 3 ] = 1;\r\n    this.SetRGBA( strs[ 0 ], strs[ 1 ], strs[ 2 ], strs[ 3 ] );\r\n  \r\n  };\r\n\r\n  Color.prototype.IncreaseChannel = function ( _channel, _value ) {\r\n\r\n    this.channel[ _channel ] += _value;\r\n    if ( this.currentConversion === 'rgb' ) this.ComputeValueRGBA();\r\n    else if ( this.currentConversion === 'hsl' ) this.ComputeValueHSLA();\r\n  \r\n  };\r\n\r\n  Color.prototype.SetChannel = function ( _channel, _value ) {\r\n\r\n    this.channel[ _channel ] = _value;\r\n    if ( this.currentConversion === 'rgb' ) this.ComputeValueRGBA();\r\n    else if ( this.currentConversion === 'hsl' ) this.ComputeValueHSLA();\r\n  \r\n  };\r\n\r\n  Color.prototype.Normalize = function () {\r\n\r\n    this.channel[ 0 ] = NORM * this.channel[ 0 ];\r\n    this.channel[ 1 ] = NORM * this.channel[ 1 ];\r\n    this.channel[ 2 ] = NORM * this.channel[ 2 ];\r\n  \r\n  };\r\n\r\n  Object.defineProperty( Color.prototype, 'r', {\r\n    set: function ( _value ) {\r\n\r\n      this.channel[ 0 ] = _value;\r\n    \r\n    },\r\n    get: function () {\r\n\r\n      return this.channel[ 0 ];\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Color.prototype, 'g', {\r\n    set: function ( _value ) {\r\n\r\n      this.channel[ 1 ] = _value;\r\n    \r\n    },\r\n    get: function () {\r\n\r\n      return this.channel[ 1 ];\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Color.prototype, 'b', {\r\n    set: function ( _value ) {\r\n\r\n      this.channel[ 2 ] = _value;\r\n    \r\n    },\r\n    get: function () {\r\n\r\n      return this.channel[ 2 ];\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Color.prototype, 'a', {\r\n    set: function ( _value ) {\r\n\r\n      this.channel[ 3 ] = _value;\r\n    \r\n    },\r\n    get: function () {\r\n\r\n      return this.channel[ 3 ];\r\n    \r\n    }\r\n  } );\r\n\r\n  Nenkraft.Color = Color;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-color.js\n// module id = 43\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function CanvasManager ( _canvas, _w, _h, _mode ) {\r\n\r\n    if ( !( this instanceof CanvasManager ) ) return new CanvasManager( _canvas, _w, _h, _mode );\r\n\r\n    this.canvas = _canvas;\r\n    this.w = _w;\r\n    this.h = _h;\r\n\r\n    this.aspectRatio = Nenkraft.Math.SAR( _w, _h );\r\n    this.onChange = Nenkraft.LocalEvent();\r\n\r\n    if ( _mode != null ) {\r\n\r\n      this.mode = _mode;\r\n    \r\n    }\r\n\r\n    _canvas.setAttribute( 'width', _w );\r\n    _canvas.setAttribute( 'height', _h );\r\n\r\n    window.addEventListener( 'resize', this.OnWindowResize.bind( this ) );\r\n  \r\n  }\r\n\r\n  CanvasManager.prototype = Object.create( null );\r\n  CanvasManager.prototype.constructor = CanvasManager;\r\n  // Static\r\n  CanvasManager.FILL_SCREEN = 'FillScreen';\r\n  CanvasManager.KEEP_ASPECT_RATIO = 'KeepAspectRatio';\r\n  CanvasManager.KEEP_ASPECT_RATIO_MIN = 'KeepAspectRatioMIN';\r\n  CanvasManager.KEEP_ASPECT_RATIO_MAX = 'KeepAspectRatioMAX';\r\n  CanvasManager.KEEP_ASPECT_RATIO_FIT = 'KeepAspectRatioFIT';\r\n\r\n  // Members\r\n  CanvasManager.prototype.canvas = null;\r\n  CanvasManager.prototype.stage = null;\r\n  CanvasManager.prototype.container = null;\r\n  CanvasManager.prototype.w = 0;\r\n  CanvasManager.prototype.h = 0;\r\n  CanvasManager.prototype.currentWidth = 0;\r\n  CanvasManager.prototype.currentHeight = 0;\r\n  CanvasManager.prototype.aspectRatio = null;\r\n  CanvasManager.prototype.onChange = null;\r\n  CanvasManager.prototype.mode = CanvasManager.FILL_SCREEN;\r\n\r\n  // Methods\r\n  CanvasManager.prototype.OnWindowResize = function() {\r\n\r\n    this[this.mode]();\r\n  \r\n  };\r\n\r\n  CanvasManager.prototype.Trigger = function() {\r\n\r\n    this.OnWindowResize();\r\n    return this;\r\n  \r\n  };\r\n\r\n  CanvasManager.prototype.Reconfigure = function( _w, _h, _mode ) {\r\n\r\n    this.w = _w;\r\n    this.h = _h;\r\n    this.mode = _mode;\r\n    return this;\r\n  \r\n  };\r\n\r\n  CanvasManager.prototype.BindStage = function( _stage ) {\r\n\r\n    this.stage = _stage;\r\n    return this;\r\n\r\n  };\r\n\r\n  CanvasManager.prototype.BindContainer = function( _container ) {\r\n\r\n    this.container = _container;\r\n    return this;\r\n  \r\n  };\r\n\r\n  CanvasManager.prototype.SetCurrent = function( _w, _h ) {\r\n\r\n    this.canvas.setAttribute( 'width', _w );\r\n    this.canvas.setAttribute( 'height', _h );\r\n\r\n    this.currentWidth = _w;\r\n    this.currentHeight = _h;\r\n\r\n    if ( this.stage !== null ) {\r\n\r\n      this.stage.w = _w;\r\n      this.stage.h = _h;\r\n\r\n      if ( this.stage.mouse ) {\r\n\r\n        this.stage.mouse.scale.Set(\r\n          _w / this.w,\r\n          _h / this.h\r\n        );\r\n      \r\n      } \r\n\r\n      if ( this.stage.touch ) {\r\n\r\n        this.stage.touch.scale.Set(\r\n          _w / this.w,\r\n          _h / this.h\r\n        );\r\n      \r\n      }\r\n\r\n      if ( this.stage.usingWebGL === true ) {\r\n        \r\n        this.stage.GLConfig();\r\n\r\n      }\r\n    \r\n    }\r\n\r\n    if ( this.container !== null ) {\r\n      \r\n      this.container.scale.Set(\r\n        _w / this.w,\r\n        _h / this.h\r\n      );\r\n\r\n    } \r\n  \r\n  };\r\n\r\n  CanvasManager.prototype.FillScreen = function() {\r\n\r\n    this.SetCurrent( window.innerWidth, window.innerHeight );\r\n    \r\n  };\r\n\r\n  CanvasManager.prototype.KeepAspectRatio = function() {\r\n\r\n    var w = window.innerWidth, h = w / this.aspectRatio[0] * this.aspectRatio[1];\r\n\r\n    this.SetCurrent( w, h );\r\n\r\n  };\r\n\r\n  CanvasManager.prototype.KeepAspectRatioMAX = function() {\r\n\r\n    var w = window.innerWidth, h;\r\n\r\n    if ( w >= this.w ) {\r\n\r\n      w = this.w;\r\n      \r\n    }\r\n\r\n    h = w / this.aspectRatio[0] * this.aspectRatio[1];\r\n      \r\n    this.SetCurrent( w, h );\r\n\r\n  };\r\n\r\n  CanvasManager.prototype.KeepAspectRatioMIN = function() {\r\n\r\n    var w = window.innerWidth, h;\r\n\r\n    if ( w <= this.w ) {\r\n\r\n      w = this.w;\r\n      \r\n    }\r\n\r\n    h = w / this.aspectRatio[0] * this.aspectRatio[1];\r\n\r\n    this.SetCurrent( w, h );\r\n    \r\n  };\r\n\r\n  CanvasManager.prototype.KeepAspectRatioFIT = function() {\r\n\r\n    var w = window.innerWidth, h = w / this.aspectRatio[0] * this.aspectRatio[1];\r\n\r\n    if ( h >= window.innerHeight ) {\r\n\r\n      h = window.innerHeight;\r\n      w = h / this.aspectRatio[1] * this.aspectRatio[0];\r\n    \r\n    }\r\n\r\n    this.SetCurrent( w, h );\r\n\r\n  };\r\n\r\n  Nenkraft.Utils.CanvasManager = CanvasManager;\r\n  Nenkraft.CanvasManager = CanvasManager;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-canvas-manager.js\n// module id = 44\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Fill ( _props ) {\r\n\r\n    if ( !( this instanceof Fill ) ) return new Fill( _props );\r\n    Nenkraft.Utils.ApplyProperties( this, _props );\r\n  \r\n  }\r\n\r\n  Fill.prototype = Object.create( null );\r\n  Fill.prototype.constructor = Fill;\r\n  // Static\r\n\r\n  // Members\r\n  Fill.prototype.color = '#444499';\r\n  Fill.prototype.applied = true;\r\n\r\n  // Methods\r\n  Fill.prototype.Apply = function ( _rc ) {\r\n\r\n    _rc.fillStyle = this.color;\r\n  \r\n  };\r\n\r\n  Nenkraft.Style.Fill = Fill;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-style/nk-fill.js\n// module id = 45\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Shadow ( _props ) {\r\n\r\n    if ( !( this instanceof Shadow ) ) return new Shadow( _props );\r\n    Nenkraft.Utils.ApplyProperties( this, _props );\r\n  \r\n  }\r\n\r\n  Shadow.prototype = Object.create( null );\r\n  Shadow.prototype.constructor = Shadow;\r\n  // Static\r\n\r\n  // Members\r\n  Shadow.prototype.color = '#000000';\r\n  Shadow.prototype.blur = 5;\r\n  Shadow.prototype.offsetX = 0;\r\n  Shadow.prototype.offsetY = 0;\r\n  Shadow.prototype.applied = false;\r\n\r\n  // Methods\r\n  Shadow.prototype.Apply = function ( _rc ) {\r\n\r\n    _rc.shadowColor = this.color;\r\n    _rc.shadowBlur = this.blur;\r\n    _rc.shadowOffsetX = this.offsetX;\r\n    _rc.shadowOffsetY = this.offsetY;\r\n  \r\n  };\r\n\r\n  Nenkraft.Style.Shadow = Shadow;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-style/nk-shadow.js\n// module id = 46\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Stroke ( _props ) {\r\n\r\n    if ( !( this instanceof Stroke ) ) return new Stroke( _props );\r\n    Nenkraft.Utils.ApplyProperties( this, _props );\r\n  \r\n  }\r\n\r\n  Stroke.prototype = Object.create( null );\r\n  Stroke.prototype.constructor = Stroke;\r\n  // Static\r\n  Nenkraft.Style.LINE_CAP = {\r\n    ROUND: 'round',\r\n    BUTT: 'butt',\r\n    SQUARE: 'square'\r\n  };\r\n  Nenkraft.Style.LINE_JOIN = {\r\n    BEVEL: 'bevel',\r\n    ROUND: 'round',\r\n    MITER: 'miter'\r\n  };\r\n  // Members\r\n  Stroke.prototype.color = '#00FFFF';\r\n  Stroke.prototype.lineCap = Nenkraft.Style.LINE_CAP.ROUND;\r\n  Stroke.prototype.lineJoin = Nenkraft.Style.LINE_JOIN.ROUND;\r\n  Stroke.prototype.lineWidth = 1;\r\n  Stroke.prototype.miterLimit = 10;\r\n  Stroke.prototype.applied = true;\r\n\r\n  // Methods\r\n  Stroke.prototype.Apply = function ( _rc ) {\r\n\r\n    _rc.strokeStyle = this.color;\r\n    _rc.lineCap = this.lineCap;\r\n    _rc.lineJoin = this.lineJoin;\r\n    _rc.lineWidth = this.lineWidth;\r\n    _rc.miterLimit = this.miterLimit;\r\n  \r\n  };\r\n\r\n  Nenkraft.Style.Stroke = Stroke;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-style/nk-stroke.js\n// module id = 47\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Text ( _props ) {\r\n\r\n    if ( !( this instanceof Text ) ) return new Text( _props );\r\n    Nenkraft.Utils.ApplyProperties( this, _props );\r\n    this.ConcatFont();\r\n  \r\n  }\r\n\r\n  Text.prototype = Object.create( null );\r\n  Text.prototype.constructor = Text;\r\n  // Static\r\n  Nenkraft.Style.TEXT_ALIGN = {\r\n    START: 'start',\r\n    END: 'end',\r\n    CENTER: 'center',\r\n    LEFT: 'left',\r\n    RIGHT: 'right'\r\n  };\r\n  Nenkraft.Style.TEXT_BASELINE = {\r\n    ALPHABETIC: 'alphabetic',\r\n    TOP: 'top',\r\n    HANGING: 'hanging',\r\n    MIDDLE: 'middle',\r\n    IDEOGRAPHIC: 'ideographic',\r\n    BOTTOM: 'bottom'\r\n  };\r\n  // Members\r\n  Text.prototype.fillColor = '#444499';\r\n  Text.prototype.strokeColor = '#00FFFF';\r\n  Text.prototype.fontSize = 22;\r\n  Text.prototype.font = null;\r\n  Text.prototype.fontFamily = 'Arial';\r\n  Text.prototype.align = Nenkraft.Style.TEXT_ALIGN.LEFT;\r\n  Text.prototype.baseline = Nenkraft.Style.TEXT_BASELINE.TOP;\r\n  Text.prototype.applied = true;\r\n  Text.prototype.lineWidth = 0.5;\r\n\r\n  // Methods\r\n  Text.prototype.Apply = function ( _rc ) {\r\n\r\n    _rc.fillStyle = this.fillColor;\r\n    _rc.strokeStyle = this.strokeColor;\r\n    _rc.font = this.font;\r\n    _rc.textAlign = this.align;\r\n    _rc.textBaseline = this.baseline;\r\n    _rc.lineWidth = this.lineWidth;\r\n  \r\n  };\r\n\r\n  Text.prototype.ConcatFont = function () {\r\n\r\n    this.font = this.fontSize + 'px ' + this.fontFamily;\r\n  \r\n  };\r\n\r\n  Nenkraft.Style.Text = Text;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-style/nk-text.js\n// module id = 48\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Pixel ( _props ) {\r\n\r\n    if ( !( this instanceof Pixel ) ) return new Pixel( _props );\r\n    Nenkraft.Utils.ApplyProperties( this, _props );\r\n  \r\n  }\r\n\r\n  Pixel.prototype = Object.create( null );\r\n  Pixel.prototype.constructor = Pixel;\r\n  // Static\r\n\r\n  // Members\r\n  Pixel.prototype.color = '#000000';\r\n  Pixel.prototype.size = 1.0;\r\n  // Methods\r\n  Nenkraft.Style.Pixel = Pixel;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-style/nk-pixel.js\n// module id = 49\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  Nenkraft.Style.CreateAll = function ( _style ) {\r\n\r\n    return {\r\n      fill: Nenkraft.Style.Fill( _style ? _style.fill : null ),\r\n      stroke: Nenkraft.Style.Stroke( _style ? _style.stroke : null ),\r\n      shadow: Nenkraft.Style.Shadow( _style ? _style.shadow : null ),\r\n      text: Nenkraft.Style.Text( _style ? _style.text : null ),\r\n      pixel: Nenkraft.Style.Pixel( _style ? _style.pixel : null )\r\n    };\r\n  \r\n  };\r\n\r\n  Nenkraft.Style.CreateFSSa = function ( _style ) {\r\n\r\n    return {\r\n      fill: Nenkraft.Style.Fill( _style ? _style.fill : null ),\r\n      stroke: Nenkraft.Style.Stroke( _style ? _style.stroke : null ),\r\n      shadow: Nenkraft.Style.Shadow( _style ? _style.shadow : null )\r\n    };\r\n  \r\n  };\r\n\r\n  Nenkraft.Style.CreateSSa = function ( _style ) {\r\n\r\n    return {\r\n      stroke: Nenkraft.Style.Stroke( _style ? _style.stroke : null ),\r\n      shadow: Nenkraft.Style.Shadow( _style ? _style.shadow : null )\r\n    };\r\n  \r\n  };\r\n\r\n  Nenkraft.Style.CreateFSa = function ( _style ) {\r\n\r\n    return {\r\n      fill: Nenkraft.Style.Fill( _style ? _style.fill : null ),\r\n      shadow: Nenkraft.Style.Shadow( _style ? _style.shadow : null )\r\n    };\r\n  \r\n  };\r\n\r\n  Nenkraft.Style.CreateSaT = function ( _style ) {\r\n\r\n    return {\r\n      shadow: Nenkraft.Style.Shadow( _style ? _style.shadow : null ),\r\n      text: Nenkraft.Style.Text( _style ? _style.text : null )\r\n    };\r\n  \r\n  };\r\n\r\n  Nenkraft.Style.CreateP = function ( _style ) {\r\n\r\n    return {\r\n      pixel: Nenkraft.Style.Pixel( _style ? _style.pixel : null )\r\n    };\r\n  \r\n  };\r\n\r\n  Nenkraft.Style.GCO = Object.create( null );\r\n  Nenkraft.Style.GCO.SOURCE_OVER = Nenkraft.Style.GCO.DEFAULT = 'source-over';\r\n  Nenkraft.Style.GCO.SOURCE_IN = 'source-in';\r\n  Nenkraft.Style.GCO.SOURCE_OUT = 'source-out';\r\n  Nenkraft.Style.GCO.SOURCE_ATOP = 'source-atop';\r\n  Nenkraft.Style.GCO.DESTINATION_OVER = 'destination-over';\r\n  Nenkraft.Style.GCO.DESTINATION_IN = 'destination-in';\r\n  Nenkraft.Style.GCO.DESTINATION_OUT = 'destination-out';\r\n  Nenkraft.Style.GCO.DESTINATION_ATOP = 'destination-atop';\r\n  Nenkraft.Style.GCO.LIGHTER = 'lighter';\r\n  Nenkraft.Style.GCO.COPY = 'copy';\r\n  Nenkraft.Style.GCO.XOR = 'xor';\r\n  Nenkraft.Style.GCO.MULTIPLY = 'multiply';\r\n  Nenkraft.Style.GCO.OVERLAY = 'overlay';\r\n  Nenkraft.Style.GCO.DARKEN = 'darken';\r\n  Nenkraft.Style.GCO.LIGHTEN = 'lighten';\r\n  Nenkraft.Style.GCO.COLOR_DODGE = 'color-dodge';\r\n  Nenkraft.Style.GCO.COLOR_BURN = 'color-burn';\r\n  Nenkraft.Style.GCO.HARD_LIGHT = 'hard-light';\r\n  Nenkraft.Style.GCO.SOFT_LIGHT = 'soft-light';\r\n  Nenkraft.Style.GCO.DIFFERENCE = 'difference';\r\n  Nenkraft.Style.GCO.EXCLUSION = 'exclusion';\r\n  Nenkraft.Style.GCO.HUE = 'hue';\r\n  Nenkraft.Style.GCO.SATURATION = 'saturation';\r\n  Nenkraft.Style.GCO.COLOR = 'color';\r\n  Nenkraft.Style.GCO.LUMINOSITY = 'luminosity';\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-style/nk-style.js\n// module id = 50\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function BasicTexture ( _image, _id, _w, _h, _fullWidth, _fullHeight ) {\r\n\r\n    if ( !( this instanceof BasicTexture ) ) return new BasicTexture( _image, _id, _w, _h, _fullWidth, _fullHeight );\r\n    this.image = _image;\r\n\r\n    if ( _id != null ) {\r\n\r\n      this.id = _id;\r\n    \r\n    } else {\r\n\r\n      this.id = _image.id;\r\n    \r\n    }\r\n\r\n    if ( _w != null ) {\r\n\r\n      this.w = _w;\r\n    \r\n    } else {\r\n\r\n      this.w = _image.naturalWidth;\r\n    \r\n    }\r\n\r\n    if ( _h != null ) {\r\n\r\n      this.h = _h;\r\n    \r\n    } else {\r\n\r\n      this.h = _image.naturalHeight;\r\n    \r\n    }\r\n\r\n    if ( _fullWidth != null ) {\r\n\r\n      this.fw = _fullWidth;\r\n    \r\n    } else {\r\n\r\n      this.fw = _image.naturalWidth;\r\n    \r\n    }\r\n\r\n    if ( _fullHeight != null ) {\r\n\r\n      this.fh = _fullHeight;\r\n    \r\n    } else {\r\n\r\n      this.fh = _image.naturalHeight;\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  BasicTexture.prototype = Object.create( null );\r\n  BasicTexture.prototype.constructor = BasicTexture;\r\n  // Static\r\n\r\n  // Members\r\n  BasicTexture.prototype.image = null;\r\n  BasicTexture.prototype.id = null;\r\n  BasicTexture.prototype.w = 0;\r\n  BasicTexture.prototype.h = 0;\r\n  BasicTexture.prototype.fw = 0;\r\n  BasicTexture.prototype.fh = 0;\r\n  //\r\n  BasicTexture.prototype.uniformId = 0;\r\n  // Methods\r\n  Nenkraft.Texture.BasicTexture = BasicTexture;\r\n  Nenkraft.BasicTexture = BasicTexture;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-texture/nk-basic-texture.js\n// module id = 51\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Spritesheet ( _basicTexture, _data ) {\r\n\r\n    if ( !( this instanceof Spritesheet ) ) return new Spritesheet( _basicTexture, _data );\r\n\r\n    this.id = _basicTexture.id;\r\n    this.basicTexture = _basicTexture;\r\n    this.data = _data;\r\n    this.frameCache = Nenkraft.Utils.Cache( Nenkraft.Animator.Frame );\r\n  \r\n  }\r\n\r\n  Spritesheet.prototype = Object.create( null );\r\n  Spritesheet.prototype.constructor = Spritesheet;\r\n  // Static\r\n\r\n  // Members\r\n  Spritesheet.prototype.id = null;\r\n  Spritesheet.prototype.basicTexture = null;\r\n  Spritesheet.prototype.data = null;\r\n  Spritesheet.prototype.frameCache = null;\r\n\r\n  // Methods\r\n  Spritesheet.prototype.GenerateFrames = function() {\r\n\r\n    var data = this.data, frames = data.frames, frameTags = data.meta.frameTags;\r\n\r\n    for ( var i = 0, l = frames.length, frame, frameData, frameTag; i < l; ++i ) {\r\n\r\n      frame = frames[i];\r\n      frameData = frame.frame;\r\n      frameTag = frameTags[i];\r\n      this.frameCache.Store( Nenkraft.Animator.Frame(\r\n        frameData.x,\r\n        frameData.y,\r\n        frameData.w,\r\n        frameData.h,\r\n        frame.duration,\r\n        frameTag ? frameTag.name : null\r\n      ) ); \r\n\r\n    }\r\n  \r\n  };\r\n\r\n  Spritesheet.prototype.GetFrameById = function( _id ) {\r\n\r\n    return this.frameCache.GetById( _id );\r\n  \r\n  };\r\n\r\n  Nenkraft.Texture.Spritesheet = Spritesheet;\r\n  Nenkraft.Spritesheet = Spritesheet;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-texture/nk-spritesheet.js\n// module id = 52\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Ticker ( _onProcess, _rate, _halt ) {\r\n\r\n    if ( !( this instanceof Ticker ) ) return new Ticker( _onProcess, _rate, _halt );\r\n    if ( typeof _onProcess !== 'function' ) throw new Error( 'Ticker: An onProcess function is required!' );\r\n    this.SetDesiredRate( _rate );\r\n    this.onProcess = _onProcess;\r\n\r\n    if ( _halt == undefined || _halt === false ) {\r\n\r\n      this.StartAF();\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  Ticker.prototype = Object.create( null );\r\n  Ticker.prototype.constructor = Ticker;\r\n  // Static\r\n  Ticker.LOG = true;\r\n  Ticker.GLOBAL_CSS = 'background-color:black;font-family:Arial;font-size:16px;';\r\n\r\n  Ticker.Log = function () {\r\n\r\n    if ( Ticker.LOG === false ) return;\r\n    console.log.apply( null, arguments );\r\n  \r\n  };\r\n\r\n  // Members\r\n  Ticker.prototype.intervalId = null;\r\n  Ticker.prototype.afId = null;\r\n  Ticker.prototype.delta = 0;\r\n  Ticker.prototype.then = 0;\r\n  Ticker.prototype.now = 0;\r\n  Ticker.prototype.desiredRate = 0;\r\n  Ticker.prototype.supplyDelta = true;\r\n\r\n  // Methods\r\n  Ticker.prototype.Process = function () {\r\n\r\n    this.onProcess( this.ComputeDelta() );\r\n  \r\n  };\r\n\r\n  Ticker.prototype.ProcessAF = function () {\r\n\r\n    this.ComputeDelta();\r\n    this.onProcess( this.delta );\r\n    if ( this.afId === null ) return;\r\n    this.afId = requestAnimationFrame( this.ProcessAF );\r\n  \r\n  };\r\n\r\n  Ticker.prototype.ComputeDelta = function () {\r\n\r\n    this.now = Date.now();\r\n    this.delta = this.now - this.then;\r\n    this.then = this.now;\r\n\r\n    return this.delta;\r\n  \r\n  };\r\n\r\n  Ticker.prototype.GetTPS = function () {\r\n\r\n    return Nenkraft.Math.PR( 1 / this.delta * 1000, 2 );\r\n  \r\n  };\r\n\r\n  Ticker.prototype.SetDesiredRate = function ( _rate ) {\r\n\r\n    this.desiredRate = _rate === undefined ? 16.66 : 1000 / _rate;\r\n  \r\n  };\r\n\r\n  Ticker.prototype.Start = function ( _force ) {\r\n\r\n    if ( this.afId !== null ) {\r\n\r\n      Ticker.Log( '%cTicker: RAF is running!', 'color:red;'.concat( Ticker.GLOBAL_CSS ) );\r\n      return null;\r\n    \r\n    }\r\n\r\n    if ( this.intervalId !== null ) {\r\n\r\n      if ( _force === true ) {\r\n\r\n        this.Stop();\r\n        this.intervalId = setInterval( this.Process.bind( this ), this.desiredRate );\r\n        Ticker.Log( '%cTicker: Starting interval!', 'color:#0F0;'.concat( Ticker.GLOBAL_CSS ) );\r\n      \r\n      }\r\n      else {\r\n\r\n        Ticker.Log( '%cTicker: Interval already running!', 'color:#F00;'.concat( Ticker.GLOBAL_CSS ) );\r\n      \r\n      }\r\n    \r\n    }\r\n    else {\r\n\r\n      this.intervalId = setInterval( this.Process.bind( this ), this.desiredRate );\r\n      Ticker.Log( '%cTicker: Starting interval!', 'color:#0F0;'.concat( Ticker.GLOBAL_CSS ) );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Ticker.prototype.StartAF = function ( _force ) {\r\n\r\n    if ( this.intervalId !== null ) {\r\n\r\n      Ticker.Log( '%cTicker: Interval is running!', 'color:#F00;'.concat( Ticker.GLOBAL_CSS ) );\r\n      return null;\r\n    \r\n    }\r\n\r\n    if ( this.afId !== null ) {\r\n\r\n      if ( _force === true ) {\r\n\r\n        this.Stop();\r\n        this.ProcessAF = this.ProcessAF.bind( this );\r\n        this.afId = requestAnimationFrame( this.ProcessAF );\r\n        Ticker.Log( '%cTicker: Starting RAF!', 'color:#0F0;'.concat( Ticker.GLOBAL_CSS ) );\r\n      \r\n      }\r\n      else {\r\n\r\n        Ticker.Log( '%cTicker: RAF already running!', 'color:#F00;'.concat( Ticker.GLOBAL_CSS ) );\r\n      \r\n      }\r\n    \r\n    }\r\n    else {\r\n\r\n      this.ProcessAF = this.ProcessAF.bind( this );\r\n      this.afId = requestAnimationFrame( this.ProcessAF );\r\n      Ticker.Log( '%cTicker: Starting RAF!', 'color:#0F0;'.concat( Ticker.GLOBAL_CSS ) );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Ticker.prototype.Stop = function () {\r\n\r\n    if ( this.intervalId !== null ) {\r\n\r\n      clearInterval( this.intervalId );\r\n      this.intervalId = null;\r\n      Ticker.Log( '%cTicker: Stopping interval!', 'color:cyan;'.concat( Ticker.GLOBAL_CSS ) );\r\n    \r\n    }\r\n\r\n    if ( this.afId !== null ) {\r\n\r\n      cancelAnimationFrame( this.afId );\r\n      this.afId = null;\r\n      Ticker.Log( '%cTicker: Stopping RAF!', 'color:cyan;'.concat( Ticker.GLOBAL_CSS ) );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Time.Ticker = Ticker;\r\n  Nenkraft.Ticker = Ticker;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-time/nk-ticker/nk-ticker.js\n// module id = 53\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Mouse ( _element, _offsetX, _offsetY ) {\r\n\r\n    if ( !( this instanceof Mouse ) ) return new Mouse( _element, _offsetX, _offsetY );\r\n    this.element = _element;\r\n    this.position = Nenkraft.Vector2D();\r\n    this.scale = Nenkraft.Vector2D( 1, 1 );\r\n    this.offset = Nenkraft.Vector2D( _offsetX, _offsetY );\r\n    this.eventData = { position: this.position, native: null };\r\n\r\n    this.element.addEventListener( 'mousemove', this.OnMove.bind( this ) );\r\n    this.element.addEventListener( 'mousedown', this.OnDown.bind( this ) );\r\n    this.element.addEventListener( 'mouseup', this.OnUp.bind( this ) );\r\n    this.element.addEventListener( 'mouseleave', this.OnLeave.bind( this ) );\r\n    this.element.addEventListener( 'wheel', this.OnWheel.bind( this ), { passive: true } );\r\n\r\n    this.onMove = Nenkraft.Event.LocalEvent();\r\n    this.onDown = Nenkraft.Event.LocalEvent();\r\n    this.onUp = Nenkraft.Event.LocalEvent();\r\n    this.onLeave = Nenkraft.Event.LocalEvent();\r\n    this.onWheel = Nenkraft.Event.LocalEvent();\r\n  \r\n  }\r\n\r\n  Mouse.prototype = Object.create( null );\r\n  Mouse.prototype.constructor = Mouse;\r\n  // Static\r\n\r\n  // Members\r\n  Mouse.prototype.eventData = null;\r\n\r\n  // Methods\r\n  Mouse.prototype.OnMove = function ( _event ) {\r\n\r\n    _event.preventDefault();\r\n    _event.stopPropagation();\r\n    this.CalculatePosition( _event.pageX, _event.pageY );\r\n    this.eventData.native = _event;\r\n    this.onMove.Dispatch( this.element, this.eventData );\r\n    return false;\r\n  \r\n  };\r\n\r\n  Mouse.prototype.OnDown = function ( _event ) {\r\n\r\n    _event.stopPropagation();\r\n    this.CalculatePosition( _event.pageX, _event.pageY );\r\n    this.eventData.native = _event;\r\n    this.onDown.Dispatch( this.element, this.eventData );\r\n  \r\n  };\r\n\r\n  Mouse.prototype.OnUp = function ( _event ) {\r\n\r\n    _event.stopPropagation();\r\n    this.eventData.native = _event;\r\n    this.onUp.Dispatch( this.element, this.eventData );\r\n  \r\n  };\r\n\r\n  Mouse.prototype.OnLeave = function ( _event ) {\r\n\r\n    _event.stopPropagation();\r\n    this.eventData.native = _event;\r\n    this.onLeave.Dispatch( this.element, this.eventData );\r\n  \r\n  };\r\n\r\n  Mouse.prototype.OnWheel = function ( _event ) {\r\n\r\n    _event.stopPropagation();\r\n    this.eventData.native = _event;\r\n    this.onWheel.Dispatch( this.element, this.eventData );\r\n  \r\n  };\r\n\r\n  Mouse.prototype.CalculatePosition = function( _x, _y ) {\r\n\r\n    var pos = this.position;\r\n    pos.Set( _x, _y );\r\n    pos.Subtract( this.element.offsetLeft, this.element.offsetTop );\r\n    pos.SubtractV( this.offset );\r\n    pos.DivideV( this.scale );\r\n  \r\n  };\r\n\r\n  Object.defineProperty( Mouse.prototype, 'x', {\r\n    get: function () {\r\n\r\n      return this.position.x;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Mouse.prototype, 'y', {\r\n    get: function () {\r\n\r\n      return this.position.y;\r\n    \r\n    }\r\n  } );\r\n  Nenkraft.Input.Mouse = Mouse;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-input/nk-mouse.js\n// module id = 54\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Keyboard ( _element ) {\r\n\r\n    if ( !( this instanceof Keyboard ) ) return new Keyboard( _element );\r\n    this.element = _element;\r\n    this.element.setAttribute( 'tabindex', '1' );\r\n    this.element.focus();\r\n\r\n    this.element.addEventListener( 'keydown', this.OnKeyDown.bind( this ) );\r\n    this.element.addEventListener( 'keyup', this.OnKeyUp.bind( this ) );\r\n\r\n    this.onDown = Nenkraft.Event.LocalEvent();\r\n    this.onUp = Nenkraft.Event.LocalEvent();\r\n  \r\n  }\r\n\r\n  Keyboard.prototype = Object.create( null );\r\n  Keyboard.prototype.constructor = Keyboard;\r\n  // Static\r\n\r\n  // Members\r\n\r\n  // Methods\r\n  Keyboard.prototype.OnKeyDown = function ( _event ) {\r\n\r\n    _event.preventDefault();\r\n    _event.stopPropagation();\r\n    this.onDown.Dispatch( this.element, _event );\r\n  \r\n  };\r\n\r\n  Keyboard.prototype.OnKeyUp = function ( _event ) {\r\n\r\n    _event.preventDefault();\r\n    _event.stopPropagation();\r\n    this.onUp.Dispatch( this.element, _event );\r\n  \r\n  };\r\n\r\n  Nenkraft.Input.Keyboard = Keyboard;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-input/nk-keyboard.js\n// module id = 55\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Touch ( _element, _offsetX, _offsetY ) {\r\n\r\n    if ( !( this instanceof Touch ) ) return new Touch( _element, _offsetX, _offsetY );\r\n    this.element = _element;\r\n    this.position = Nenkraft.Vector2D();\r\n    this.scale = Nenkraft.Vector2D( 1, 1 );\r\n    this.offset = Nenkraft.Vector2D( _offsetX, _offsetY );\r\n    this.eventData = { position: this.position, native: null };\r\n\r\n    this.element.addEventListener( 'touchmove', this.OnMove.bind( this ) );\r\n    this.element.addEventListener( 'touchstart', this.OnStart.bind( this ), { passive: true } );\r\n    this.element.addEventListener( 'touchend', this.OnEnd.bind( this ) );\r\n    this.element.addEventListener( 'touchcancel', this.OnCancel.bind( this ) );\r\n\r\n    this.onMove = Nenkraft.Event.LocalEvent();\r\n    this.onStart = Nenkraft.Event.LocalEvent();\r\n    this.onEnd = Nenkraft.Event.LocalEvent();\r\n    this.onCancel = Nenkraft.Event.LocalEvent();\r\n  \r\n  }\r\n\r\n  Touch.prototype = Object.create( null );\r\n  Touch.prototype.constructor = Touch;\r\n  // Static\r\n\r\n  // Members\r\n  Touch.prototype.eventData = null;\r\n\r\n  // Methods\r\n  Touch.prototype.OnMove = function ( _event ) {\r\n\r\n    _event.preventDefault();\r\n    _event.stopPropagation();\r\n    this.CalculatePosition( _event.touches.item( 0 ).pageX, _event.touches.item( 0 ).pageY );\r\n    this.eventData.native = _event;\r\n    this.onMove.Dispatch( this.element, this.eventData );\r\n    return false;\r\n  \r\n  };\r\n\r\n  Touch.prototype.OnStart = function ( _event ) {\r\n\r\n    _event.stopPropagation();\r\n    this.CalculatePosition( _event.touches.item( 0 ).pageX, _event.touches.item( 0 ).pageY );\r\n    this.eventData.native = _event;\r\n    this.onStart.Dispatch( this.element, this.eventData );\r\n  \r\n  };\r\n\r\n  Touch.prototype.OnEnd = function ( _event ) {\r\n\r\n    _event.stopPropagation();\r\n    this.eventData.native = _event;\r\n    this.onEnd.Dispatch( this.element, this.eventData );\r\n  \r\n  };\r\n\r\n  Touch.prototype.OnCancel = function ( _event ) {\r\n\r\n    _event.stopPropagation();\r\n    this.eventData.native = _event;\r\n    this.onCancel.Dispatch( this.element, this.eventData );\r\n  \r\n  };\r\n\r\n  Touch.prototype.CalculatePosition = function( _x, _y ) {\r\n\r\n    var pos = this.position;\r\n    pos.Set( _x, _y );\r\n    pos.Subtract( this.element.offsetLeft, this.element.offsetTop );\r\n    pos.SubtractV( this.offset );\r\n    pos.DivideV( this.scale );\r\n  \r\n  };\r\n\r\n  Object.defineProperty( Touch.prototype, 'x', {\r\n    get: function () {\r\n\r\n      return this.position.x;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Touch.prototype, 'y', {\r\n    get: function () {\r\n\r\n      return this.position.y;\r\n    \r\n    }\r\n  } );\r\n\r\n  Nenkraft.Input.Touch = Touch;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-input/nk-touch.js\n// module id = 56\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Debug () {\r\n\r\n    throw new Error( 'Cannot be instantiated' );\r\n  \r\n  }\r\n\r\n  Debug.Draw = {};\r\n\r\n  Debug.Draw.AABB2D = function ( _rc, _aabb, _options ) {\r\n\r\n    _rc.setTransform( 1, 0, 0, 1, 0, 0 );\r\n    _rc.globalAlpha = 0.1;\r\n    _rc.strokeStyle = 'rgba(100, 0, 100, 1)';\r\n    _rc.fillStyle = 'rgba(0, 100, 0, 1)';\r\n\r\n    if ( _options && _options.strokeStyle ) {\r\n\r\n      _rc.strokeStyle = _options.strokeStyle;\r\n    \r\n    }\r\n\r\n    if ( _options && _options.fillStyle ) {\r\n\r\n      _rc.fillStyle = _options.fillStyle;\r\n    \r\n    }\r\n\r\n    _rc.lineWidth = 2;\r\n    _rc.beginPath();\r\n    _rc.moveTo( _aabb.tl.x, _aabb.tl.y );\r\n    _rc.lineTo( _aabb.br.x, _aabb.tl.y );\r\n    _rc.lineTo( _aabb.br.x, _aabb.br.y );\r\n    _rc.lineTo( _aabb.tl.x, _aabb.br.y );\r\n    _rc.closePath();\r\n\r\n    if ( _options && _options.noStroke ) {\r\n\r\n    } else {\r\n\r\n      _rc.stroke();\r\n    \r\n    }\r\n\r\n    if ( _options && _options.noFill ) {\r\n\r\n    } else {\r\n\r\n      _rc.fill();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Debug = Debug;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-debug/nk-debug.js\n// module id = 57\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Math.Vector2D;\r\n\r\n  function Pixel ( _x, _y, _style ) {\r\n\r\n    if ( !( this instanceof Pixel ) ) return new Pixel( _x, _y, _style );\r\n    Super.call( this, _x, _y );\r\n    this.style = Nenkraft.Style.CreateP( _style );\r\n    this.colorObj = Nenkraft.Color();\r\n  \r\n  }\r\n\r\n  Pixel.prototype = Object.create( Super.prototype );\r\n  Pixel.prototype.constructor = Pixel;\r\n  // Static\r\n\r\n  // Members\r\n  Pixel.prototype.colorObj = null;\r\n  Pixel.prototype.style = null;\r\n  Pixel.prototype.programController = null;\r\n  Pixel.prototype.bufferData = null;\r\n\r\n  // Methods\r\n  /*\r\n   * Pixel.prototype.Draw = function ( _rc ) {\r\n   * //TODO\r\n   *}; \r\n   */\r\n  Pixel.prototype.GLDraw = function ( _gl, _transform ) {\r\n\r\n    if ( this.programController !== null ) {\r\n\r\n      this.programController.Execute(\r\n        _transform.worldTransform.AsArray( true ),\r\n        this.x, this.y\r\n      );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Pixel.prototype.LinkProgramController = function ( _pc ) {\r\n\r\n    this.programController = _pc;\r\n    this.LinkStyle();\r\n  \r\n  };\r\n\r\n  Pixel.prototype.UseProgramController = function ( _pc ) {\r\n\r\n    this.programController = _pc;\r\n  \r\n  };\r\n\r\n  Pixel.prototype.LinkStyle = function () {\r\n\r\n    var pc = this.programController;\r\n\r\n    if ( pc !== null && pc.color !== null ) {\r\n\r\n      pc.color.SetHex( this.style.pixel.color );\r\n      pc.color.Normalize();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Pixel.prototype.GetBufferData = function () {\r\n\r\n    if ( this.bufferData == null ) {\r\n\r\n      this.bufferData = [];\r\n    \r\n    }\r\n\r\n    var bufferData = this.bufferData;\r\n    bufferData[ 0 ] = this.x;\r\n    bufferData[ 1 ] = this.y;\r\n    bufferData[ 2 ] = this.colorObj.r;\r\n    bufferData[ 3 ] = this.colorObj.g;\r\n    bufferData[ 4 ] = this.colorObj.b;\r\n    bufferData[ 5 ] = this.colorObj.a;\r\n    bufferData[ 6 ] = this.style.pixel.size;\r\n    return bufferData;\r\n  \r\n  };\r\n\r\n  Pixel.prototype.UpdateInBuffer = function ( _buffer, _index ) {\r\n\r\n    _buffer[ _index ] = this.x;\r\n    _buffer[ _index + 1 ] = this.y;\r\n    _buffer[ _index + 2 ] = this.colorObj.r;\r\n    _buffer[ _index + 3 ] = this.colorObj.g;\r\n    _buffer[ _index + 4 ] = this.colorObj.b;\r\n    _buffer[ _index + 5 ] = this.colorObj.a;\r\n    _buffer[ _index + 6 ] = this.style.pixel.size;\r\n  \r\n  };\r\n\r\n  Nenkraft.Path.Pixel = Pixel;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-path/nk-pixel/nk-pixel.js\n// module id = 58\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Geom.Line2D;\r\n\r\n  function Line2D ( _arg0, _arg1, _arg2, _arg3, _style ) {\r\n\r\n    if ( !( this instanceof Line2D ) ) return new Line2D( _arg0, _arg1, _arg2, _arg3, _style );\r\n    Super.call( this, _arg0, _arg1, _arg2, _arg3 );\r\n    this.style = Nenkraft.Style.CreateSSa( _style );\r\n  \r\n  }\r\n\r\n  Line2D.prototype = Object.create( Super.prototype );\r\n  Line2D.prototype.constructor = Line2D;\r\n  // Static\r\n\r\n  // Members\r\n  Line2D.prototype.style = null;\r\n  Line2D.prototype.programController = null;\r\n\r\n  // Methods\r\n  Line2D.prototype.Draw = function ( _rc ) {\r\n\r\n    var s = this.s, e = this.e, style = this.style, stroke = style.stroke, shadow = style.shadow;\r\n    _rc.beginPath();\r\n    _rc.moveTo( s.x, s.y );\r\n    _rc.lineTo( e.x, e.y );\r\n    _rc.closePath();\r\n    if ( shadow.applied === true ) shadow.Apply( _rc );\r\n\r\n    if ( stroke.applied === true ) {\r\n\r\n      stroke.Apply( _rc );\r\n      _rc.stroke();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Line2D.prototype.GLDraw = function ( _gl, _transform ) {\r\n\r\n    if ( this.programController !== null ) {\r\n\r\n      this.programController.Execute(\r\n        _transform.worldTransform.AsArray( true ),\r\n        this.s, this.e\r\n      );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Line2D.prototype.LinkProgramController = function ( _pc ) {\r\n\r\n    this.programController = _pc;\r\n    this.LinkStyle();\r\n  \r\n  };\r\n\r\n  Line2D.prototype.UseProgramController = function ( _pc ) {\r\n\r\n    this.programController = _pc;\r\n  \r\n  };\r\n\r\n  Line2D.prototype.LinkStyle = function () {\r\n\r\n    var pc = this.programController;\r\n\r\n    if ( pc !== null && pc.color !== null ) {\r\n\r\n      pc.color.SetHex( this.style.stroke.color );\r\n      pc.color.Normalize();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Path.Line2D = Line2D;\r\n  Nenkraft.Path.Ray2D = Line2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-path/nk-line/nk-line2d.js\n// module id = 59\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Geom.AABB2D;\r\n\r\n  function AABB2D ( _arg0, _arg1, _arg2, _arg3, _style ) {\r\n\r\n    if ( !( this instanceof AABB2D ) ) return new AABB2D( _arg0, _arg1, _arg2, _arg3, _style );\r\n    Super.call( this, _arg0, _arg1, _arg2, _arg3 );\r\n    this.style = Nenkraft.Style.CreateFSSa( _style );\r\n  \r\n  }\r\n\r\n  AABB2D.prototype = Object.create( Super.prototype );\r\n  AABB2D.prototype.constructor = AABB2D;\r\n  // Static\r\n\r\n  // Members\r\n\r\n  // Methods\r\n  AABB2D.prototype.Draw = function ( _rc ) {\r\n\r\n    var tl = this.tl, br = this.br, style = this.style, fill = style.fill, stroke = style.stroke, shadow = style.shadow;\r\n    _rc.beginPath();\r\n    _rc.moveTo( tl.x, tl.y );\r\n    _rc.lineTo( br.x, tl.y );\r\n    _rc.lineTo( br.x, br.y );\r\n    _rc.lineTo( tl.x, br.y );\r\n    _rc.closePath();\r\n    if ( shadow.applied === true ) shadow.Apply( _rc );\r\n\r\n    if ( fill.applied === true ) {\r\n\r\n      fill.Apply( _rc );\r\n      _rc.fill();\r\n    \r\n    }\r\n\r\n    if ( stroke.applied === true ) {\r\n\r\n      stroke.Apply( _rc );\r\n      _rc.stroke();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.GLDraw = function ( _gl, _transform ) {\r\n\r\n    if ( this.programController !== null ) {\r\n\r\n      this.programController.Execute(\r\n        _transform.worldTransform.AsArray( true ),\r\n        this.tl.x, this.tl.y, this.w, this.h\r\n      );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.LinkProgramController = function ( _pc ) {\r\n\r\n    this.programController = _pc;\r\n    this.LinkStyle();\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.UseProgramController = function ( _pc ) {\r\n\r\n    this.programController = _pc;\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.LinkStyle = function () {\r\n\r\n    var pc = this.programController;\r\n\r\n    if ( pc !== null && pc.fillColor !== null && pc.outlineColor !== null && pc.outline !== null ) {\r\n\r\n      pc.fillColor.SetHex( this.style.fill.color );\r\n      pc.fillColor.Normalize();\r\n      pc.outlineColor.SetHex( this.style.stroke.color );\r\n      pc.outlineColor.Normalize();\r\n      pc.outline = this.style.stroke.lineWidth + 0.2;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Path.AABB2D = AABB2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-path/nk-aabb/nk-aabb2d.js\n// module id = 60\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Geom.Polygon2D;\r\n\r\n  function Polygon2D ( _vertices, _style ) {\r\n\r\n    if ( !( this instanceof Polygon2D ) ) return new Polygon2D( _vertices, _style );\r\n    Super.call( this, _vertices );\r\n    this.style = Nenkraft.Style.CreateFSSa( _style );\r\n  \r\n  }\r\n\r\n  Polygon2D.prototype = Object.create( Super.prototype );\r\n  Polygon2D.prototype.constructor = Polygon2D;\r\n  // Static\r\n\r\n  // Members\r\n\r\n  // Methods\r\n  Polygon2D.prototype.Draw = function ( _rc ) {\r\n\r\n    var style = this.style, fill = style.fill, stroke = style.stroke, shadow = style.shadow;\r\n    var vertices = this.vertices, vertex = vertices[ 0 ];\r\n    _rc.beginPath();\r\n    _rc.moveTo( vertex.x, vertex.y );\r\n\r\n    for ( var i = 1, l = vertices.length; i < l; ++i ) {\r\n\r\n      vertex = vertices[ i ];\r\n      _rc.lineTo( vertex.x, vertex.y );\r\n    \r\n    }\r\n\r\n    _rc.closePath();\r\n    if ( shadow.applied === true ) shadow.Apply( _rc );\r\n\r\n    if ( fill.applied === true ) {\r\n\r\n      fill.Apply( _rc );\r\n      _rc.fill();\r\n    \r\n    }\r\n\r\n    if ( stroke.applied === true ) {\r\n\r\n      stroke.Apply( _rc );\r\n      _rc.stroke();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Path.Polygon2D = Polygon2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-path/nk-polygon/nk-polygon2d.js\n// module id = 61\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Geom.Circle;\r\n\r\n  function Circle ( _x, _y, _radius, _style ) {\r\n\r\n    if ( !( this instanceof Circle ) ) return new Circle( _x, _y, _radius, _style );\r\n    Super.call( this, _x, _y, _radius );\r\n    this.style = Nenkraft.Style.CreateFSSa( _style );\r\n  \r\n  }\r\n\r\n  Circle.prototype = Object.create( Super.prototype );\r\n  Circle.prototype.constructor = Circle;\r\n  // Static\r\n\r\n  // Members\r\n\r\n  // Methods\r\n  Circle.prototype.Draw = function ( _rc ) {\r\n\r\n    var center = this.center, style = this.style, fill = style.fill, stroke = style.stroke, shadow = style.shadow;\r\n    _rc.beginPath();\r\n    _rc.arc( center.x, center.y, this.radius, 0, Nenkraft.Math.PII, false );\r\n    _rc.closePath();\r\n    if ( shadow.applied === true ) shadow.Apply( _rc );\r\n\r\n    if ( fill.applied === true ) {\r\n\r\n      fill.Apply( _rc );\r\n      _rc.fill();\r\n    \r\n    }\r\n\r\n    if ( stroke.applied === true ) {\r\n\r\n      stroke.Apply( _rc );\r\n      _rc.stroke();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Circle.prototype.GLDraw = function ( _gl, _transform ) {\r\n\r\n    if ( this.programController !== null ) {\r\n\r\n      this.programController.Execute(\r\n        _transform.worldTransform.AsArray( true ),\r\n        this.center.x, this.center.y, this.radius\r\n      );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Circle.prototype.LinkProgramController = function ( _pc ) {\r\n\r\n    this.programController = _pc;\r\n    this.LinkStyle();\r\n  \r\n  };\r\n\r\n  Circle.prototype.UseProgramController = function ( _pc ) {\r\n\r\n    this.programController = _pc;\r\n  \r\n  };\r\n\r\n  Circle.prototype.LinkStyle = function () {\r\n\r\n    var pc = this.programController;\r\n\r\n    if ( pc !== null && pc.fillColor !== null && pc.outlineColor !== null && pc.outline !== null ) {\r\n\r\n      pc.fillColor.SetHex( this.style.fill.color );\r\n      pc.fillColor.Normalize();\r\n      pc.outlineColor.SetHex( this.style.stroke.color );\r\n      pc.outlineColor.Normalize();\r\n      pc.outline = this.style.stroke.lineWidth + 0.2;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Path.Circle = Circle;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-path/nk-circle/nk-circle.js\n// module id = 62\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Container2D;\r\n\r\n  function Stage2D ( _options ) {\r\n\r\n    if ( !( this instanceof Stage2D ) ) return new Stage2D( _options );\r\n    Super.call( this, _options.x, _options.y );\r\n    this.positionReconfiguration = Nenkraft.Vector2D( _options.x, _options.y );\r\n\r\n    if ( typeof _options.canvas === 'string' ) {\r\n\r\n      _options.canvas = document.getElementById( _options.canvas );\r\n    \r\n    }\r\n\r\n    this.canvas = _options.canvas;\r\n    this.w = _options.canvas.width;\r\n    this.h = _options.canvas.height;\r\n\r\n    if ( _options.mode === 'WebGL' ) {\r\n\r\n      this.gl = _options.canvas.getContext( 'webgl', {\r\n        antialias: _options.antialias,\r\n        preserveDrawingBuffer: true\r\n      } );\r\n\r\n      if ( this.gl == null ) {\r\n\r\n        this.gl = _options.canvas.getContext( 'experimental-webgl' );\r\n      \r\n      }\r\n\r\n      if ( this.gl == null ) {\r\n\r\n        throw new Error( 'WebGL is not supported!' );\r\n      \r\n      }\r\n\r\n      this.gl.clearColor(\r\n        0.0392156862745098,\r\n        0.0784313725490196,\r\n        0.11764705882352941,\r\n        1.0\r\n      );\r\n      this.usingWebGL = true;\r\n\r\n      if ( _options.noTicker !== true ) {\r\n\r\n        this.ticker = Nenkraft.Time.Ticker( this.GLProcess.bind( this ), 60, _options.halt );\r\n      \r\n      }\r\n\r\n      this.GLConfig( this.gl );\r\n    \r\n    } else {\r\n\r\n      this.rc = _options.canvas.getContext( '2d' );\r\n\r\n      if ( _options.noTicker !== true ) {\r\n\r\n        this.ticker = Nenkraft.Time.Ticker( this.Process.bind( this ), 60, _options.halt );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    if ( _options.backgroundColor != null ) {\r\n\r\n      this.backgroundColor = _options.backgroundColor;\r\n    \r\n    }\r\n\r\n    if ( _options.clear === false ) {\r\n\r\n      this.clear = false;\r\n    \r\n    }\r\n\r\n    if ( _options.fill === false ) {\r\n\r\n      this.fill = false;\r\n    \r\n    }\r\n\r\n    if ( _options.id != null ) {\r\n\r\n      this.id = _options.id;\r\n    \r\n    }\r\n\r\n    this.onProcess = Nenkraft.Event.LocalEvent();\r\n\r\n    if ( _options.noMouse !== true ) {\r\n\r\n      this.mouse = Nenkraft.Input.Mouse( _options.canvas, _options.x, _options.y );\r\n    \r\n    }\r\n\r\n    if ( _options.noKeyboard !== true ) {\r\n\r\n      this.keyboard = Nenkraft.Input.Keyboard( _options.canvas );\r\n    \r\n    }\r\n\r\n    if ( _options.noTouch !== true ) {\r\n\r\n      this.touch = Nenkraft.Input.Touch( _options.canvas, _options.x, _options.y );\r\n\r\n    }\r\n  \r\n  }\r\n\r\n  Stage2D.prototype = Object.create( Super.prototype );\r\n  Stage2D.prototype.constructor = Stage2D;\r\n  // Static\r\n\r\n  // Members\r\n  Stage2D.prototype.id = null;\r\n  Stage2D.prototype.canvas = null;\r\n  Stage2D.prototype.backgroundColor = 'rgba(10,20,30,1)';\r\n  Stage2D.prototype.clear = true;\r\n  Stage2D.prototype.fill = true;\r\n  Stage2D.prototype.usingWebGL = false;\r\n  Stage2D.prototype.positionReconfiguration = null;\r\n  Stage2D.prototype.canvasManager = null;\r\n  Stage2D.prototype.mouse = null;\r\n  Stage2D.prototype.keyboard = null;\r\n  Stage2D.prototype.touch = null;\r\n\r\n  // Methods\r\n  Stage2D.prototype.PreDraw = function ( _rc ) {\r\n\r\n    _rc.setTransform( 1, 0, 0, 1, 0, 0 );\r\n    _rc.globalAlpha = 1.0;\r\n    _rc.globalCompositeOperation = 'source-over';\r\n\r\n    if ( this.fill === true ) {\r\n\r\n      _rc.fillStyle = this.backgroundColor;\r\n      _rc.fillRect( 0, 0, this.w, this.h );\r\n    \r\n    }\r\n    else if ( this.clear === true ) {\r\n\r\n      _rc.clearRect( 0, 0, this.w, this.h );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Stage2D.prototype.GLConfig = function( _gl ) {\r\n\r\n    if ( _gl == null ) _gl = this.gl;\r\n\r\n    this.position.Set( 0, 0 );\r\n    this.scale.Set( 2 / this.w, -2 / this.h );\r\n    this.position.Add( -1, 1 );\r\n    this.position.Add( \r\n      this.positionReconfiguration.x * this.scale.x, \r\n      this.positionReconfiguration.y * this.scale.y\r\n    );\r\n    this.UpdateTransform();\r\n    _gl.viewport( 0, 0, this.w, this.h );\r\n    _gl.enable( _gl.BLEND );\r\n    _gl.disable( _gl.DEPTH_TEST );\r\n    _gl.blendFunc( _gl.SRC_ALPHA, _gl.ONE_MINUS_SRC_ALPHA );\r\n  \r\n  };\r\n\r\n  Stage2D.prototype.GLPreDraw = function ( _gl ) {\r\n\r\n    if ( this.clear === true ) {\r\n\r\n      _gl.clear( _gl.COLOR_BUFFER_BIT );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Stage2D.prototype.GLPostDraw = function ( _gl ) {\r\n\r\n    _gl.flush();\r\n  \r\n  };\r\n\r\n  Stage2D.prototype.Process = function ( _delta ) {\r\n\r\n    this.Draw( this.rc );\r\n    this.onProcess.Dispatch( this, _delta );\r\n  \r\n  };\r\n\r\n  Stage2D.prototype.GLProcess = function ( _delta ) {\r\n\r\n    this.GLDraw( this.gl );\r\n    this.GLPostDraw( this.gl );\r\n    this.onProcess.Dispatch( this, _delta );\r\n  \r\n  };\r\n\r\n  Stage2D.prototype.MixedProcess = function( _delta ) {\r\n\r\n    if ( this.usingWebGL === true ) {\r\n\r\n      this.GLDraw( this.gl );\r\n      this.GLPostDraw( this.gl );\r\n    \r\n    } else {\r\n\r\n      this.Draw( this.rc );\r\n    \r\n    }\r\n\r\n    this.onProcess.Dispatch( this, _delta );\r\n\r\n  };\r\n\r\n  Nenkraft.Entity.Stage2D = Stage2D;\r\n  Nenkraft.Stage2D = Stage2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-stage2d.js\n// module id = 63\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Stadium ( _options ) {\r\n\r\n    if ( !( this instanceof Stadium ) ) return new Stadium( _options );\r\n    this.SetOptions( _options );\r\n    this.stages = [];\r\n\r\n    this.ticker = Nenkraft.Time.Ticker( this.Process.bind( this ), 60, _options.halt );\r\n  \r\n  }\r\n\r\n  Stadium.prototype = Object.create( null );\r\n  Stadium.prototype.constructor = Stadium;\r\n  // Static\r\n\r\n  // Members\r\n  Stadium.prototype.stages = null;\r\n  Stadium.prototype.currentStage = null;\r\n  Stadium.prototype.onlyCurrent = false;\r\n  Stadium.prototype.options = null;\r\n  Stadium.prototype.ticker = null;\r\n\r\n  // Methods\r\n  Stadium.prototype.SetOptions = function( _options ) {\r\n\r\n    if ( _options != null ) {\r\n\r\n      this.options = _options; \r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Stadium.prototype.CreateStage2D = function( _options ) {\r\n\r\n    var id = null;\r\n\r\n    if ( typeof _options === 'string' ) {\r\n\r\n      id = _options;\r\n      _options = null;\r\n    \r\n    }\r\n\r\n    if ( _options == null ) _options = this.options;\r\n    if ( _options == null ) _options = {};\r\n\r\n    if ( id !== null ) {\r\n\r\n      _options.id = id;\r\n    \r\n    }\r\n\r\n    var canvas = document.createElement( 'canvas' );\r\n    if ( _options.width != null ) canvas.width = _options.width;\r\n    if ( _options.height != null ) canvas.height = _options.height;\r\n    if ( _options.className != null ) canvas.className = _options.className;\r\n\r\n    if ( _options.rootNode == null ) _options.rootNode = document.body;\r\n\r\n    _options.rootNode.appendChild( canvas );\r\n    _options.canvas = canvas;\r\n    _options.noTicker = true;\r\n    _options.halt = true;\r\n\r\n    var stage = Nenkraft.Stage2D( _options );\r\n\r\n    _options.id = undefined;\r\n    _options.canvas = undefined;\r\n\r\n    this.stages.push( stage );\r\n\r\n    return stage;\r\n\r\n  };\r\n\r\n  Stadium.prototype.GetStages = function() {\r\n\r\n    var rStages = [];\r\n\r\n    for ( var i = 0, stages = this.stages, l = stages.length, stage; i < l; ++i ) {\r\n\r\n      stage = stages[i];\r\n\r\n      for ( var j = 0; j < arguments.length; ++j ) {\r\n\r\n        if ( stage.id === arguments[j] ) {\r\n\r\n          rStages.push( stage );\r\n        \r\n        } \r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return rStages;\r\n\r\n  };\r\n\r\n  Stadium.prototype.Process = function( _delta ) {\r\n\r\n    for ( var i = 0, stages = this.stages, l = stages.length; i < l; ++i ) {\r\n\r\n      stages[i].MixedProcess( _delta );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Stadium = Stadium;\r\n  Nenkraft.Stadium = Stadium;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-stadium.js\n// module id = 64\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Container2D;\r\n\r\n  function Graphic2D ( _x, _y, _path ) {\r\n\r\n    if ( !( this instanceof Graphic2D ) ) return new Graphic2D( _x, _y, _path );\r\n    Super.call( this, _x, _y );\r\n    this.anchor = Nenkraft.Vector2D();\r\n    this.SetPath( _path );\r\n  \r\n  }\r\n\r\n  Graphic2D.prototype = Object.create( Super.prototype );\r\n  Graphic2D.prototype.constructor = Graphic2D;\r\n  // Static\r\n\r\n  // Members\r\n  Graphic2D.prototype.path = null;\r\n  Graphic2D.prototype.anchor = null;\r\n  Graphic2D.prototype.alpha = 1.0;\r\n  Graphic2D.prototype.gco = Nenkraft.Style.GCO.DEFAULT;\r\n  Graphic2D.prototype.interactive = true;\r\n\r\n  // Methods\r\n  Graphic2D.prototype.Draw = function ( _rc ) {\r\n\r\n    this.PreDraw( _rc );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      this.transform.ApplyWorld( _rc );\r\n      var path = this.path;\r\n\r\n      if ( path && path.Draw && this.display === true ) {\r\n\r\n        _rc.globalAlpha = this.alpha;\r\n        _rc.globalCompositeOperation = this.gco;\r\n        path.Draw( _rc );\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 ) {\r\n\r\n        this.DrawChildren( _rc );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Graphic2D.prototype.GLDraw = function ( _gl ) {\r\n\r\n    this.GLPreDraw( _gl );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      var path = this.path;\r\n\r\n      if ( path && path.GLDraw && this.display === true ) {\r\n\r\n        path.GLDraw( _gl, this.transform );\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 && this.display === true ) {\r\n\r\n        if ( this.isBatchParent === true ) {\r\n\r\n          this.GLBatchDrawChildren( _gl );\r\n        \r\n        } else {\r\n\r\n          this.GLDrawChildren( _gl );\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Graphic2D.prototype.GetBufferData = function () {\r\n\r\n    this.UpdateTransform();\r\n    var transformData = this.transform.worldTransform.AsArray( true );\r\n\r\n    if ( this.bufferData == null ) {\r\n\r\n      this.bufferData = [];\r\n    \r\n    }\r\n\r\n    var bufferData = this.bufferData;\r\n    bufferData.length = 0;\r\n    bufferData[ 0 ] = transformData[ 0 ];\r\n    bufferData[ 1 ] = transformData[ 1 ];\r\n    bufferData[ 2 ] = transformData[ 2 ];\r\n    bufferData[ 3 ] = transformData[ 3 ];\r\n    bufferData[ 4 ] = transformData[ 4 ];\r\n    bufferData[ 5 ] = transformData[ 5 ];\r\n    bufferData[ 6 ] = transformData[ 6 ];\r\n    bufferData[ 7 ] = transformData[ 7 ];\r\n    bufferData[ 8 ] = transformData[ 8 ];\r\n\r\n    if ( this.path && this.path.GetBufferData ) {\r\n\r\n      bufferData.push.apply( bufferData, this.path.GetBufferData() );\r\n    \r\n    }\r\n\r\n    return bufferData;\r\n  \r\n  };\r\n\r\n  Graphic2D.prototype.UpdateInBuffer = function () {\r\n\r\n    this.UpdateTransform();\r\n    var transformData = this.transform.worldTransform.AsArray( true );\r\n    var buffer = this.parent.childDataBuffer;\r\n    var index = this.bufferStartIndex;\r\n    buffer[ index ] = transformData[ 0 ];\r\n    buffer[ index + 1 ] = transformData[ 1 ];\r\n    buffer[ index + 2 ] = transformData[ 2 ];\r\n    buffer[ index + 3 ] = transformData[ 3 ];\r\n    buffer[ index + 4 ] = transformData[ 4 ];\r\n    buffer[ index + 5 ] = transformData[ 5 ];\r\n    buffer[ index + 6 ] = transformData[ 6 ];\r\n    buffer[ index + 7 ] = transformData[ 7 ];\r\n    buffer[ index + 8 ] = transformData[ 8 ];\r\n\r\n    if ( this.path && this.path.UpdateInBuffer ) {\r\n\r\n      this.path.UpdateInBuffer( buffer, index + 9 );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Graphic2D.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    if ( this.interactive === false ) return false;\r\n    var cv = _v.SubtractVC( this.position );\r\n    return this.path.IntersectsPoint( cv );\r\n  \r\n  };\r\n\r\n  Graphic2D.prototype.SetPath = function ( _path ) {\r\n\r\n    if ( _path !== undefined ) {\r\n\r\n      if ( _path.w !== undefined && _path.h !== undefined ) {\r\n\r\n        this.w = _path.w;\r\n        this.h = _path.h;\r\n      \r\n      }\r\n      else if ( _path.GetLength !== undefined ) this.w = this.h = _path.GetLength();\r\n      else if ( _path.diameter !== undefined ) this.w = this.h = _path.diameter;\r\n      else if ( _path.aabb !== undefined ) {\r\n\r\n        this.w = _path.aabb.w;\r\n        this.h = _path.aabb.h;\r\n      \r\n      }\r\n\r\n      this.path = _path;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Graphic2D = Graphic2D;\r\n  Nenkraft.Graphic2D = Graphic2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-graphic2d.js\n// module id = 65\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Plain2D ( _x, _y ) {\r\n\r\n    if ( !( this instanceof Plain2D ) ) return new Plain2D( _x, _y );\r\n    this.transform = Nenkraft.Math.Basetransform2D( _x, _y );\r\n    this.data = Object.create( null );\r\n  \r\n  }\r\n\r\n  Plain2D.prototype = Object.create( null );\r\n  Plain2D.prototype.constructor = Plain2D;\r\n  // Static\r\n  Plain2D.NULL_TRANSFORM = Nenkraft.Math.Basetransform2D();\r\n  // Members\r\n  Plain2D.prototype.parent = null;\r\n  Plain2D.prototype.w = 0;\r\n  Plain2D.prototype.h = 0;\r\n  Plain2D.prototype.bounds = null;\r\n  Plain2D.prototype.boundsDirty = true;\r\n  Plain2D.prototype.render = true;\r\n  Plain2D.prototype.display = true;\r\n  Plain2D.prototype.transformShouldUpdate = true;\r\n  Plain2D.prototype.transformAutomaticUpdate = true;\r\n\r\n  // Methods\r\n  Plain2D.prototype.UpdateTransform = function () {\r\n\r\n    if ( this.parent ) {\r\n\r\n      this.transform.UpdateWorld( this.parent.transform.worldTransform );\r\n    \r\n    } else {\r\n\r\n      this.transform.UpdateWorld( Plain2D.NULL_TRANSFORM.worldTransform );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Plain2D.prototype.GetWorldPosition = function () {\r\n\r\n    return this.transform.worldTransform.Copy();\r\n  \r\n  };\r\n\r\n  Plain2D.prototype.ComputeBounds = function ( _anchor ) {\r\n\r\n    var ax = ( _anchor && _anchor.x ) ? _anchor.x : 0;\r\n    var ay = ( _anchor && _anchor.y ) ? _anchor.y : 0;\r\n\r\n    if ( this.bounds === null ) {\r\n\r\n      this.bounds = Nenkraft.Geom.AABB2D(\r\n        this.x - this.width * ax,\r\n        this.y - this.height * ay,\r\n        this.x + this.width,\r\n        this.y + this.height\r\n      );\r\n      this.bounds.belongsTo = this;\r\n    \r\n    } else {\r\n\r\n      this.bounds.Set(\r\n        this.x - this.width * ax,\r\n        this.y - this.height * ay,\r\n        this.x + this.width,\r\n        this.y + this.height\r\n      );\r\n    \r\n    }\r\n\r\n    this.boundsDirty = false;\r\n    return this.bounds;\r\n  \r\n  };\r\n\r\n  Plain2D.prototype.Destroy = function () {\r\n\r\n    if ( this.parent !== null ) this.parent.RemoveChild( this );\r\n  \r\n  };\r\n\r\n  Plain2D.prototype.AttachTo = function ( _parent ) {\r\n\r\n    _parent.AddChild( this );\r\n  \r\n  };\r\n\r\n  Plain2D.prototype.Detach = function () {\r\n\r\n    if ( this.parent !== null ) return this.parent.RemoveChild( this );\r\n    return null;\r\n  \r\n  };\r\n\r\n  Plain2D.prototype.SendToFront = function () {\r\n\r\n    if ( this.parent !== null ) {\r\n\r\n      var pChildren = this.parent.children;\r\n      var ix = pChildren.indexOf( this );\r\n\r\n      if ( ix !== -1 ) {\r\n\r\n        pChildren.push( pChildren.fickleSplice( ix ) );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Plain2D.prototype.SendToBack = function () {\r\n\r\n    if ( this.parent !== null ) {\r\n\r\n      var pChildren = this.parent.children;\r\n      var ix = pChildren.indexOf( this );\r\n\r\n      if ( ix !== -1 ) {\r\n\r\n        pChildren.unshift( pChildren.fickleSplice( ix ) );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Object.defineProperty( Plain2D.prototype, 'scale', {\r\n    get: function () {\r\n\r\n      return this.transform.scale;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Plain2D.prototype, 'position', {\r\n    get: function () {\r\n\r\n      return this.transform.position;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Plain2D.prototype, 'x', {\r\n    get: function () {\r\n\r\n      return this.transform.position.x;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.transform.position.x = _value;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Plain2D.prototype, 'y', {\r\n    get: function () {\r\n\r\n      return this.transform.position.y;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.transform.position.y = _value;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Plain2D.prototype, 'width', {\r\n    get: function () {\r\n\r\n      return this.w;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.w = _value;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Plain2D.prototype, 'height', {\r\n    get: function () {\r\n\r\n      return this.h;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.h = _value;\r\n    \r\n    }\r\n  } );\r\n  Nenkraft.Entity.Plain2D = Plain2D;\r\n  Nenkraft.Plain2D = Plain2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-plain2d.js\n// module id = 66\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Plain2D;\r\n\r\n  function Plaingraphic2D ( _x, _y, _path ) {\r\n\r\n    if ( !( this instanceof Plaingraphic2D ) ) return new Plaingraphic2D( _x, _y, _path );\r\n    Super.call( this, _x, _y );\r\n\r\n    if ( _path !== undefined ) {\r\n\r\n      if ( _path.w !== undefined && _path.h !== undefined ) {\r\n\r\n        this.w = _path.w;\r\n        this.h = _path.h;\r\n      \r\n      }\r\n      else if ( _path.GetLength !== undefined ) this.w = this.h = _path.GetLength();\r\n      else if ( _path.diameter !== undefined ) this.w = this.h = _path.diameter;\r\n      else if ( _path.aabb !== undefined ) {\r\n\r\n        this.w = _path.aabb.w;\r\n        this.h = _path.aabb.h;\r\n      \r\n      }\r\n\r\n      this.path = _path;\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  Plaingraphic2D.prototype = Object.create( Super.prototype );\r\n  Plaingraphic2D.prototype.constructor = Plaingraphic2D;\r\n  // Static\r\n\r\n  // Members\r\n  Plaingraphic2D.prototype.path = null;\r\n  Plaingraphic2D.prototype.interactive = true;\r\n\r\n  // Methods\r\n  Plaingraphic2D.prototype.Draw = function ( _rc ) {\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      this.transform.ApplyWorld( _rc );\r\n      var path = this.path;\r\n\r\n      if ( path && path.Draw && this.display === true ) {\r\n\r\n        path.Draw( _rc );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Plaingraphic2D.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    if ( this.interactive === false ) return false;\r\n    var cv = _v.SubtractVC( this.position );\r\n    cv.DivideV( this.scale );\r\n    return this.path.IntersectsPoint( cv );\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Plaingraphic2D = Plaingraphic2D;\r\n  Nenkraft.Plaingraphic2D = Plaingraphic2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-plaingraphic2d.js\n// module id = 67\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Plain2D;\r\n\r\n  function Plainsprite ( _x, _y, _texture ) {\r\n\r\n    if ( !( this instanceof Plainsprite ) ) return new Plainsprite( _x, _y, _texture );\r\n    Super.call( this, _x, _y );\r\n    this.anchor = Nenkraft.Vector2D( 0, 0 );\r\n    this.clip = Nenkraft.Geom.AABB2D();\r\n    this.shape = Nenkraft.Geom.AABB2D();\r\n    if ( _texture == null ) _texture = Plainsprite.DEFAULT_TEXTURE;\r\n    this.SetTexture( _texture );\r\n  \r\n  }\r\n\r\n  Plainsprite.prototype = Object.create( Super.prototype );\r\n  Plainsprite.prototype.constructor = Plainsprite;\r\n\r\n  // Static\r\n  Plainsprite.DEFAULT_TEXTURE = null;\r\n\r\n  Plainsprite.BUILD_DEFAULT_TEXTURE = function( _onLoad ) {\r\n\r\n    Plainsprite.DEFAULT_TEXTURE = Nenkraft.Texture.BasicTexture(\r\n      Nenkraft.Utils.ImageFromDataURL(\r\n        Nenkraft.Utils.GenerateSimpleBase64Png( function () {\r\n  \r\n          // Oooh what fun.\r\n          var path = Nenkraft.Path.Polygon2D();\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 64 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 64 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 32, 32 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 32, 32 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 64 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 32, 32 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 64 ) );\r\n          path.ComputeBounds();\r\n          path.style.fill.color = 'rgba(66,66,66,0.5)';\r\n          path.style.stroke.color = '#3399FF';\r\n          path.style.stroke.lineWidth = 3;\r\n          return Nenkraft.Graphic2D( 0, 0, path );\r\n        \r\n        } ), 64, 64, _onLoad\r\n      ), 'DEFAULT_PLAINSPRITE_TEXTURE', 64, 64, 64, 64\r\n    );\r\n\r\n    delete Plainsprite.BUILD_DEFAULT_TEXTURE;\r\n  \r\n  };\r\n\r\n  // Members\r\n  Plainsprite.prototype.shape = null;\r\n  Plainsprite.prototype.clip = null;\r\n  Plainsprite.prototype.texture = null;\r\n  Plainsprite.prototype.anchor = null;\r\n  Plainsprite.prototype.interactive = true;\r\n\r\n  // Methods\r\n  Plainsprite.prototype.Draw = function ( _rc ) {\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      this.transform.ApplyWorld( _rc );\r\n\r\n      if ( this.display === true ) {\r\n\r\n        var clip = this.clip, tl = clip.tl, br = clip.br, w = this.w, h = this.h, anchor = this.anchor;\r\n        _rc.drawImage(\r\n          this.texture.image,\r\n          tl.x, tl.y, br.x, br.y, -w * anchor.x, -h * anchor.y, w, h\r\n        );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Plainsprite.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    if ( this.interactive === false ) return false;\r\n    var cv = _v.SubtractVC( this.position );\r\n    cv.Add( this.w * this.anchor.x, this.h * this.anchor.y );\r\n    return this.shape.IntersectsPoint( cv );\r\n  \r\n  };\r\n\r\n  Plainsprite.prototype.SetTexture = function ( _texture ) {\r\n\r\n    this.texture = _texture;\r\n    this.w = _texture.w;\r\n    this.h = _texture.h;\r\n    this.clip.Set( 0, 0, this.w, this.h );\r\n    this.shape.SetC( this.clip );\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Plainsprite = Plainsprite;\r\n  Nenkraft.Plainsprite = Plainsprite;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-plainsprite.js\n// module id = 68\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Container2D;\r\n\r\n  function Text ( _x, _y, _text ) {\r\n\r\n    if ( !( this instanceof Text ) ) return new Text( _x, _y, _text );\r\n    Super.call( this, _x, _y );\r\n    if ( _text !== undefined ) this.text = _text;\r\n    this.style = Nenkraft.Style.CreateSaT();\r\n  \r\n  }\r\n\r\n  Text.prototype = Object.create( Super.prototype );\r\n  Text.prototype.constructor = Text;\r\n  // Static\r\n\r\n  // Members\r\n  Text.prototype.text = '';\r\n  Text.prototype.maxWidth = undefined;\r\n  Text.prototype.alpha = 1.0;\r\n  Text.prototype.gco = Nenkraft.Style.GCO.DEFAULT;\r\n\r\n  // Methods\r\n  Text.prototype.Draw = function ( _rc ) {\r\n\r\n    this.PreDraw( _rc );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      this.transform.ApplyWorld( _rc );\r\n\r\n      if ( this.display === true ) {\r\n\r\n        var style = this.style;\r\n\r\n        if ( style.shadow.applied === true ) {\r\n\r\n          style.shadow.Apply( _rc );\r\n        \r\n        }\r\n\r\n        if ( style.text.applied === true ) {\r\n\r\n          style.text.Apply( _rc );\r\n          _rc.globalAlpha = this.alpha;\r\n          _rc.globalCompositeOperation = this.gco;\r\n          _rc.fillText( this.text, 0, 0, this.maxWidth );\r\n          _rc.strokeText( this.text, 0, 0, this.maxWidth );\r\n        \r\n        }\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 ) {\r\n\r\n        this.DrawChildren( _rc );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Text.prototype.IntersectsPoint = function () {\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Text = Text;\r\n  Nenkraft.Text = Text;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-text.js\n// module id = 69\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Container2D;\r\n\r\n  function Sprite ( _x, _y, _texture, _unitId ) {\r\n\r\n    if ( !( this instanceof Sprite ) ) return new Sprite( _x, _y, _texture, _unitId );\r\n    Super.call( this, _x, _y );\r\n    this.anchor = Nenkraft.Vector2D( 0, 0 );\r\n    this.clip = Nenkraft.Geom.AABB2D();\r\n    this.shape = Nenkraft.Geom.AABB2D();\r\n    this.textureTransformation = Nenkraft.Math.Matrix2D();\r\n    this.textureTranslation = Nenkraft.Math.Matrix2D();\r\n    this.originalShape = Nenkraft.Geom.AABB2D();\r\n    this.tint = Nenkraft.Color( 1.0, 1.0, 1.0, 1.0 );\r\n\r\n    if ( _texture instanceof Nenkraft.GLTextureProgramController ) {\r\n\r\n      this.programController = _texture;\r\n\r\n      if ( _unitId != null ) {\r\n\r\n        this.SetTexture( _texture['originalTexture' + _unitId] );\r\n      \r\n      } else {\r\n\r\n        this.SetTexture( _texture.originalTexture0 );\r\n      \r\n      }\r\n    \r\n    }\r\n    else if ( _texture == null ) {\r\n\r\n      this.SetTexture( Sprite.DEFAULT_TEXTURE );\r\n    \r\n    } else {\r\n\r\n      this.SetTexture( _texture );\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  Sprite.prototype = Object.create( Super.prototype );\r\n  Sprite.prototype.constructor = Sprite;\r\n\r\n  // Static\r\n  Sprite.DEFAULT_TEXTURE = null;\r\n\r\n  Sprite.BUILD_DEFAULT_TEXTURE = function( _onLoad ) {\r\n\r\n    Sprite.DEFAULT_TEXTURE = Nenkraft.Texture.BasicTexture(\r\n      Nenkraft.Utils.ImageFromDataURL(\r\n        Nenkraft.Utils.GenerateSimpleBase64Png( function () {\r\n  \r\n          // Oooh what fun.\r\n          var path = Nenkraft.Path.Polygon2D();\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 64 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 64 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 32, 32 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 32, 32 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 64 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 32, 32 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 64 ) );\r\n          path.ComputeBounds();\r\n          path.style.fill.color = 'rgba(66,66,66,0.5)';\r\n          path.style.stroke.color = '#00FFFF';\r\n          path.style.stroke.lineWidth = 3;\r\n          return Nenkraft.Graphic2D( 0, 0, path );\r\n        \r\n        } ), 64, 64, _onLoad\r\n      ), 'DEFAULT_SPRITE_TEXTURE', 64, 64, 64, 64\r\n    );\r\n\r\n    delete Sprite.BUILD_DEFAULT_TEXTURE;\r\n  \r\n  };\r\n\r\n  // Members\r\n  Sprite.prototype.shape = null;\r\n  Sprite.prototype.originalShape = null;\r\n  Sprite.prototype.clip = null;\r\n  Sprite.prototype.texture = null;\r\n  Sprite.prototype.anchor = null;\r\n  Sprite.prototype.tint = null;\r\n  Sprite.prototype.gco = Nenkraft.Style.GCO.DEFAULT;\r\n  Sprite.prototype.interactive = true;\r\n  Sprite.prototype.programController = null;\r\n  Sprite.prototype.textureTransformation = null;\r\n  Sprite.prototype.textureTranslation = null;\r\n  Sprite.prototype.animationController = null;\r\n\r\n  // Methods\r\n  Sprite.prototype.Draw = function ( _rc ) {\r\n\r\n    this.PreDraw( _rc );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      this.transform.ApplyWorld( _rc );\r\n\r\n      if ( this.display === true ) {\r\n\r\n        var clip = this.clip, tl = clip.tl, br = clip.br, w = this.w, h = this.h, anchor = this.anchor;\r\n        _rc.globalAlpha = this.tint.channel[3];\r\n        _rc.globalCompositeOperation = this.gco;\r\n        _rc.drawImage(\r\n          this.texture.image,\r\n          tl.x, tl.y, br.x, br.y, -w * anchor.x, -h * anchor.y, w, h\r\n        );\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 ) {\r\n\r\n        this.DrawChildren( _rc );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Sprite.prototype.GLDraw = function ( _gl ) {\r\n\r\n    this.GLPreDraw( _gl );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      if ( this.display === true && this.programController !== null ) {\r\n\r\n        this.programController.Execute(\r\n          this.transform.worldTransform.AsArray( true ),\r\n          this.textureTranslation.AsArray( true ),\r\n          this.textureTransformation.AsArray( true ),\r\n          this.tint.channel,\r\n          this.texture.uniformId\r\n        );\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 && this.display === true ) {\r\n\r\n        if ( this.isBatchParent === true ) {\r\n\r\n          this.GLBatchDrawChildren( _gl );\r\n        \r\n        } else {\r\n\r\n          this.GLDrawChildren( _gl );\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Sprite.prototype.GetBufferData = function () {\r\n\r\n    this.UpdateTransform();\r\n    this.UpdateTextureTransform();\r\n    var transformData = this.transform.worldTransform.AsArray( true );\r\n    var textureTranslationData = this.textureTranslation.AsArray( true );\r\n    var textureTransformationData = this.textureTransformation.AsArray( true );\r\n\r\n    if ( this.bufferData == null ) {\r\n\r\n      this.bufferData = [];\r\n    \r\n    }\r\n\r\n    var bufferData = this.bufferData;\r\n    bufferData.length = 0;\r\n    bufferData[ 0 ] = transformData[ 0 ];\r\n    bufferData[ 1 ] = transformData[ 1 ];\r\n    bufferData[ 2 ] = transformData[ 2 ];\r\n    bufferData[ 3 ] = transformData[ 3 ];\r\n    bufferData[ 4 ] = transformData[ 4 ];\r\n    bufferData[ 5 ] = transformData[ 5 ];\r\n    bufferData[ 6 ] = transformData[ 6 ];\r\n    bufferData[ 7 ] = transformData[ 7 ];\r\n    bufferData[ 8 ] = transformData[ 8 ];\r\n    bufferData[ 9 ] = textureTranslationData[ 0 ];\r\n    bufferData[ 10 ] = textureTranslationData[ 1 ];\r\n    bufferData[ 11 ] = textureTranslationData[ 2 ];\r\n    bufferData[ 12 ] = textureTranslationData[ 3 ];\r\n    bufferData[ 13 ] = textureTranslationData[ 4 ];\r\n    bufferData[ 14 ] = textureTranslationData[ 5 ];\r\n    bufferData[ 15 ] = textureTranslationData[ 6 ];\r\n    bufferData[ 16 ] = textureTranslationData[ 7 ];\r\n    bufferData[ 17 ] = textureTranslationData[ 8 ];\r\n    bufferData[ 18 ] = textureTransformationData[ 0 ];\r\n    bufferData[ 19 ] = textureTransformationData[ 1 ];\r\n    bufferData[ 20 ] = textureTransformationData[ 2 ];\r\n    bufferData[ 21 ] = textureTransformationData[ 3 ];\r\n    bufferData[ 22 ] = textureTransformationData[ 4 ];\r\n    bufferData[ 23 ] = textureTransformationData[ 5 ];\r\n    bufferData[ 24 ] = textureTransformationData[ 6 ];\r\n    bufferData[ 25 ] = textureTransformationData[ 7 ];\r\n    bufferData[ 26 ] = textureTransformationData[ 8 ];\r\n    return bufferData;\r\n  \r\n  };\r\n\r\n  Sprite.prototype.UpdateInBuffer = function () {\r\n\r\n    this.UpdateTransform();\r\n    this.UpdateTextureTransform();\r\n    var transformData = this.transform.worldTransform.AsArray( true );\r\n    var textureTranslationData = this.textureTranslation.AsArray( true );\r\n    var textureTransformationData = this.textureTransformation.AsArray( true );\r\n    var buffer = this.parent.childDataBuffer;\r\n    var index = this.bufferStartIndex;\r\n    buffer[ index ] = transformData[ 0 ];\r\n    buffer[ index + 1 ] = transformData[ 1 ];\r\n    buffer[ index + 2 ] = transformData[ 2 ];\r\n    buffer[ index + 3 ] = transformData[ 3 ];\r\n    buffer[ index + 4 ] = transformData[ 4 ];\r\n    buffer[ index + 5 ] = transformData[ 5 ];\r\n    buffer[ index + 6 ] = transformData[ 6 ];\r\n    buffer[ index + 7 ] = transformData[ 7 ];\r\n    buffer[ index + 8 ] = transformData[ 8 ];\r\n    buffer[ index + 9 ] = textureTranslationData[ 0 ];\r\n    buffer[ index + 10 ] = textureTranslationData[ 1 ];\r\n    buffer[ index + 11 ] = textureTranslationData[ 2 ];\r\n    buffer[ index + 12 ] = textureTranslationData[ 3 ];\r\n    buffer[ index + 13 ] = textureTranslationData[ 4 ];\r\n    buffer[ index + 14 ] = textureTranslationData[ 5 ];\r\n    buffer[ index + 15 ] = textureTranslationData[ 6 ];\r\n    buffer[ index + 16 ] = textureTranslationData[ 7 ];\r\n    buffer[ index + 17 ] = textureTranslationData[ 8 ];\r\n    buffer[ index + 18 ] = textureTransformationData[ 0 ];\r\n    buffer[ index + 19 ] = textureTransformationData[ 1 ];\r\n    buffer[ index + 20 ] = textureTransformationData[ 2 ];\r\n    buffer[ index + 21 ] = textureTransformationData[ 3 ];\r\n    buffer[ index + 22 ] = textureTransformationData[ 4 ];\r\n    buffer[ index + 23 ] = textureTransformationData[ 5 ];\r\n    buffer[ index + 24 ] = textureTransformationData[ 6 ];\r\n    buffer[ index + 25 ] = textureTransformationData[ 7 ];\r\n    buffer[ index + 26 ] = textureTransformationData[ 8 ];\r\n  \r\n  };\r\n\r\n  Sprite.prototype.UpdateTextureTransform = function () {\r\n\r\n    var tscaleX = this.w / this.texture.fw;\r\n    var tscaleY = this.h / this.texture.fh;\r\n\r\n    this.textureTranslation.TranslateTo(\r\n      -this.w * this.anchor.x,\r\n      -this.h * this.anchor.y\r\n    );\r\n    this.textureTransformation.TranslateTo(\r\n      tscaleX * this.clip.tl.x / this.w,\r\n      tscaleY * this.clip.tl.y / this.h\r\n    );\r\n  \r\n  };\r\n\r\n  Sprite.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    if ( this.interactive === false ) return false;\r\n    var cv = _v.SubtractVC( this.position );\r\n    cv.Add( this.width * this.anchor.x, this.height * this.anchor.y );\r\n    return this.shape.IntersectsPoint( cv );\r\n  \r\n  };\r\n\r\n  Sprite.prototype.UpdateShape = function ( _newShape ) {\r\n\r\n    if ( _newShape != null ) {\r\n\r\n      this.originalShape = _newShape;\r\n    \r\n    }\r\n\r\n    this.shape.SetC( this.originalShape );\r\n    this.shape.Scale( this.scale.x, this.scale.y );\r\n  \r\n  };\r\n\r\n  Sprite.prototype.SetTexture = function ( _texture ) {\r\n\r\n    this.texture = _texture;\r\n    this.ClipReconfigure( 0, 0, _texture.w, _texture.h );\r\n    this.shape.SetC( this.clip );\r\n    this.originalShape.SetC( this.shape );\r\n  \r\n  };\r\n\r\n  Sprite.prototype.ClipReconfigure = function( _x, _y, _w, _h ) {\r\n\r\n    var tscaleX = _w / this.texture.fw;\r\n    var tscaleY = _h / this.texture.fh;\r\n\r\n    var width = this.width;\r\n    var height = this.height;\r\n\r\n    this.clip.Set( _x, _y, _w, _h );\r\n    this.w = _w;\r\n    this.h = _h;\r\n\r\n    if ( width !== 0 && height !== 0 ) {\r\n\r\n      this.width = width;\r\n      this.height = height;\r\n    \r\n    }\r\n    \r\n    this.textureTranslation.SetTransform( \r\n      -_w * this.anchor.x,\r\n      -_h * this.anchor.y,\r\n      tscaleX, tscaleY\r\n    );\r\n    this.textureTransformation.SetTransform( \r\n      tscaleX * this.clip.tl.x / _w,\r\n      tscaleY * this.clip.tl.y / _h,\r\n      tscaleX, tscaleY\r\n    );\r\n  \r\n  };\r\n\r\n  Sprite.prototype.CreateAnimation = function( _data ) {\r\n\r\n    if ( this.animationController === null ) {\r\n\r\n      this.animationController = Nenkraft.Animator.Controller( this );\r\n    \r\n    }\r\n\r\n    var animation = this.animationController.CreateAnimation( _data.id, _data.rate );\r\n\r\n    if ( _data.spritesheet != null ) {\r\n\r\n      for ( var i = 0; i < _data.frames.length; ++i ) {\r\n\r\n        animation.AddFrame( _data.spritesheet.GetFrameById( _data.frames[i] ) );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return animation;\r\n    \r\n  };\r\n\r\n  Object.defineProperty( Sprite.prototype, 'width', {\r\n    get: function () {\r\n\r\n      return this.w * this.scale.x;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.scale.x = _value / this.w;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Sprite.prototype, 'height', {\r\n    get: function () {\r\n\r\n      return this.h * this.scale.y;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.scale.y = _value / this.h;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Sprite.prototype, 'alpha', {\r\n    get: function() {\r\n\r\n      return this.tint.channel[3];\r\n    \r\n    },\r\n    set: function( _value ) {\r\n\r\n      this.tint.channel[3] = _value;\r\n    \r\n    }\r\n  } );\r\n\r\n  Nenkraft.Entity.Sprite = Sprite;\r\n  Nenkraft.Sprite = Sprite;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-sprite.js\n// module id = 70\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Sprite;\r\n\r\n  function Tilesprite ( _x, _y, _texture, _unitId ) {\r\n\r\n    if ( !( this instanceof Tilesprite ) ) return new Tilesprite( _x, _y, _texture, _unitId );\r\n    if ( _texture == null ) _texture = Tilesprite.DEFAULT_TEXTURE;\r\n    Super.call( this, _x, _y, _texture, _unitId );\r\n    this.patternOffset = Nenkraft.Vector2D();\r\n  \r\n  }\r\n\r\n  Tilesprite.prototype = Object.create( Super.prototype );\r\n  Tilesprite.prototype.constructor = Tilesprite;\r\n  // Static\r\n  Tilesprite.DEFAULT_TEXTURE = null;\r\n\r\n  Tilesprite.BUILD_DEFAULT_TEXTURE = function( _onLoad ) {\r\n\r\n    Tilesprite.DEFAULT_TEXTURE = Nenkraft.Texture.BasicTexture(\r\n      Nenkraft.Utils.ImageFromDataURL(\r\n        Nenkraft.Utils.GenerateSimpleBase64Png( function () {\r\n  \r\n          // Oooh what fun.\r\n          var path = Nenkraft.Path.Polygon2D();\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 64 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 64 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 32, 32 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 0 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 32, 32 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 64, 64 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 32, 32 ) );\r\n          path.AddPoint( Nenkraft.Vector2D( 0, 64 ) );\r\n          path.ComputeBounds();\r\n          path.style.fill.color = 'rgba(66,66,66,0.5)';\r\n          path.style.stroke.color = '#446644';\r\n          path.style.stroke.lineWidth = 3;\r\n          return Nenkraft.Graphic2D( 0, 0, path );\r\n        \r\n        } ), 64, 64, _onLoad\r\n      ), 'DEFAULT_TILESPRITE_TEXTURE', 64, 64, 64, 64\r\n    );\r\n\r\n    delete Tilesprite.BUILD_DEFAULT_TEXTURE;\r\n  \r\n  };\r\n\r\n  // Members\r\n  Tilesprite.prototype.pattern = null;\r\n  Tilesprite.prototype.patternOffset = null;\r\n\r\n  // Methods\r\n  Tilesprite.prototype.Draw = function( _rc ) {\r\n\r\n    this.PreDraw( _rc );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      this.transform.ApplyWorld( _rc );\r\n\r\n      if ( this.display === true && this.pattern !== null ) {\r\n\r\n        _rc.globalAlpha = this.tint.channel[3];\r\n        _rc.globalCompositeOperation = this.gco;\r\n        _rc.fillStyle = this.pattern;\r\n        _rc.beginPath();\r\n        _rc.rect( 0, 0, this.w, this.h );\r\n        _rc.closePath();\r\n        _rc.translate( this.patternOffset.x, this.patternOffset.y );\r\n        _rc.fill();\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 ) {\r\n\r\n        this.DrawChildren( _rc );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Tilesprite.prototype.GeneratePattern = function( _rc, _w, _h ) {\r\n\r\n    if ( this.programController == null ) {\r\n\r\n      this.pattern = _rc.createPattern( this.texture.image, null );\r\n      this.w = _w;\r\n      this.h = _h;\r\n      this.scale.Set( 1.0 );\r\n    \r\n    } else {\r\n\r\n      this.width = _w;\r\n      this.height = _h;\r\n      this.textureTransformation.SetTransform( 0, 0, this.scale.x, this.scale.y );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Tilesprite.prototype.OffsetPattern = function( _x, _y ) {\r\n\r\n    this.patternOffset.Add( _x, _y );\r\n    this.textureTransformation.Translate( -_x / this.w, -_y / this.h );\r\n  \r\n  };\r\n\r\n  Tilesprite.prototype.SetPatternOffset = function ( _x, _y ) {\r\n\r\n    this.patternOffset.Set( _x, _y );\r\n    this.textureTransformation.TranslateTo( -_x / this.w, -_y / this.h );\r\n  \r\n  };\r\n\r\n  Tilesprite.prototype.GetPatternOffset = function() {\r\n\r\n    return this.patternOffset;\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Tilesprite = Tilesprite;\r\n  Nenkraft.Tilesprite = Tilesprite;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-tilesprite.js\n// module id = 71\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.CoreEntity2D;\r\n\r\n  function Char ( _data ) {\r\n\r\n    if ( !( this instanceof Char ) ) return new Char( _data );\r\n    Super.call( this );\r\n\r\n    if ( _data ) {\r\n\r\n      this.id = parseInt( _data.id );\r\n      this.cx = parseInt( _data.x );\r\n      this.cy = parseInt( _data.y );\r\n      this.w = parseInt( _data.width );\r\n      this.h = parseInt( _data.height );\r\n      this.xoffset = parseInt( _data.xoffset );\r\n      this.yoffset = parseInt( _data.yoffset );\r\n      this.xadvance = parseInt( _data.xadvance );\r\n      this.kernings = [];\r\n      this.translation = Nenkraft.Matrix2D();\r\n      this.transformation = Nenkraft.Matrix2D();\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  Char.prototype = Object.create( Super.prototype );\r\n  Char.prototype.constructor = Char;\r\n  /*\r\n   *Static\r\n   *Members\r\n   */\r\n  Char.prototype.id = 0;\r\n  Char.prototype.xoffset = 0;\r\n  Char.prototype.yoffset = 0;\r\n  Char.prototype.xadvance = 0;\r\n  Char.prototype.yadvance = 0;\r\n  Char.prototype.kernings = null;\r\n  //\r\n  Char.prototype.translation = null;\r\n  Char.prototype.transformation = null;\r\n\r\n  // Methods\r\n  Char.prototype.ApplyKernings = function ( _kernings ) {\r\n\r\n    for ( var i = 0, attributes, l = _kernings.length; i < l; ++i ) {\r\n\r\n      attributes = _kernings[ i ].attributes;\r\n\r\n      if ( parseInt( attributes.first ) === this.id ) {\r\n\r\n        this.kernings.push(\r\n          parseInt( attributes.first ),\r\n          parseInt( attributes.second ),\r\n          parseInt( attributes.amount )\r\n        );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Char.prototype.Draw = function( _rc ) {\r\n\r\n    _rc.drawImage(\r\n      this.texture.image,\r\n      this.cx, this.cy,\r\n      this.width, this.height,\r\n      this.position.x, this.position.y,\r\n      this.width, this.height\r\n    );\r\n  \r\n  };\r\n\r\n  Char.prototype.GLDrawAuto = function( _pc, _tintChannel ) {\r\n\r\n    this.UpdateMatrices();\r\n    _pc.Execute(\r\n      this.transform.worldTransform.AsArray( true ),\r\n      this.translation.AsArray( true ),\r\n      this.transformation.AsArray( true ),\r\n      _tintChannel,\r\n      0\r\n    );\r\n  \r\n  };\r\n\r\n  Char.prototype.GLDraw = function( _pc, _tintChannel ) {\r\n\r\n    _pc.Execute(\r\n      this.transform.worldTransform.AsArray( true ),\r\n      this.translation.AsArray( true ),\r\n      this.transformation.AsArray( true ),\r\n      _tintChannel,\r\n      0\r\n    );\r\n  \r\n  };\r\n\r\n  Char.prototype.Crunch = function ( _prevChar ) {\r\n\r\n    this.position.Set( 0 );\r\n\r\n    if ( _prevChar != null ) {\r\n\r\n      this.x = _prevChar.x + _prevChar.xadvance;\r\n      this.y = this.yadvance = _prevChar.yadvance;\r\n\r\n      if ( _prevChar.kernings.length > 0 && this.kernings.length > 0 ) {\r\n\r\n        for ( var i = 0, kernings = this.kernings, l = kernings.length; i < l; i += 3 ) {\r\n\r\n          if ( kernings[ i + 1 ] === _prevChar.id ) {\r\n\r\n            this.x += kernings[ i + 2 ];\r\n            break;\r\n          \r\n          }\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    this.position.Add( this.xoffset, this.yoffset );\r\n  \r\n  };\r\n\r\n  Char.prototype.UpdateMatrices = function () {\r\n\r\n    if ( this.parent != null ) {\r\n\r\n      var texture = this.parent.texture;\r\n      var tscaleX = this.width / texture.fw;\r\n      var tscaleY = this.height / texture.fh;\r\n      this.UpdateTransform();\r\n      this.translation.SetTransform( 0, 0, tscaleX, tscaleY );\r\n      this.transformation.SetTransform( \r\n        tscaleX * this.cx / this.width, \r\n        tscaleY * this.cy / this.height, \r\n        tscaleX, tscaleY\r\n      );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Char = Char;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-char.js\n// module id = 72\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Sprite;\r\n  var Char = Nenkraft.Entity.Char;\r\n\r\n  function BitmapText ( _x, _y, _texture, _data, _text ) {\r\n\r\n    if ( !( this instanceof BitmapText ) ) return new BitmapText( _x, _y, _texture, _data, _text );\r\n    Super.call( this, _x, _y, _texture );\r\n    this.fontData = _data;\r\n    this.lineHeight = _data.font.common.attributes.lineHeight;\r\n\r\n    if ( _text != null ) {\r\n\r\n      this.text = _text;\r\n    \r\n    }\r\n\r\n    this.chars = [];\r\n    this.ComputeText();\r\n  \r\n  }\r\n\r\n  BitmapText.prototype = Object.create( Super.prototype );\r\n  BitmapText.prototype.constructor = BitmapText;\r\n  // Static\r\n\r\n  // Members\r\n  BitmapText.prototype.maxWidth = 1024;\r\n  BitmapText.prototype.fontData = null;\r\n  BitmapText.prototype.text = '';\r\n  BitmapText.prototype.chars = null;\r\n  BitmapText.prototype.lineHeight = 0;\r\n  BitmapText.prototype.autoUpdateChars = true;\r\n\r\n  // Methods\r\n  BitmapText.prototype.Draw = function ( _rc ) {\r\n\r\n    this.PreDraw( _rc );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      this.transform.ApplyWorld( _rc );\r\n\r\n      if ( this.display === true ) {\r\n\r\n        _rc.globalAlpha = this.alpha;\r\n        _rc.globalCompositeOperation = this.gco;\r\n        this.DrawText( _rc );\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 ) {\r\n\r\n        this.DrawChildren( _rc );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  BitmapText.prototype.GLDraw = function ( _gl ) {\r\n\r\n    this.GLPreDraw( _gl );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      if ( this.display === true && this.programController !== null ) {\r\n\r\n        this.GLDrawText( _gl );\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 && this.display === true ) {\r\n\r\n        if ( this.isBatchParent === true ) {\r\n\r\n          this.GLBatchDrawChildren( _gl );\r\n        \r\n        } else {\r\n\r\n          this.GLDrawChildren( _gl );\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  BitmapText.prototype.DrawText = function ( _rc ) {\r\n\r\n    for ( var i = 0, chars = this.chars, l = chars.length; i < l; ++i ) {\r\n\r\n      chars[i].Draw( _rc );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  BitmapText.prototype.GLDrawText = function () {\r\n\r\n    var i, chars, l;\r\n\r\n    if ( this.autoUpdateChars === true ) {\r\n\r\n      for ( i = 0, chars = this.chars, l = chars.length; i < l; ++i ) {\r\n\r\n        chars[i].GLDrawAuto( this.programController, this.tint.channel );\r\n      \r\n      }\r\n    \r\n    } else {\r\n\r\n      for ( i = 0, chars = this.chars, l = chars.length; i < l; ++i ) {\r\n\r\n        chars[i].GLDraw( this.programController, this.tint.channel );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  BitmapText.prototype.GetBufferData = Nenkraft.Entity.Container2D.prototype.GetBufferData;\r\n\r\n  BitmapText.prototype.UpdateInBuffer = Nenkraft.Entity.Container2D.prototype.UpdateInBuffer;\r\n\r\n  BitmapText.prototype.ComputeText = function () {\r\n\r\n    this.UpdateTransform();\r\n    this.chars.length = 0;\r\n    var kernings = null;\r\n\r\n    if ( this.fontData.font.kernings ) {\r\n\r\n      kernings = this.fontData.font.kernings.kerning;\r\n    \r\n    }\r\n\r\n    var lineNum = 0;\r\n    var newLines = 0;\r\n    var newLineAdvance = false;\r\n    var w = 0;\r\n    var h = 0;\r\n    var tW = 0;\r\n    var tH = 0;\r\n\r\n    for ( var i = 0, char, chars = this.chars, prevChar, text = this.text, l = text.length; i < l; ++i ) {\r\n\r\n      prevChar = chars[ i - 1 - newLines ];\r\n      var charCode = text.charCodeAt( i );\r\n\r\n      if ( charCode === 10 ) {\r\n\r\n        newLines++;\r\n        newLineAdvance = true;\r\n        continue;\r\n      \r\n      }\r\n\r\n      char = new Char( this.GetCharData( charCode ) );\r\n      if ( kernings !== null ) char.ApplyKernings( kernings );\r\n      char.Crunch( prevChar );\r\n\r\n      tW = char.position.x + char.width;\r\n      tH = char.position.y + char.height;\r\n\r\n      if ( ( tW ) > this.maxWidth || newLineAdvance === true ) {\r\n\r\n        char.position.Set( 0 );\r\n        char.yadvance = this.lineHeight * ++lineNum;\r\n        char.position.Add( char.xoffset, char.yoffset + char.yadvance );\r\n        newLineAdvance = false;\r\n      \r\n      }\r\n\r\n      if ( tW > w ) w = tW;\r\n      if ( tH > h ) h = tH;\r\n\r\n      char.parent = this;\r\n      char.UpdateMatrices();\r\n      chars.push( char );\r\n    \r\n    }\r\n\r\n    this.w = w;\r\n    this.h = h;\r\n  \r\n  };\r\n\r\n  BitmapText.prototype.UpdateChars = function() {\r\n\r\n    for ( var i = 0, chars = this.chars, l = chars.length; i < l; ++i ) {\r\n\r\n      chars[i].UpdateMatrices();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  BitmapText.prototype.GetCharData = function ( _id ) {\r\n\r\n    for ( var i = 0, chars = this.fontData.font.chars.char, l = chars.length; i < l; ++i ) {\r\n\r\n      if ( parseInt( chars[ i ].attributes.id ) === _id ) {\r\n\r\n        return chars[ i ].attributes;\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.BitmapText = BitmapText;\r\n  Nenkraft.BitmapText = BitmapText;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-bitmap-text.js\n// module id = 73\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Container2D;\r\n\r\n  function Camera2D ( _focus, _target ) {\r\n\r\n    if ( !( this instanceof Camera2D ) ) return new Camera2D( _focus, _target );\r\n    Super.call( this );\r\n\r\n    this.focus = _focus;\r\n\r\n    if ( _target != null ) {\r\n\r\n      this.target = _target;\r\n    \r\n    }\r\n\r\n    this.velocity = Nenkraft.Vector2D();\r\n  \r\n  }\r\n\r\n  Camera2D.prototype = Object.create( Super.prototype );\r\n  Camera2D.prototype.constructor = Camera2D;\r\n  /*\r\n   *Static\r\n   *Members\r\n   */\r\n  Camera2D.prototype.focus = null;\r\n  Camera2D.prototype.target = null;\r\n  Camera2D.prototype.velocity = null;\r\n  Camera2D.prototype.stopRadiusSq = 1000;\r\n  Camera2D.prototype.EPSILON = 0.0002;\r\n\r\n  // Methods\r\n  Camera2D.prototype.Process = function() {\r\n\r\n    var target = this.target;\r\n\r\n    if ( target !== null ) {\r\n\r\n      var targetPosition = target.position.Copy();\r\n      targetPosition.Invert();\r\n      targetPosition.AddV( this.focus );\r\n\r\n      var delta = this.position.SubtractVC( targetPosition );\r\n\r\n      var distance = delta.GetLengthSquared();\r\n\r\n      if ( distance < this.stopRadiusSq ) {\r\n\r\n        return;\r\n      \r\n      }\r\n\r\n      distance *= this.EPSILON;\r\n\r\n      var theta = delta.GetAngle();\r\n\r\n      this.velocity.Set( \r\n        distance * Math.cos( theta ),\r\n        distance * Math.sin( theta )\r\n      );\r\n\r\n      this.position.SubtractV( this.velocity );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Camera2D.prototype.SetTarget = function( _target ) {\r\n\r\n    this.target = _target;\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Camera2D = Camera2D;\r\n  Nenkraft.Camera2D = Camera2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-camera2d.js\n// module id = 74\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var MinMaxOrValue = Nenkraft.Utils.MinMaxOrValue;\r\n  var RandomInArray = Nenkraft.Utils.RandomInArray;\r\n  var Oscillate = Nenkraft.Math.Oscillate;\r\n  var RI = Nenkraft.Utils.RandomInteger;\r\n\r\n  /** Oscillation */\r\n  function Oscillation() {\r\n\r\n    if ( !( this instanceof Oscillation ) ) return new Oscillation();\r\n  \r\n  }\r\n\r\n  Oscillation.prototype = Object.create( null );\r\n  Oscillation.prototype.constructor = Oscillation;\r\n\r\n  // Static\r\n\r\n  // Members\r\n  Oscillation.prototype.velocityX = null;\r\n  Oscillation.prototype.velocityY = null;\r\n  Oscillation.prototype.torque = null;\r\n  Oscillation.prototype.accelerationX = null;\r\n  Oscillation.prototype.accelerationY = null;\r\n  Oscillation.prototype.spin = null;\r\n  Oscillation.prototype.growthX = null;\r\n  Oscillation.prototype.growthY = null;\r\n  Oscillation.prototype.gravityX = null;\r\n  Oscillation.prototype.gravityY = null;\r\n\r\n  // Methods\r\n  Oscillation.prototype.CreateOscillatingObject = function( _key, _from, _to, _amplitude ) {\r\n\r\n    if ( this[_key] !== null ) throw new Error( 'Invalid key' );\r\n\r\n    this[_key] = {\r\n      from: _from,\r\n      to: _to,\r\n      amplitude: _amplitude\r\n    };\r\n  \r\n  };\r\n\r\n  Oscillation.prototype.SetOscillatingObject = function( _key, _from, _to, _amplitude ) {\r\n\r\n    var obj = this[_key];\r\n\r\n    if ( obj == null ) {\r\n\r\n      return this.CreateOscillatingObject( _key, _from, _to, _amplitude );\r\n    \r\n    }\r\n\r\n    obj.from = _from;\r\n    obj.to = _to;\r\n    obj.amplitude = _amplitude;\r\n  \r\n  };\r\n\r\n  /** Oscillation */\r\n\r\n  function Particle ( _options ) {\r\n\r\n    if ( !( this instanceof Particle ) ) return new Particle( _options );\r\n    this.velocity = Nenkraft.Vector2D();\r\n    this.torque = 0;\r\n    this.spin = 0;\r\n    this.growth = Nenkraft.Vector2D( 1, 1 );\r\n    this.acceleration = Nenkraft.Vector2D( 1, 1 );\r\n    this.gravity = Nenkraft.Vector2D();\r\n    this.Renew( _options );\r\n  \r\n  }\r\n\r\n  Particle.prototype = Object.create( null );\r\n  Particle.prototype.constructor = Particle;\r\n  // Static\r\n  Particle.Pool = Nenkraft.Utils.Pool( Particle );\r\n  Particle.Oscillation = Oscillation;\r\n\r\n  Particle.Pool.Retrieve = function( _options ) {\r\n\r\n    if ( this.objects.length === 0 ) {\r\n\r\n      this.Flood();\r\n    \r\n    }\r\n\r\n    var p = this.objects.pop();\r\n    p.Renew( _options );\r\n    return p;\r\n  \r\n  };\r\n\r\n  Particle.USE_POOL = true;\r\n\r\n  // Members\r\n  Particle.prototype.velocity = null;\r\n  Particle.prototype.torque = null;\r\n  Particle.prototype.spin = null;\r\n  Particle.prototype.growth = null;\r\n  Particle.prototype.acceleration = null;\r\n  Particle.prototype.fade = false;\r\n  Particle.prototype.deflate = false;\r\n  Particle.prototype.gravity = null;\r\n  Particle.prototype.lifespan = 0;\r\n  Particle.prototype.lifespanTot = 0;\r\n  Particle.prototype.dead = false;\r\n  Particle.prototype.entity = null;\r\n  Particle.prototype.system = null;\r\n  Particle.prototype.oscillation = null;\r\n  Particle.prototype.oscillationOffset = 0;\r\n\r\n  // Methods\r\n  Particle.prototype.Process = function () {\r\n\r\n    if ( this.dead === true ) return;\r\n\r\n    if ( this.lifespan++ < this.lifespanTot ) {\r\n\r\n      var entity = this.entity, velocity = this.velocity;\r\n      var lifespanPerc = 1 - this.lifespan / this.lifespanTot;\r\n      var osc = this.oscillation;\r\n\r\n      velocity.AddV( this.gravity );\r\n      velocity.MultiplyV( this.acceleration );\r\n\r\n      if ( this.torque !== 0 ) velocity.Rotate( this.torque );\r\n  \r\n      entity.position.AddV( velocity );\r\n\r\n      if ( this.fade === true ) {\r\n\r\n        entity.alpha = lifespanPerc;\r\n\r\n      }\r\n\r\n      if ( this.deflate === true ) {\r\n\r\n        entity.scale.Set( lifespanPerc );\r\n      \r\n      } else {\r\n\r\n        entity.scale.MultiplyV( this.growth );\r\n      \r\n      }\r\n\r\n      entity.rotation += this.spin;\r\n\r\n      if ( osc !== null ) {\r\n\r\n        var oscTime = this.lifespan + this.oscillationOffset;\r\n\r\n        if ( osc.torque != null ) {\r\n\r\n          this.torque = Oscillate(\r\n            oscTime, \r\n            osc.torque.from,\r\n            osc.torque.to,\r\n            osc.torque.amplitude\r\n          );\r\n        \r\n        }\r\n\r\n        if ( osc.spin != null ) {\r\n\r\n          this.spin = Oscillate(\r\n            oscTime, \r\n            osc.spin.from,\r\n            osc.spin.to,\r\n            osc.spin.amplitude\r\n          );\r\n        \r\n        }\r\n\r\n        if ( osc.velocityX != null ) {\r\n\r\n          this.velocity.x = Oscillate(\r\n            oscTime, \r\n            osc.velocityX.from,\r\n            osc.velocityX.to,\r\n            osc.velocityX.amplitude\r\n          );\r\n        \r\n        }\r\n\r\n        if ( osc.velocityY != null ) {\r\n\r\n          this.velocity.y = Oscillate(\r\n            oscTime, \r\n            osc.velocityY.from,\r\n            osc.velocityY.to,\r\n            osc.velocityY.amplitude\r\n          );\r\n        \r\n        }\r\n\r\n        if ( osc.gravityX != null ) {\r\n\r\n          this.gravity.x = Oscillate(\r\n            oscTime, \r\n            osc.gravityX.from,\r\n            osc.gravityX.to,\r\n            osc.gravityX.amplitude\r\n          );\r\n        \r\n        }\r\n\r\n        if ( osc.gravityY != null ) {\r\n\r\n          this.gravity.y = Oscillate(\r\n            oscTime, \r\n            osc.gravityY.from,\r\n            osc.gravityY.to,\r\n            osc.gravityY.amplitude\r\n          );\r\n        \r\n        }\r\n\r\n        if ( osc.accelerationX != null ) {\r\n\r\n          this.acceleration.x = Oscillate(\r\n            oscTime, \r\n            osc.accelerationX.from,\r\n            osc.accelerationX.to,\r\n            osc.accelerationX.amplitude\r\n          );\r\n        \r\n        }\r\n\r\n        if ( osc.accelerationY != null ) {\r\n\r\n          this.acceleration.y = Oscillate(\r\n            oscTime, \r\n            osc.accelerationY.from,\r\n            osc.accelerationY.to,\r\n            osc.accelerationY.amplitude\r\n          );\r\n        \r\n        }\r\n\r\n        if ( osc.growthX != null ) {\r\n\r\n          this.growth.x = Oscillate(\r\n            oscTime, \r\n            osc.growthX.from,\r\n            osc.growthX.to,\r\n            osc.growthX.amplitude\r\n          );\r\n        \r\n        }\r\n\r\n        if ( osc.growthY != null ) {\r\n\r\n          this.growth.y = Oscillate(\r\n            oscTime, \r\n            osc.growthY.from,\r\n            osc.growthY.to,\r\n            osc.growthY.amplitude\r\n          );\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    } else {\r\n\r\n      this.dead = true;\r\n      this.entity.display = false;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Particle.prototype.Renew = function( _options ) {\r\n\r\n    if ( _options == null ) return;\r\n\r\n    this.dead = false;\r\n    var entity = this.entity;\r\n\r\n    if ( _options.path != null ) {\r\n\r\n      if ( entity === null ) {\r\n\r\n        entity = this.entity = Nenkraft.Graphic2D( 0, 0, _options.path );\r\n      \r\n      } else {\r\n\r\n        this.ResetEntity();\r\n      \r\n      }\r\n\r\n    } else if ( _options.texture != null ) {\r\n\r\n      if ( entity === null ) {\r\n      \r\n        entity = this.entity = Nenkraft.Sprite( 0, 0, _options.texture );\r\n        \r\n        if ( _options.anchor != null ) {\r\n\r\n          entity.anchor.Set( _options.anchor );\r\n          entity.UpdateTextureTransform();\r\n        \r\n        }\r\n\r\n      } else {\r\n\r\n        this.ResetEntity();\r\n    \r\n      }\r\n\r\n      if ( _options.frames != null ) {\r\n\r\n        _options.frames[RI( 0, _options.frames.length - 1 )].Apply( entity );\r\n        entity.scale.Set( 1 );\r\n        entity.UpdateTextureTransform();\r\n      \r\n      }\r\n\r\n    } else {\r\n\r\n      throw new Error( 'Path or Texture needed!' );\r\n    \r\n    }\r\n\r\n    this.RenewVector( _options.position, entity.position );\r\n\r\n    this.RenewVector( _options.velocity, this.velocity );\r\n\r\n    this.RenewVector( _options.gravity, this.gravity );\r\n\r\n    this.RenewVector( _options.acceleration, this.acceleration );\r\n\r\n    this.RenewVector( _options.growth, this.growth );\r\n\r\n    if ( _options.rotation != null ) {\r\n\r\n      entity.rotation = MinMaxOrValue( _options.rotation );\r\n    \r\n    }\r\n\r\n    if ( _options.lifespan != null ) {\r\n\r\n      this.SetLifespan( _options.lifespan );\r\n    \r\n    }\r\n\r\n    if ( _options.torque != null ) {\r\n\r\n      this.torque = MinMaxOrValue( _options.torque );\r\n    \r\n    }\r\n\r\n    if ( _options.spin != null ) {\r\n\r\n      this.spin = MinMaxOrValue( _options.spin );\r\n    \r\n    }\r\n\r\n    if ( _options.fade != null ) {\r\n\r\n      this.fade = _options.fade;\r\n    \r\n    }\r\n\r\n    if ( _options.deflate != null ) {\r\n\r\n      this.deflate = _options.deflate;\r\n    \r\n    }\r\n\r\n    if ( _options.oscillation != null ) {\r\n\r\n      var optOsc = _options.oscillation;\r\n      var osc = this.oscillation;\r\n\r\n      if ( osc === null ) {\r\n\r\n        osc = this.oscillation = Oscillation();\r\n      \r\n      }\r\n\r\n      if ( optOsc.offset != null ) {\r\n        \r\n        this.oscillationOffset = MinMaxOrValue( optOsc.offset );\r\n\r\n      }\r\n\r\n      if ( optOsc.torque != null ) {\r\n\r\n        osc.SetOscillatingObject( \r\n          'torque', \r\n          optOsc.torque.from,\r\n          optOsc.torque.to,\r\n          optOsc.torque.amplitude\r\n        );\r\n        \r\n      }\r\n\r\n      if ( optOsc.spin != null ) {\r\n\r\n        osc.SetOscillatingObject( \r\n          'spin', \r\n          optOsc.spin.from,\r\n          optOsc.spin.to,\r\n          optOsc.spin.amplitude\r\n        );\r\n        \r\n      }\r\n\r\n      if ( optOsc.velocity != null ) {\r\n\r\n        if ( optOsc.velocity.x != null ) {\r\n\r\n          osc.SetOscillatingObject( \r\n            'velocityX', \r\n            optOsc.velocity.x.from,\r\n            optOsc.velocity.x.to,\r\n            optOsc.velocity.x.amplitude\r\n          );\r\n\r\n        }\r\n\r\n        if ( optOsc.velocity.y != null ) {\r\n\r\n          osc.SetOscillatingObject( \r\n            'velocityY', \r\n            optOsc.velocity.y.from,\r\n            optOsc.velocity.y.to,\r\n            optOsc.velocity.y.amplitude\r\n          );\r\n\r\n        }\r\n      \r\n      }\r\n\r\n      if ( optOsc.gravity != null ) {\r\n\r\n        if ( optOsc.gravity.x != null ) {\r\n\r\n          osc.SetOscillatingObject( \r\n            'gravityX', \r\n            optOsc.gravity.x.from,\r\n            optOsc.gravity.x.to,\r\n            optOsc.gravity.x.amplitude\r\n          );\r\n\r\n        }\r\n\r\n        if ( optOsc.gravity.y != null ) {\r\n\r\n          osc.SetOscillatingObject( \r\n            'gravityY', \r\n            optOsc.gravity.y.from,\r\n            optOsc.gravity.y.to,\r\n            optOsc.gravity.y.amplitude\r\n          );\r\n\r\n        }\r\n      \r\n      }\r\n\r\n      if ( optOsc.acceleration != null ) {\r\n\r\n        if ( optOsc.acceleration.x != null ) {\r\n\r\n          osc.SetOscillatingObject( \r\n            'accelerationX', \r\n            optOsc.acceleration.x.from,\r\n            optOsc.acceleration.x.to,\r\n            optOsc.acceleration.x.amplitude\r\n          );\r\n\r\n        }\r\n\r\n        if ( optOsc.acceleration.y != null ) {\r\n\r\n          osc.SetOscillatingObject( \r\n            'accelerationY', \r\n            optOsc.acceleration.y.from,\r\n            optOsc.acceleration.y.to,\r\n            optOsc.acceleration.y.amplitude\r\n          );\r\n\r\n        }\r\n      \r\n      }\r\n\r\n      if ( optOsc.growth != null ) {\r\n\r\n        if ( optOsc.growth.x != null ) {\r\n\r\n          osc.SetOscillatingObject( \r\n            'growthX', \r\n            optOsc.growth.x.from,\r\n            optOsc.growth.x.to,\r\n            optOsc.growth.x.amplitude\r\n          );\r\n\r\n        }\r\n\r\n        if ( optOsc.growth.y != null ) {\r\n\r\n          osc.SetOscillatingObject( \r\n            'growthY', \r\n            optOsc.growth.y.from,\r\n            optOsc.growth.y.to,\r\n            optOsc.growth.y.amplitude\r\n          );\r\n\r\n        }\r\n      \r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  Particle.prototype.RenewVector = function( _object, _vector ) {\r\n\r\n    if ( _object != null ) {\r\n\r\n      if ( _object.points != null ) {\r\n\r\n        _vector.SetV( RandomInArray( _object.points ) );\r\n        \r\n      } else {\r\n\r\n        if ( _object.x != null ) {\r\n\r\n          _vector.x = MinMaxOrValue( _object.x );\r\n        \r\n        }\r\n  \r\n        if ( _object.y != null ) {\r\n  \r\n          _vector.y = MinMaxOrValue( _object.y );\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Particle.prototype.SetLifespan = function( _value ) {\r\n\r\n    this.lifespan = 0;\r\n    this.lifespanTot = _value;\r\n  \r\n  };\r\n\r\n  Particle.prototype.ResetEntity = function() {\r\n\r\n    var entity = this.entity;\r\n    entity.scale.Set( 1 );\r\n    entity.alpha = 1;\r\n    entity.display = true;\r\n    entity.rotation = 0;\r\n\r\n  };\r\n\r\n  Particle.prototype.Destroy = function( _ifDead ) {\r\n\r\n    if ( _ifDead === true ) {\r\n\r\n      if ( this.dead === false ) return false;\r\n    \r\n    }\r\n\r\n    if ( this.system !== null ) {\r\n\r\n      this.system.RemoveParticle( this );\r\n\r\n    }\r\n\r\n    if ( Particle.USE_POOL ) {\r\n\r\n      Particle.Pool.Store( this );\r\n    \r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  Particle.Pool.Flood( function () {}, 1000 );\r\n\r\n  Nenkraft.Particle = Particle;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-particles/nk-particle.js\n// module id = 75\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Container2D;\r\n  var Particle = Nenkraft.Particle;\r\n\r\n  function ParticleSystem ( _x, _y ) {\r\n\r\n    if ( !( this instanceof ParticleSystem ) ) return new ParticleSystem( _x, _y );\r\n    Super.call( this, _x, _y );\r\n    this.particles = [];\r\n    this.deletionTimer = Nenkraft.Timer( 60 );\r\n    this.deletionTimer.onFinish.Add( this.HandleParticleDeletion, this );\r\n    this.deletionTimer.Start();\r\n  \r\n  }\r\n\r\n  ParticleSystem.prototype = Object.create( Super.prototype );\r\n  ParticleSystem.prototype.constructor = ParticleSystem;\r\n  // Static\r\n\r\n  // Members\r\n  ParticleSystem.prototype.particles = null;\r\n  ParticleSystem.prototype.deletionTimer = null;\r\n\r\n  // Methods\r\n  ParticleSystem.prototype.Process = function () {\r\n  \r\n    this.HandleParticles();\r\n    this.deletionTimer.Process();\r\n\r\n  };\r\n\r\n  ParticleSystem.prototype.HandleParticles = function() {\r\n\r\n    for ( var i = 0, particles = this.particles, l = particles.length; i < l; ++i ) {\r\n\r\n      particles[ i ].Process();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  ParticleSystem.prototype.HandleParticleDeletion = function() {\r\n\r\n    for ( var i = 0, particles = this.particles, l = particles.length, particle; i < l; ++i ) {\r\n\r\n      particle = particles[ i ];\r\n\r\n      if ( particle ) {\r\n\r\n        if ( particle.Destroy( true ) ) {\r\n\r\n          i--;\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    this.deletionTimer.Start();\r\n\r\n  };\r\n\r\n  ParticleSystem.prototype.AddParticle = function( _particle ) {\r\n\r\n    _particle.system = this;\r\n    this.AddChild( _particle.entity );\r\n    this.particles.push( _particle );\r\n    return _particle;\r\n\r\n  };\r\n\r\n  ParticleSystem.prototype.RemoveParticle = function( _particle ) {\r\n\r\n    var particles = this.particles;\r\n    var ix = particles.indexOf( _particle );\r\n\r\n    if ( ix !== -1 ) {\r\n      \r\n      _particle.system = null;\r\n      this.RemoveChild( _particle.entity );\r\n      return particles.fickleSplice( ix );\r\n\r\n    }\r\n\r\n  };\r\n\r\n  ParticleSystem.prototype.Emit = function( _options ) {\r\n\r\n    for ( var i = 0; i < _options.amount; ++i ) {\r\n\r\n      if ( Particle.USE_POOL === true ) {\r\n\r\n        this.AddParticle( Particle.Pool.Retrieve( _options ) );\r\n      \r\n      } else {\r\n\r\n        this.AddParticle( Particle( _options ) );\r\n\r\n      }\r\n\r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.ParticleSystem = ParticleSystem;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-particles/nk-particle-system.js\n// module id = 76\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Frame ( _x, _y, _w, _h, _rate, _id ) {\r\n\r\n    if ( !( this instanceof Frame ) ) return new Frame( _x, _y, _w, _h, _rate, _id );\r\n    this.rate = _rate;\r\n    this.timer = _rate;\r\n    this.x = _x;\r\n    this.y = _y;\r\n    this.w = _w;\r\n    this.h = _h;\r\n\r\n    if ( _id != null ) {\r\n\r\n      this.id = _id;\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  Frame.prototype = Object.create( null );\r\n  Frame.prototype.constructor = Frame;\r\n  // Static\r\n\r\n  // Members\r\n  Frame.prototype.id = null;\r\n  Frame.prototype.x = 0;\r\n  Frame.prototype.y = 0;\r\n  Frame.prototype.w = 0;\r\n  Frame.prototype.h = 0;\r\n  Frame.prototype.rate = 0;\r\n  Frame.prototype.timer = 0;\r\n  Frame.prototype.nextFrameIndex = null;\r\n\r\n  // Methods\r\n  Frame.prototype.Process = function () {\r\n\r\n    if ( this.timer-- <= 0 ) {\r\n\r\n      this.Reset();\r\n      return true;\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Frame.prototype.Apply = function ( _sprite ) {\r\n\r\n    _sprite.ClipReconfigure( this.x, this.y, this.w, this.h );\r\n  \r\n  };\r\n\r\n  Frame.prototype.Reset = function () {\r\n\r\n    this.timer = this.rate;\r\n  \r\n  };\r\n\r\n  Nenkraft.Animator.Frame = Frame;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-animator/nk-frame.js\n// module id = 77\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Animation ( _controller, _id, _rate ) {\r\n\r\n    if ( !( this instanceof Animation ) ) return new Animation( _controller, _id, _rate );\r\n    this.frames = [];\r\n    this.controller = _controller;\r\n    this.sprite = _controller.sprite;\r\n    this.id = _id;\r\n    this.onEnd = Nenkraft.Event.LocalEvent();\r\n    this.onStop = Nenkraft.Event.LocalEvent();\r\n    this.onStart = Nenkraft.Event.LocalEvent();\r\n    if ( _rate != null ) this.rate = _rate;\r\n  \r\n  }\r\n\r\n  Animation.prototype = Object.create( null );\r\n  Animation.prototype.constructor = Animation;\r\n  // Static\r\n\r\n  // Members\r\n  Animation.prototype.currentFrame = 0;\r\n  Animation.prototype.currentFrameIndex = 0;\r\n  Animation.prototype.playing = false;\r\n  Animation.prototype.id = null;\r\n  Animation.prototype.rate = 60;\r\n  Animation.prototype.timer = 0;\r\n  Animation.prototype.reverse = false;\r\n  Animation.prototype.sprite = null;\r\n  Animation.prototype.overrideFrameRate = false;\r\n\r\n  // Methods\r\n  Animation.prototype.CreateFrame = function ( _x, _y, _w, _h, _rate ) {\r\n\r\n    _rate = _rate == null ? this.rate : _rate;\r\n    this.frames.push( Nenkraft.Animator.Frame( _x, _y, _w, _h, _rate ) );\r\n  \r\n  };\r\n\r\n  Animation.prototype.AddFrame = function( _frame ) {\r\n    \r\n    if ( _frame.rate == null || _frame.rate <= 0 ) {\r\n\r\n      _frame.rate = this.rate;\r\n    \r\n    }\r\n\r\n    this.frames.push( _frame );\r\n  \r\n  };\r\n\r\n  Animation.prototype.GenerateFrames = function ( _frameWidth, _frameHeight, _imageWidth, _imageHeight, _amount, _data ) {\r\n\r\n    _data = _data == null ? {} : _data;\r\n\r\n    for ( var i = 0, rate, columns = _imageWidth / _imageHeight; i < _amount; ++i ) {\r\n\r\n      rate = _data[ i ];\r\n      this.CreateFrame( ( i % columns ) * _frameWidth, ( ( i / columns ) | 0 ) * _frameHeight, _frameWidth, _frameHeight, rate );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Animation.prototype.SetFrame = function ( _index ) {\r\n\r\n    _index = _index == null ? 0 : _index;\r\n    var frame = this.frames[ _index ];\r\n\r\n    if ( frame !== undefined ) {\r\n\r\n      this.currentFrame = frame;\r\n      this.currentFrameIndex = _index;\r\n      this.currentFrame.Apply( this.sprite );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Animation.prototype.SetFrameById = function( _id ) {\r\n\r\n    var index = this.GetFrameById( _id, true );\r\n    this.SetFrame( index );\r\n  \r\n  };\r\n\r\n  Animation.prototype.GetFrameById = function( _id, _returnIndex ) {\r\n\r\n    for ( var i = 0, frames = this.frames; i < frames.length; ++i ) {\r\n\r\n      if ( frames[i].id === _id ) {\r\n\r\n        if ( _returnIndex === true ) return i;\r\n        return frames[i];\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Animation.prototype.Start = function () {\r\n\r\n    this.playing = true;\r\n    this.onStart.Dispatch();\r\n  \r\n  };\r\n\r\n  Animation.prototype.Stop = function () {\r\n\r\n    this.playing = false;\r\n    this.onStop.Dispatch();\r\n  \r\n  };\r\n\r\n  Animation.prototype.Process = function () {\r\n\r\n    if ( this.playing === true ) {\r\n\r\n      if ( this.overrideFrameRate === true ) {\r\n\r\n        if ( --this.timer <= 0 ) {\r\n\r\n          this.timer = this.rate;\r\n          this.NextFrame();\r\n        \r\n        }\r\n      \r\n      } else if ( this.currentFrame.Process() === true ) {\r\n\r\n        this.NextFrame();\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Animation.prototype.NextFrame = function() {\r\n\r\n    var frames = this.frames, fsl = frames.length, done = false;\r\n    if ( this.reverse === false ) ++this.currentFrameIndex;\r\n    else --this.currentFrameIndex;\r\n\r\n    if ( this.currentFrameIndex >= fsl ) {\r\n\r\n      this.currentFrameIndex = 0;\r\n      done = true;\r\n        \r\n    } else if ( this.currentFrameIndex < 0 ) {\r\n\r\n      this.currentFrameIndex = fsl - 1;\r\n      done = true;\r\n    \r\n    }\r\n\r\n    this.currentFrame = frames[ this.currentFrameIndex ];\r\n    this.currentFrame.Apply( this.sprite );\r\n    if ( done === true ) this.onEnd.Dispatch();\r\n  \r\n  };\r\n\r\n  Animation.prototype.Clear = function () {\r\n\r\n    this.frames = [];\r\n    this.currentFrame = null;\r\n    this.playing = false;\r\n    this.currentFrameIndex = 0;\r\n    this.timer = this.rate;\r\n  \r\n  };\r\n\r\n  Animation.prototype.Restart = function ( _index ) {\r\n\r\n    this.SetFrame( _index );\r\n    this.ResetAllFrames();\r\n    this.Start();\r\n    this.timer = this.rate;\r\n  \r\n  };\r\n\r\n  Animation.prototype.Reset = function() {\r\n\r\n    this.SetFrame( 0 );\r\n    this.ResetAllFrames();\r\n    this.timer = this.rate;\r\n    this.playing = false;\r\n  \r\n  };\r\n\r\n  Animation.prototype.ResetAllFrames = function () {\r\n\r\n    for ( var i = 0, frames = this.frames, l = frames.length, frame; i < l; ++i ) {\r\n\r\n      frame = frames[ i ];\r\n      frame.Reset();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Animator.Animation = Animation;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-animator/nk-animation.js\n// module id = 78\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Controller ( _sprite ) {\r\n\r\n    if ( !( this instanceof Controller ) ) return new Controller( _sprite );\r\n    this.animations = [];\r\n    if ( _sprite != null ) this.sprite = _sprite;\r\n  \r\n  }\r\n\r\n  Controller.prototype = Object.create( null );\r\n  Controller.prototype.constructor = Controller;\r\n  // Static\r\n\r\n  // Members\r\n  Controller.prototype.currentAnimation = null;\r\n  Controller.prototype.sprite = null;\r\n\r\n  // Methods\r\n  Controller.prototype.CreateAnimation = function ( _id, _rate ) {\r\n\r\n    var animation = Nenkraft.Animator.Animation( this, _id, _rate );\r\n    this.animations.push( animation );\r\n    return animation;\r\n  \r\n  };\r\n\r\n  Controller.prototype.AddAnimation = function( _animation ) {\r\n\r\n    _animation.controller = this;\r\n    this.animations.push( _animation );\r\n  \r\n  };\r\n\r\n  Controller.prototype.GetAnimationById = function ( _id ) {\r\n\r\n    for ( var i = 0, animations = this.animations, l = animations.length, animation; i < l; ++i ) {\r\n\r\n      animation = animations[ i ];\r\n      if ( animation && animation.id === _id ) return animation;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Controller.prototype.PlayAnimation = function ( _id, _frameIndex ) {\r\n\r\n    var animation = this.GetAnimationById( _id );\r\n\r\n    if ( animation !== null ) {\r\n\r\n      this.currentAnimation = animation;\r\n      animation.Restart( _frameIndex );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Controller.prototype.StopCurrentAnimation = function () {\r\n\r\n    if ( this.currentAnimation !== null ) {\r\n\r\n      this.currentAnimation.Stop();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Controller.prototype.Process = function () {\r\n\r\n    var currentAnimation = this.currentAnimation;\r\n    if ( currentAnimation !== null ) currentAnimation.Process();\r\n  \r\n  };\r\n\r\n  Nenkraft.Animator.Controller = Controller;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-animator/nk-controller.js\n// module id = 79\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function ImageLoader ( _objects, _createTextures, _onComplete ) {\r\n\r\n    if ( !( this instanceof ImageLoader ) ) return new ImageLoader( _objects, _createTextures, _onComplete );\r\n    this.imageCache = Nenkraft.Utils.Cache( Image );\r\n    this.basicTextureCache = Nenkraft.Utils.Cache( Nenkraft.Texture.BasicTexture );\r\n    this.onImageLoaded = Nenkraft.Event.LocalEvent();\r\n    this.onComplete = Nenkraft.Event.LocalEvent();\r\n\r\n    if ( _onComplete != null ) {\r\n\r\n      this.onComplete.Add( _onComplete, this );\r\n    \r\n    }\r\n\r\n    if ( _objects != null ) this.Load( _objects, _createTextures );\r\n  \r\n  }\r\n\r\n  ImageLoader.prototype = Object.create( null );\r\n  ImageLoader.prototype.constructor = ImageLoader;\r\n  // Static\r\n\r\n  // Members\r\n  ImageLoader.prototype.imageCache = null;\r\n  ImageLoader.prototype.basicTextureCache = null;\r\n  ImageLoader.prototype.onImageLoaded = null;\r\n  ImageLoader.prototype.onComplete = null;\r\n  ImageLoader.prototype.count = 0;\r\n  ImageLoader.prototype.loading = false;\r\n  ImageLoader.prototype.toLoad = null;\r\n  ImageLoader.prototype.createTextures = false;\r\n\r\n  // Methods\r\n  ImageLoader.prototype.Load = function ( _objects, _createTextures ) {\r\n\r\n    if ( this.toLoad === null ) this.toLoad = [];\r\n    \r\n    this.toLoad.push.apply( this.toLoad, _objects );\r\n\r\n    if ( _createTextures != null ) {\r\n\r\n      this.createTextures = _createTextures;\r\n    \r\n    }\r\n\r\n    if ( this.loading === false ) {\r\n\r\n      this.count = 0;\r\n      this.loading = true;\r\n      this.Haul( this.count );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  ImageLoader.prototype.Haul = function ( _count ) {\r\n\r\n    var item = this.toLoad[ _count ];\r\n\r\n    if ( item != null ) {\r\n\r\n      var image = new Image();\r\n      image.onload = this.OnLoad.bind( this );\r\n      image.onerror = this.OnError.bind( this );\r\n      image.src = item.src;\r\n      image.id = item.id;\r\n      image.data = Object.create( null );\r\n      image.data.w = item.w;\r\n      image.data.h = item.h;\r\n      image.data.fw = item.fw;\r\n      image.data.fh = item.fh;\r\n    \r\n    } else {\r\n\r\n      this.count = 0;\r\n      this.loading = false;\r\n      this.toLoad = null;\r\n      this.onComplete.Dispatch( this, { imageCache: this.imageCache, basicTextureCache: this.basicTextureCache } );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  ImageLoader.prototype.OnLoad = function ( _event ) {\r\n\r\n    var t = _event.currentTarget;\r\n    delete t.onload;\r\n    delete t.onerror;\r\n    this.imageCache.StoreSafe( t );\r\n\r\n    if ( this.createTextures === true ) {\r\n\r\n      this.basicTextureCache.StoreSafe( Nenkraft.Texture.BasicTexture( t, null, t.data.w, t.data.h, t.data.fw, t.data.fh ) );\r\n    \r\n    }\r\n\r\n    this.onImageLoaded.Dispatch( t, { count: this.count } );\r\n    this.Haul( ++this.count );\r\n  \r\n  };\r\n\r\n  ImageLoader.prototype.OnError = function () {\r\n\r\n    throw new Error( 'Request failed' );\r\n  \r\n  };\r\n\r\n  ImageLoader.prototype.GetImage = function ( _id ) {\r\n\r\n    return this.imageCache.GetById( _id );\r\n  \r\n  };\r\n\r\n  ImageLoader.prototype.GetBasicTexture = function ( _id ) {\r\n\r\n    return this.basicTextureCache.GetById( _id );\r\n  \r\n  };\r\n\r\n  Nenkraft.Load.ImageLoader = ImageLoader;\r\n  Nenkraft.ImageLoader = ImageLoader;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-load/nk-image-loader.js\n// module id = 80\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function XHRLoader ( _objects, _onComplete ) {\r\n\r\n    if ( !( this instanceof XHRLoader ) ) return new XHRLoader( _objects, _onComplete );\r\n    this.XHRcache = Nenkraft.Utils.Cache( XMLHttpRequest );\r\n    this.dataCache = Nenkraft.Utils.Cache();\r\n    this.onXHRLoaded = Nenkraft.Event.LocalEvent();\r\n    this.onComplete = Nenkraft.Event.LocalEvent();\r\n\r\n    if ( _onComplete != null ) {\r\n\r\n      this.onComplete.Add( _onComplete, this );\r\n    \r\n    }\r\n\r\n    if ( _objects != null ) this.Load( _objects );\r\n  \r\n  }\r\n\r\n  XHRLoader.prototype = Object.create( null );\r\n  XHRLoader.prototype.constructor = XHRLoader;\r\n  // Static\r\n\r\n  // Members\r\n  XHRLoader.prototype.XHRcache = null;\r\n  XHRLoader.prototype.dataCache = null;\r\n  XHRLoader.prototype.count = 0;\r\n  XHRLoader.prototype.loading = false;\r\n  XHRLoader.prototype.toLoad = null;\r\n  XHRLoader.prototype.onXHRLoaded = null;\r\n  XHRLoader.prototype.onComplete = null;\r\n\r\n  // Methods\r\n  XHRLoader.prototype.Load = function ( _objects ) {\r\n\r\n    if ( this.toLoad === null ) this.toLoad = [];\r\n    this.toLoad.push.apply( this.toLoad, _objects );\r\n\r\n    if ( this.loading === false ) {\r\n\r\n      this.count = 0;\r\n      this.loading = true;\r\n      this.Haul( this.count );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  XHRLoader.prototype.Haul = function ( _count ) {\r\n\r\n    var item = this.toLoad[ _count ];\r\n\r\n    if ( item != null ) {\r\n\r\n      var xhr = new XMLHttpRequest();\r\n\r\n      xhr.open( 'GET', item.src );\r\n\r\n      switch ( item.type ) {\r\n\r\n        case 'json':\r\n          xhr.onreadystatechange = this.OnLoadJSON.bind( this );\r\n          break;\r\n        default:\r\n          xhr.onreadystatechange = this.OnLoadXML.bind( this );\r\n          break;\r\n      \r\n      }\r\n\r\n      xhr.onerror = this.OnError.bind( this );\r\n\r\n      if ( xhr.data != null ) {\r\n\r\n        xhr.data.id = item.id;\r\n      \r\n      } else {\r\n\r\n        xhr.data = {\r\n          id: item.id\r\n        };\r\n      \r\n      }\r\n\r\n      xhr.send();\r\n    \r\n    } else {\r\n\r\n      this.count = 0;\r\n      this.loading = false;\r\n      this.toLoad = null;\r\n      this.onComplete.Dispatch( this, { XHRcache: this.XHRcache, dataCache: this.dataCache } );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  XHRLoader.prototype.OnLoadXML = function ( _event ) {\r\n\r\n    var t = _event.currentTarget;\r\n\r\n    if ( ( t.status === 200 || t.responseText != null ) && t.readyState === 4 ) {\r\n\r\n      t.onload = null;\r\n      t.onerror = null;\r\n      this.XHRcache.StoreSafe( t );\r\n      this.dataCache.Store( {\r\n        id: t.data.id,\r\n        data: Nenkraft.Utils.XMLToJSON( t.responseText, true )\r\n      } );\r\n      this.onXHRLoaded.Dispatch( t, { count: this.count } );\r\n      this.Haul( ++this.count );\r\n\r\n      t.abort();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  XHRLoader.prototype.OnLoadJSON = function ( _event ) {\r\n\r\n    var t = _event.currentTarget;\r\n\r\n    if ( ( t.status === 200 || t.responseText != null ) && t.readyState === 4 ) {\r\n\r\n      t.onload = null;\r\n      t.onerror = null;\r\n      this.XHRcache.StoreSafe( t );\r\n      this.dataCache.Store( {\r\n        id: t.data.id,\r\n        data: JSON.parse( t.responseText )\r\n      } );\r\n      this.onXHRLoaded.Dispatch( t, { count: this.count } );\r\n      this.Haul( ++this.count );\r\n\r\n      t.abort();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  XHRLoader.prototype.OnError = function ( _event ) {\r\n\r\n    console.error( _event );\r\n    throw new Error( 'Request failed' );\r\n  \r\n  };\r\n\r\n  XHRLoader.prototype.GetXHR = function ( _id ) {\r\n\r\n    return this.XHRcache.GetById( _id );\r\n  \r\n  };\r\n\r\n  XHRLoader.prototype.GetData = function ( _id ) {\r\n\r\n    return this.dataCache.GetById( _id ).data;\r\n  \r\n  };\r\n\r\n  Nenkraft.Load.XHRLoader = XHRLoader;\r\n  Nenkraft.XHRLoader = XHRLoader;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-load/nk-xhr-loader.js\n// module id = 81\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function SpritesheetLoader ( _objects, _onComplete ) {\r\n\r\n    if ( !( this instanceof SpritesheetLoader ) ) return new SpritesheetLoader( _objects, _onComplete );\r\n    this.spritesheetCache = Nenkraft.Utils.Cache( Nenkraft.Texture.Spritesheet );\r\n    this.xhrLoader = Nenkraft.Load.XHRLoader();\r\n    this.imageLoader = Nenkraft.Load.ImageLoader();\r\n    this.onComplete = Nenkraft.Event.LocalEvent();\r\n    this.onSpritesheetLoaded = Nenkraft.Event.LocalEvent();\r\n\r\n    this.xhrLoader.onXHRLoaded.Add( this.OnPartXHRLoaded, this );\r\n    this.imageLoader.onImageLoaded.Add( this.OnPartImageLoaded, this );\r\n\r\n    if ( _onComplete != null ) {\r\n\r\n      this.onComplete.Add( _onComplete, this );\r\n    \r\n    }\r\n\r\n    if ( _objects != null ) this.Load( _objects );\r\n\r\n  }\r\n\r\n  SpritesheetLoader.prototype = Object.create( null );\r\n  SpritesheetLoader.prototype.constructor = SpritesheetLoader;\r\n  // Static\r\n\r\n  // Members\r\n  SpritesheetLoader.prototype.xhrLoader = null;\r\n  SpritesheetLoader.prototype.imageLoader = null;\r\n  SpritesheetLoader.prototype.spritesheetCache = null;\r\n  SpritesheetLoader.prototype.onSpritesheetLoaded = null;\r\n  SpritesheetLoader.prototype.onComplete = null;\r\n  SpritesheetLoader.prototype.count = 0;\r\n  SpritesheetLoader.prototype.loading = false;\r\n  SpritesheetLoader.prototype.toLoad = null;\r\n  SpritesheetLoader.prototype.pairCount = 0;\r\n  SpritesheetLoader.prototype.tempBasicTexture = null;\r\n  SpritesheetLoader.prototype.tempData = null;\r\n\r\n  // Methods\r\n  SpritesheetLoader.prototype.Load = function( _objects ) {\r\n\r\n    if ( this.toLoad === null ) this.toLoad = [];\r\n\r\n    this.toLoad.push.apply( this.toLoad, _objects );\r\n\r\n    if ( this.loading === false ) {\r\n\r\n      this.count = 0;\r\n      this.loading = true;\r\n      this.Haul( this.count );\r\n    \r\n    }\r\n\r\n  };\r\n\r\n  SpritesheetLoader.prototype.Haul = function( _count ) {\r\n\r\n    var item = this.toLoad[ _count ];\r\n\r\n    if ( item != null ) {\r\n\r\n      item.data.id = item.image.id = item.id;\r\n      this.xhrLoader.Load( [ item.data ] );\r\n      this.imageLoader.Load( [ item.image ], true );\r\n      \r\n    } else {\r\n\r\n      this.count = 0;\r\n      this.loading = false;\r\n      this.toLoad = null;\r\n      this.onComplete.Dispatch( this, { spritesheetCache: this.spritesheetCache } );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  SpritesheetLoader.prototype.OnPartLoaded = function() {\r\n\r\n    if ( ++this.pairCount === 2 ) {\r\n\r\n      var size = this.tempData.meta.size;\r\n\r\n      this.tempBasicTexture.fw = size.w;\r\n      this.tempBasicTexture.fh = size.h;\r\n\r\n      var spritesheet = Nenkraft.Texture.Spritesheet( this.tempBasicTexture, this.tempData );\r\n\r\n      this.spritesheetCache.StoreSafe( spritesheet );\r\n\r\n      this.pairCount = 0;\r\n      this.onSpritesheetLoaded.Dispatch( spritesheet, { count: this.count } );\r\n      this.Haul( ++this.count );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  SpritesheetLoader.prototype.OnPartXHRLoaded = function( _event ) {\r\n\r\n    this.tempData = this.xhrLoader.GetData( _event.target.data.id );\r\n    this.OnPartLoaded();\r\n  \r\n  };\r\n\r\n  SpritesheetLoader.prototype.OnPartImageLoaded = function( _event ) {\r\n\r\n    this.tempBasicTexture = this.imageLoader.GetBasicTexture( _event.target.id );\r\n    this.OnPartLoaded();\r\n  \r\n  };\r\n\r\n  SpritesheetLoader.prototype.GetSpritesheet = function( _id ) {\r\n\r\n    return this.spritesheetCache.GetById( _id );\r\n  \r\n  };\r\n\r\n  Nenkraft.Load.SpritesheetLoader = SpritesheetLoader;\r\n  Nenkraft.SpritesheetLoader = SpritesheetLoader;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-load/nk-spritesheet-loader.js\n// module id = 82\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function GLProgramController ( _gl, _shader ) {\r\n\r\n    if ( !( this instanceof GLProgramController ) ) return new GLProgramController( _gl, _shader );\r\n    this.gl = _gl;\r\n    this.data = Object.create( null );\r\n\r\n    if ( _gl != null && _shader != null ) {\r\n\r\n      this.Init( _shader.v, _shader.f );\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  GLProgramController.prototype = Object.create( null );\r\n  GLProgramController.prototype.constructor = GLProgramController;\r\n  // Static\r\n  GLProgramController.LAST_USED_CONTROLLER = null;\r\n  // Members\r\n  GLProgramController.prototype.program = null;\r\n  GLProgramController.prototype.gl = null;\r\n  GLProgramController.prototype.attributes = null;\r\n  GLProgramController.prototype.uniforms = null;\r\n  GLProgramController.prototype.data = null;\r\n\r\n  // Methods\r\n  GLProgramController.prototype.Init = function ( _vs, _fs ) {\r\n\r\n    var gl = this.gl;\r\n    var vShader = this.CreateShader( _vs, gl.VERTEX_SHADER );\r\n    var fShader = this.CreateShader( _fs, gl.FRAGMENT_SHADER );\r\n    var program = this.program = gl.createProgram();\r\n    gl.attachShader( program, vShader );\r\n    gl.attachShader( program, fShader );\r\n    gl.linkProgram( program );\r\n\r\n    if ( !gl.getProgramParameter( program, gl.LINK_STATUS ) ) {\r\n\r\n      var info = gl.getProgramInfoLog( program );\r\n      throw new Error( 'Program link failed:' + info );\r\n    \r\n    }\r\n\r\n    gl.detachShader( program, vShader );\r\n    gl.detachShader( program, fShader );\r\n    gl.deleteShader( vShader );\r\n    gl.deleteShader( fShader );\r\n    this.attributes = {};\r\n    this.uniforms = {};\r\n  \r\n  };\r\n\r\n  GLProgramController.prototype.CreateShader = function ( _script, _type ) {\r\n\r\n    var gl = this.gl;\r\n    var shader = gl.createShader( _type );\r\n    gl.shaderSource( shader, _script );\r\n    gl.compileShader( shader );\r\n\r\n    if ( !gl.getShaderParameter( shader, gl.COMPILE_STATUS ) ) {\r\n\r\n      var info = gl.getShaderInfoLog( shader );\r\n      throw new Error( 'Shader compilation failed:' + info );\r\n    \r\n    }\r\n\r\n    return shader;\r\n  \r\n  };\r\n\r\n  GLProgramController.prototype.AssignAttribute = function ( _attribute ) {\r\n\r\n    this.attributes[ _attribute ] = this.gl.getAttribLocation( this.program, _attribute );\r\n  \r\n  };\r\n\r\n  GLProgramController.prototype.AssignUniform = function ( _uniform ) {\r\n\r\n    this.uniforms[ _uniform ] = this.gl.getUniformLocation( this.program, _uniform );\r\n  \r\n  };\r\n\r\n  GLProgramController.prototype.Execute = function () {\r\n    // Override\r\n  };\r\n\r\n  Nenkraft.Controller.GLProgramController = GLProgramController;\r\n  Nenkraft.GLProgramController = GLProgramController;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-controller/nk-gl-program-controller/nk-gl-program-controller.js\n// module id = 83\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Controller.GLProgramController;\r\n\r\n  function GLLine2DProgramController ( _gl ) {\r\n\r\n    if ( !( this instanceof GLLine2DProgramController ) ) return new GLLine2DProgramController( _gl );\r\n    Super.call( this, _gl, Nenkraft.SHADER_CODE.LINE2D );\r\n    this.Initialise();\r\n  \r\n  }\r\n\r\n  GLLine2DProgramController.prototype = Object.create( Super.prototype );\r\n  GLLine2DProgramController.prototype.constructor = GLLine2DProgramController;\r\n  // Static\r\n\r\n  // Members\r\n  GLLine2DProgramController.prototype.essenceBuffer = null;\r\n  GLLine2DProgramController.prototype.vertices = null;\r\n  GLLine2DProgramController.prototype.color = null;\r\n\r\n  // Methods\r\n  GLLine2DProgramController.prototype.Initialise = function () {\r\n\r\n    var gl = this.gl;\r\n    this.essenceBuffer = gl.createBuffer();\r\n    this.vertices = new Float32Array( [ -1, 0, 1, 0 ] );\r\n    this.color = Nenkraft.Color();\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, this.essenceBuffer );\r\n    gl.bufferData( gl.ARRAY_BUFFER, this.vertices, gl.DYNAMIC_DRAW );\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, null );\r\n    this.AssignAttribute( 'aPosition' );\r\n    this.AssignUniform( 'uProjection' );\r\n    this.AssignUniform( 'uColor' );\r\n  \r\n  };\r\n\r\n  GLLine2DProgramController.prototype.Execute = function ( _projection, _s, _e ) {\r\n\r\n    var gl = this.gl;\r\n    var attributes = this.attributes;\r\n    var uniforms = this.uniforms;\r\n    var vertices = this.vertices;\r\n    var channel = this.color.channel;\r\n    vertices[ 0 ] = _s.x;\r\n    vertices[ 1 ] = _s.y;\r\n    vertices[ 2 ] = _e.x;\r\n    vertices[ 3 ] = _e.y;\r\n\r\n    if ( this !== Super.LAST_USED_CONTROLLER ) {\r\n\r\n      gl.useProgram( this.program );\r\n      Super.LAST_USED_CONTROLLER = this;\r\n    \r\n    }\r\n\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, this.essenceBuffer );\r\n    gl.bufferSubData( gl.ARRAY_BUFFER, 0, vertices );\r\n    gl.enableVertexAttribArray( attributes.aPosition );\r\n    gl.vertexAttribPointer( attributes.aPosition, 2, gl.FLOAT, false, 0, 0 );\r\n    gl.uniformMatrix3fv( uniforms.uProjection, false, _projection );\r\n    gl.uniform4f( uniforms.uColor, channel[ 0 ], channel[ 1 ], channel[ 2 ], channel[ 3 ] );\r\n    gl.drawArrays( gl.LINES, 0, 2 );\r\n  \r\n  };\r\n\r\n  Nenkraft.Controller.GLLine2DProgramController = GLLine2DProgramController;\r\n  Nenkraft.GLLine2DProgramController = GLLine2DProgramController;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-controller/nk-gl-program-controller/nk-gl-line2d-program-controller.js\n// module id = 84\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Controller.GLProgramController;\r\n  var TriRectArray = Nenkraft.Math.TriRectArray;\r\n\r\n  function GLRectangleProgramController ( _gl ) {\r\n\r\n    if ( !( this instanceof GLRectangleProgramController ) ) return new GLRectangleProgramController( _gl );\r\n    Super.call( this, _gl, Nenkraft.SHADER_CODE.RECTANGLE );\r\n    this.Initialise();\r\n  \r\n  }\r\n\r\n  GLRectangleProgramController.prototype = Object.create( Super.prototype );\r\n  GLRectangleProgramController.prototype.constructor = GLRectangleProgramController;\r\n  // Static\r\n\r\n  // Members\r\n  GLRectangleProgramController.prototype.geometricBuffer = null;\r\n  GLRectangleProgramController.prototype.vertices = null;\r\n  GLRectangleProgramController.prototype.fillColor = null;\r\n  GLRectangleProgramController.prototype.outlineColor = null;\r\n  GLRectangleProgramController.prototype.outline = 5.0;\r\n\r\n  // Methods\r\n  GLRectangleProgramController.prototype.Initialise = function () {\r\n\r\n    var gl = this.gl;\r\n    this.essenceBuffer = gl.createBuffer();\r\n    this.vertices = new Float32Array( Nenkraft.Math.TriRectArray( 0, 0, 1, 1 ) );\r\n    this.fillColor = Nenkraft.Color();\r\n    this.outlineColor = Nenkraft.Color();\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, this.essenceBuffer );\r\n    gl.bufferData( gl.ARRAY_BUFFER, this.vertices, gl.DYNAMIC_DRAW );\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, null );\r\n    this.AssignAttribute( 'aPosition' );\r\n    this.AssignUniform( 'uProjection' );\r\n    this.AssignUniform( 'uFillColor' );\r\n    this.AssignUniform( 'uOutlineColor' );\r\n    this.AssignUniform( 'uSize' );\r\n    this.AssignUniform( 'uOutline' );\r\n  \r\n  };\r\n\r\n  GLRectangleProgramController.prototype.Execute = function ( _projection, _x, _y, _w, _h ) {\r\n\r\n    var gl = this.gl;\r\n    var attributes = this.attributes;\r\n    var uniforms = this.uniforms;\r\n    var vertices = this.vertices;\r\n    var fillChannel = this.fillColor.channel;\r\n    var outlineChannel = this.outlineColor.channel;\r\n    TriRectArray( _x, _y, _w, _h, vertices );\r\n\r\n    if ( this !== Super.LAST_USED_CONTROLLER ) {\r\n\r\n      gl.useProgram( this.program );\r\n      Super.LAST_USED_CONTROLLER = this;\r\n    \r\n    }\r\n\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, this.essenceBuffer );\r\n    gl.bufferSubData( gl.ARRAY_BUFFER, 0, vertices );\r\n    gl.enableVertexAttribArray( attributes.aPosition );\r\n    gl.vertexAttribPointer( attributes.aPosition, 2, gl.FLOAT, false, 0, 0 );\r\n    gl.uniformMatrix3fv( uniforms.uProjection, false, _projection );\r\n    gl.uniform4f( uniforms.uFillColor, fillChannel[ 0 ], fillChannel[ 1 ], fillChannel[ 2 ], fillChannel[ 3 ] );\r\n    gl.uniform4f( uniforms.uOutlineColor, outlineChannel[ 0 ], outlineChannel[ 1 ], outlineChannel[ 2 ], outlineChannel[ 3 ] );\r\n    gl.uniform1f( uniforms.uOutline, this.outline );\r\n    gl.uniform2f( uniforms.uSize, _w, _h );\r\n    gl.drawArrays( gl.TRIANGLE_STRIP, 0, 6 );\r\n  \r\n  };\r\n\r\n  Nenkraft.Controller.GLRectangleProgramController = GLRectangleProgramController;\r\n  Nenkraft.GLRectangleProgramController = GLRectangleProgramController;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-controller/nk-gl-program-controller/nk-gl-rectangle-program-controller.js\n// module id = 85\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Controller.GLProgramController;\r\n  var TriRectArray = Nenkraft.Math.TriRectArray;\r\n\r\n  function GLCircleProgramController ( _gl ) {\r\n\r\n    if ( !( this instanceof GLCircleProgramController ) ) return new GLCircleProgramController( _gl );\r\n    Super.call( this, _gl, Nenkraft.SHADER_CODE.CIRCLE );\r\n    this.Initialise();\r\n  \r\n  }\r\n\r\n  GLCircleProgramController.prototype = Object.create( Super.prototype );\r\n  GLCircleProgramController.prototype.constructor = GLCircleProgramController;\r\n  // Static\r\n\r\n  // Members\r\n  GLCircleProgramController.prototype.essenceBuffer = null;\r\n  GLCircleProgramController.prototype.vertices = null;\r\n  GLCircleProgramController.prototype.fillColor = null;\r\n  GLCircleProgramController.prototype.outlineColor = null;\r\n  GLCircleProgramController.prototype.outline = 5.0;\r\n\r\n  // Methods\r\n  GLCircleProgramController.prototype.Initialise = function () {\r\n\r\n    var gl = this.gl;\r\n    this.essenceBuffer = gl.createBuffer();\r\n    this.vertices = new Float32Array( Nenkraft.Math.TriRectArray( 0, 0, 1, 1 ) );\r\n    this.fillColor = Nenkraft.Color();\r\n    this.outlineColor = Nenkraft.Color();\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, this.essenceBuffer );\r\n    gl.bufferData( gl.ARRAY_BUFFER, this.vertices, gl.DYNAMIC_DRAW );\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, null );\r\n    this.AssignAttribute( 'aPosition' );\r\n    this.AssignUniform( 'uProjection' );\r\n    this.AssignUniform( 'uFillColor' );\r\n    this.AssignUniform( 'uOutlineColor' );\r\n    this.AssignUniform( 'uRadius' );\r\n    this.AssignUniform( 'uOutline' );\r\n  \r\n  };\r\n\r\n  GLCircleProgramController.prototype.Execute = function ( _projection, _x, _y, _radius ) {\r\n\r\n    var gl = this.gl;\r\n    var attributes = this.attributes;\r\n    var uniforms = this.uniforms;\r\n    var vertices = this.vertices;\r\n    var fillChannel = this.fillColor.channel;\r\n    var outlineChannel = this.outlineColor.channel;\r\n    TriRectArray( _x - _radius, _y - _radius, _radius * 2, _radius * 2, vertices );\r\n\r\n    if ( this !== Super.LAST_USED_CONTROLLER ) {\r\n\r\n      gl.useProgram( this.program );\r\n      Super.LAST_USED_CONTROLLER = this;\r\n    \r\n    }\r\n\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, this.essenceBuffer );\r\n    gl.bufferSubData( gl.ARRAY_BUFFER, 0, vertices );\r\n    gl.enableVertexAttribArray( attributes.aPosition );\r\n    gl.vertexAttribPointer( attributes.aPosition, 2, gl.FLOAT, false, 0, 0 );\r\n    gl.uniformMatrix3fv( uniforms.uProjection, false, _projection );\r\n    gl.uniform4f( uniforms.uFillColor, fillChannel[ 0 ], fillChannel[ 1 ], fillChannel[ 2 ], fillChannel[ 3 ] );\r\n    gl.uniform4f( uniforms.uOutlineColor, outlineChannel[ 0 ], outlineChannel[ 1 ], outlineChannel[ 2 ], outlineChannel[ 3 ] );\r\n    gl.uniform1f( uniforms.uOutline, this.outline );\r\n    gl.uniform1f( uniforms.uRadius, _radius );\r\n    gl.drawArrays( gl.TRIANGLE_STRIP, 0, 6 );\r\n  \r\n  };\r\n\r\n  Nenkraft.Controller.GLCircleProgramController = GLCircleProgramController;\r\n  Nenkraft.GLCircleProgramController = GLCircleProgramController;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-controller/nk-gl-program-controller/nk-gl-circle-program-controller.js\n// module id = 86\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Controller.GLProgramController;\r\n  var TRA = Nenkraft.Math.TriRectArray;\r\n\r\n  function GLTextureProgramController ( _gl ) {\r\n\r\n    if ( !( this instanceof GLTextureProgramController ) ) return new GLTextureProgramController( _gl );\r\n    Super.call( this, _gl, Nenkraft.SHADER_CODE.TEXTURE_2D );\r\n    this.Initialise();\r\n  \r\n  }\r\n\r\n  GLTextureProgramController.prototype = Object.create( Super.prototype );\r\n  GLTextureProgramController.prototype.constructor = GLTextureProgramController;\r\n  // Static\r\n\r\n  // Members\r\n  GLTextureProgramController.prototype.originalTexture0 = null;\r\n  GLTextureProgramController.prototype.boundTexture0 = null;\r\n  GLTextureProgramController.prototype.essenceBuffer0 = null;\r\n  GLTextureProgramController.prototype.originalTexture1 = null;\r\n  GLTextureProgramController.prototype.boundTexture1 = null;\r\n  GLTextureProgramController.prototype.essenceBuffer1 = null;\r\n  GLTextureProgramController.prototype.originalTexture2 = null;\r\n  GLTextureProgramController.prototype.boundTexture2 = null;\r\n  GLTextureProgramController.prototype.essenceBuffer2 = null;\r\n  GLTextureProgramController.prototype.originalTexture3 = null;\r\n  GLTextureProgramController.prototype.boundTexture3 = null;\r\n  GLTextureProgramController.prototype.essenceBuffer3 = null;\r\n  GLTextureProgramController.prototype.lastUsedUnit = 0;\r\n\r\n  // Methods\r\n  GLTextureProgramController.prototype.Initialise = function() {\r\n\r\n    this.AssignAttribute( 'aPosition0' );\r\n    this.AssignAttribute( 'aTexCoord0' );\r\n    this.AssignAttribute( 'aPosition1' );\r\n    this.AssignAttribute( 'aTexCoord1' );\r\n    this.AssignAttribute( 'aPosition2' );\r\n    this.AssignAttribute( 'aTexCoord2' );\r\n    this.AssignAttribute( 'aPosition3' );\r\n    this.AssignAttribute( 'aTexCoord3' );\r\n    this.AssignUniform( 'uImage' );\r\n    this.AssignUniform( 'uUnitId' );\r\n    this.AssignUniform( 'uProjection' );\r\n    this.AssignUniform( 'uTranslation' );\r\n    this.AssignUniform( 'uTransformation' );\r\n    this.AssignUniform( 'uTint' );\r\n  \r\n  };\r\n\r\n  GLTextureProgramController.prototype.BindBasicTexture = function ( _texture, _unitId ) {\r\n\r\n    if ( _unitId == null || _unitId < 0 || _unitId > 3 ) _unitId = 0;\r\n    var gl = this.gl;\r\n    _texture.uniformId = _unitId;\r\n    this['originalTexture' + _unitId] = _texture;\r\n    this['boundTexture' + _unitId] = gl.createTexture();\r\n    this['essenceBuffer' + _unitId] = gl.createBuffer();\r\n    var essence = TRA( 0, 0, _texture.w, _texture.h );\r\n    essence.push.apply( essence, TRA( 0, 0, 1, 1 ) );\r\n    gl.bindTexture( gl.TEXTURE_2D, this['boundTexture' + _unitId] );\r\n    gl.texImage2D( gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, _texture.image );\r\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT );\r\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT );\r\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\r\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, this['essenceBuffer' + _unitId] );\r\n    gl.bufferData( gl.ARRAY_BUFFER, new Float32Array( essence ), gl.STATIC_DRAW );\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, null );\r\n    gl.bindTexture( gl.TEXTURE_2D, null );\r\n  \r\n  };\r\n\r\n  GLTextureProgramController.prototype.BindUnit = function( _gl, _uniforms, _attributes, _unitId ) {\r\n\r\n    if ( this['boundTexture' + _unitId] == null ) return;\r\n\r\n    _gl.activeTexture( _gl.TEXTURE0 + _unitId );\r\n    _gl.bindTexture( _gl.TEXTURE_2D, this['boundTexture' + _unitId] );\r\n    _gl.bindBuffer( _gl.ARRAY_BUFFER, this['essenceBuffer' + _unitId] );\r\n    _gl.enableVertexAttribArray( _attributes['aPosition' + _unitId] );\r\n    _gl.vertexAttribPointer( _attributes['aPosition' + _unitId], 2, _gl.FLOAT, false, 0, 0 );\r\n    _gl.enableVertexAttribArray( _attributes['aTexCoord' + _unitId] );\r\n    _gl.vertexAttribPointer( _attributes['aTexCoord' + _unitId], 2, _gl.FLOAT, false, 0, 48 );\r\n  \r\n  };\r\n\r\n  GLTextureProgramController.prototype.Execute = function ( _projection, _translation, _transformation, _tint, _unitId ) {\r\n\r\n    var gl = this.gl;\r\n    var attributes = this.attributes;\r\n    var uniforms = this.uniforms;\r\n\r\n    if ( this !== Super.LAST_USED_CONTROLLER ) {\r\n\r\n      gl.useProgram( this.program );\r\n\r\n      this.BindUnit( gl, uniforms, attributes, 0 );\r\n      this.BindUnit( gl, uniforms, attributes, 1 );\r\n      this.BindUnit( gl, uniforms, attributes, 2 );\r\n      this.BindUnit( gl, uniforms, attributes, 3 );\r\n\r\n      gl.uniform1f( uniforms.uUnitId, _unitId );\r\n      gl.uniform1i( uniforms.uImage, _unitId );\r\n      Super.LAST_USED_CONTROLLER = this;\r\n      this.lastUsedUnit = _unitId;\r\n    \r\n    } else if ( _unitId !== this.lastUsedUnit ) {\r\n\r\n      gl.uniform1f( uniforms.uUnitId, _unitId );\r\n      gl.uniform1i( uniforms.uImage, _unitId );\r\n      this.lastUsedUnit = _unitId;\r\n    \r\n    }\r\n\r\n    gl.uniform4fv( uniforms.uTint, _tint );\r\n    gl.uniformMatrix3fv( uniforms.uProjection, false, _projection );\r\n    gl.uniformMatrix3fv( uniforms.uTranslation, false, _translation );\r\n    gl.uniformMatrix3fv( uniforms.uTransformation, false, _transformation );\r\n    gl.drawArrays( gl.TRIANGLE_STRIP, 0, 6 );\r\n  \r\n  };\r\n\r\n  Nenkraft.Controller.GLTextureProgramController = GLTextureProgramController;\r\n  Nenkraft.GLTextureProgramController = GLTextureProgramController;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-controller/nk-gl-program-controller/nk-gl-texture-program-controller.js\n// module id = 87\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Controller.GLProgramController;\r\n  var TRA = Nenkraft.Math.TriRectArray;\r\n\r\n  function GLTextureBatchProgramController ( _gl ) {\r\n\r\n    if ( !( this instanceof GLTextureBatchProgramController ) ) return new GLTextureBatchProgramController( _gl );\r\n    Super.call( this, _gl, Nenkraft.SHADER_CODE.TEXTURE_2D_BATCH );\r\n  \r\n  }\r\n\r\n  GLTextureBatchProgramController.prototype = Object.create( Super.prototype );\r\n  GLTextureBatchProgramController.prototype.constructor = GLTextureBatchProgramController;\r\n  // Static\r\n\r\n  // Members\r\n  GLTextureBatchProgramController.prototype.originalTexture = null;\r\n  GLTextureBatchProgramController.prototype.boundTexture = null;\r\n  GLTextureBatchProgramController.prototype.essenceBuffer = null;\r\n  GLTextureBatchProgramController.prototype.dataBuffer = null;\r\n  GLTextureBatchProgramController.prototype.indexBuffer = null;\r\n  GLTextureBatchProgramController.prototype.previousNumberOfElements = null;\r\n\r\n  // Methods\r\n  GLTextureBatchProgramController.prototype.BindBasicTexture = function ( _texture ) {\r\n\r\n    var gl = this.gl;\r\n    this.aia = gl.getExtension( 'ANGLE_instanced_arrays' );\r\n    this.originalTexture = _texture;\r\n    this.boundTexture = gl.createTexture();\r\n    this.essenceBuffer = gl.createBuffer();\r\n    this.dataBuffer = gl.createBuffer();\r\n    var essence = TRA( 0, 0, _texture.w, _texture.h );\r\n    essence.push.apply( essence, TRA( 0, 0, 1, 1 ) );\r\n    gl.bindTexture( gl.TEXTURE_2D, this.boundTexture );\r\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.MIRRORED_REPEAT );\r\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.MIRRORED_REPEAT );\r\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\r\n    gl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\r\n    gl.texImage2D( gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, _texture.image );\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, this.essenceBuffer );\r\n    gl.bufferData( gl.ARRAY_BUFFER, new Float32Array( essence ), gl.STATIC_DRAW );\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, null );\r\n    gl.bindTexture( gl.TEXTURE_2D, null );\r\n    this.AssignAttribute( 'aPosition' );\r\n    this.AssignAttribute( 'aTexCoord' );\r\n    this.AssignAttribute( 'aProjection1' );\r\n    this.AssignAttribute( 'aProjection2' );\r\n    this.AssignAttribute( 'aProjection3' );\r\n    this.AssignAttribute( 'aTranslation1' );\r\n    this.AssignAttribute( 'aTranslation2' );\r\n    this.AssignAttribute( 'aTranslation3' );\r\n    this.AssignAttribute( 'aTransformation1' );\r\n    this.AssignAttribute( 'aTransformation2' );\r\n    this.AssignAttribute( 'aTransformation3' );\r\n    this.AssignUniform( 'uImage' );\r\n  \r\n  };\r\n\r\n  GLTextureBatchProgramController.prototype.Execute = function ( _data, _numberOfElements ) {\r\n\r\n    var gl = this.gl;\r\n    var aia = this.aia;\r\n    var attributes = this.attributes;\r\n    var uniforms = this.uniforms;\r\n\r\n    if ( this !== Super.LAST_USED_CONTROLLER ) {\r\n\r\n      gl.useProgram( this.program );\r\n      gl.activeTexture( gl.TEXTURE0 );\r\n      gl.bindTexture( gl.TEXTURE_2D, this.boundTexture );\r\n      gl.uniform1i( uniforms.uImage, 0 );\r\n      gl.bindBuffer( gl.ARRAY_BUFFER, this.essenceBuffer );\r\n      gl.enableVertexAttribArray( attributes.aPosition );\r\n      gl.vertexAttribPointer( attributes.aPosition, 2, gl.FLOAT, false, 0, 0 );\r\n      aia.vertexAttribDivisorANGLE( attributes.aPosition, 0 );\r\n      gl.enableVertexAttribArray( attributes.aTexCoord );\r\n      gl.vertexAttribPointer( attributes.aTexCoord, 2, gl.FLOAT, false, 0, 48 );\r\n      aia.vertexAttribDivisorANGLE( attributes.aTexCoord, 0 );\r\n      Super.LAST_USED_CONTROLLER = this;\r\n    \r\n    }\r\n\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, this.dataBuffer );\r\n\r\n    if ( _numberOfElements !== this.previousNumberOfElements ) {\r\n\r\n      gl.bufferData( gl.ARRAY_BUFFER, _data, gl.DYNAMIC_DRAW );\r\n    \r\n    } else {\r\n\r\n      gl.bufferSubData( gl.ARRAY_BUFFER, 0, _data );\r\n    \r\n    }\r\n\r\n    gl.enableVertexAttribArray( attributes.aProjection1 );\r\n    gl.vertexAttribPointer( attributes.aProjection1, 3, gl.FLOAT, false, 108, 0 );\r\n    aia.vertexAttribDivisorANGLE( attributes.aProjection1, 1 );\r\n    gl.enableVertexAttribArray( attributes.aProjection2 );\r\n    gl.vertexAttribPointer( attributes.aProjection2, 3, gl.FLOAT, false, 108, 12 );\r\n    aia.vertexAttribDivisorANGLE( attributes.aProjection2, 1 );\r\n    gl.enableVertexAttribArray( attributes.aProjection3 );\r\n    gl.vertexAttribPointer( attributes.aProjection3, 3, gl.FLOAT, false, 108, 24 );\r\n    aia.vertexAttribDivisorANGLE( attributes.aProjection3, 1 );\r\n    gl.enableVertexAttribArray( attributes.aTranslation1 );\r\n    gl.vertexAttribPointer( attributes.aTranslation1, 3, gl.FLOAT, false, 108, 36 );\r\n    aia.vertexAttribDivisorANGLE( attributes.aTranslation1, 1 );\r\n    gl.enableVertexAttribArray( attributes.aTranslation2 );\r\n    gl.vertexAttribPointer( attributes.aTranslation2, 3, gl.FLOAT, false, 108, 48 );\r\n    aia.vertexAttribDivisorANGLE( attributes.aTranslation2, 1 );\r\n    gl.enableVertexAttribArray( attributes.aTranslation3 );\r\n    gl.vertexAttribPointer( attributes.aTranslation3, 3, gl.FLOAT, false, 108, 60 );\r\n    aia.vertexAttribDivisorANGLE( attributes.aTranslation3, 1 );\r\n    gl.enableVertexAttribArray( attributes.aTransformation1 );\r\n    gl.vertexAttribPointer( attributes.aTransformation1, 3, gl.FLOAT, false, 108, 72 );\r\n    aia.vertexAttribDivisorANGLE( attributes.aTransformation1, 1 );\r\n    gl.enableVertexAttribArray( attributes.aTransformation2 );\r\n    gl.vertexAttribPointer( attributes.aTransformation2, 3, gl.FLOAT, false, 108, 84 );\r\n    aia.vertexAttribDivisorANGLE( attributes.aTransformation2, 1 );\r\n    gl.enableVertexAttribArray( attributes.aTransformation3 );\r\n    gl.vertexAttribPointer( attributes.aTransformation3, 3, gl.FLOAT, false, 108, 96 );\r\n    aia.vertexAttribDivisorANGLE( attributes.aTransformation3, 1 );\r\n    aia.drawArraysInstancedANGLE( gl.TRIANGLE_STRIP, 0, 6, _numberOfElements );\r\n  \r\n  };\r\n\r\n  Nenkraft.Controller.GLTextureBatchProgramController = GLTextureBatchProgramController;\r\n  Nenkraft.GLTextureBatchProgramController = GLTextureBatchProgramController;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-controller/nk-gl-program-controller/nk-gl-texture-batch-program-controller.js\n// module id = 88\n// module chunks = 0","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Controller.GLProgramController;\r\n\r\n  function GLPixelBatchProgramController ( _gl ) {\r\n\r\n    if ( !( this instanceof GLPixelBatchProgramController ) ) return new GLPixelBatchProgramController( _gl );\r\n    Super.call( this, _gl, Nenkraft.SHADER_CODE.PIXEL_BATCH );\r\n    this.Initialise();\r\n  \r\n  }\r\n\r\n  GLPixelBatchProgramController.prototype = Object.create( Super.prototype );\r\n  GLPixelBatchProgramController.prototype.constructor = GLPixelBatchProgramController;\r\n  // Static\r\n\r\n  // Members\r\n  GLPixelBatchProgramController.prototype.dataBuffer = null;\r\n  GLPixelBatchProgramController.prototype.prevNumElements = 0;\r\n\r\n  // Methods\r\n  GLPixelBatchProgramController.prototype.Initialise = function () {\r\n\r\n    var gl = this.gl;\r\n    this.dataBuffer = gl.createBuffer();\r\n    this.AssignAttribute( 'aProjection1' );\r\n    this.AssignAttribute( 'aProjection2' );\r\n    this.AssignAttribute( 'aProjection3' );\r\n    this.AssignAttribute( 'aPosition' );\r\n    this.AssignAttribute( 'aColor' );\r\n    this.AssignAttribute( 'aPointSize' );\r\n  \r\n  };\r\n\r\n  GLPixelBatchProgramController.prototype.Execute = function ( _data, _numElements ) {\r\n\r\n    var gl = this.gl;\r\n    var attributes = this.attributes;\r\n\r\n    if ( Super.LAST_USED_CONTROLLER !== this ) {\r\n\r\n      gl.useProgram( this.program );\r\n    \r\n    }\r\n\r\n    gl.bindBuffer( gl.ARRAY_BUFFER, this.dataBuffer );\r\n\r\n    if ( _numElements !== this.prevNumElements ) {\r\n\r\n      gl.bufferData( gl.ARRAY_BUFFER, _data, gl.DYNAMIC_DRAW );\r\n    \r\n    } else {\r\n\r\n      gl.bufferSubData( gl.ARRAY_BUFFER, 0, _data );\r\n    \r\n    }\r\n\r\n    gl.enableVertexAttribArray( attributes.aProjection1 );\r\n    gl.vertexAttribPointer( attributes.aProjection1, 3, gl.FLOAT, false, 64, 0 );\r\n    gl.enableVertexAttribArray( attributes.aProjection2 );\r\n    gl.vertexAttribPointer( attributes.aProjection2, 3, gl.FLOAT, false, 64, 12 );\r\n    gl.enableVertexAttribArray( attributes.aProjection3 );\r\n    gl.vertexAttribPointer( attributes.aProjection3, 3, gl.FLOAT, false, 64, 24 );\r\n    gl.enableVertexAttribArray( attributes.aPosition );\r\n    gl.vertexAttribPointer( attributes.aPosition, 2, gl.FLOAT, false, 64, 36 );\r\n    gl.enableVertexAttribArray( attributes.aColor );\r\n    gl.vertexAttribPointer( attributes.aColor, 4, gl.FLOAT, false, 64, 44 );\r\n    gl.enableVertexAttribArray( attributes.aPointSize );\r\n    gl.vertexAttribPointer( attributes.aPointSize, 1, gl.FLOAT, false, 64, 60 );\r\n    gl.drawArrays( gl.POINTS, 0, _numElements );\r\n    this.prevNumElements = _numElements;\r\n    Super.LAST_USED_CONTROLLER = this;\r\n  \r\n  };\r\n\r\n  Nenkraft.Controller.GLPixelBatchProgramController = GLPixelBatchProgramController;\r\n  Nenkraft.GLPixelBatchProgramController = GLPixelBatchProgramController;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-controller/nk-gl-program-controller/nk-gl-pixel-batch-program-controller.js\n// module id = 89\n// module chunks = 0"],"sourceRoot":""}