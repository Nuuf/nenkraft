{"version":3,"sources":["webpack:///webpack/bootstrap cce8b9eacc962b3e5fd2?3a4d","webpack:///./tests/tests.js","webpack:///./style/default.css","webpack:///./assets/images/1to8.png","webpack:///./assets/images/4dots.png","webpack:///./assets/images/colors.png","webpack:///./assets/images/font.png","webpack:///./assets/images/glass-of-blueberryjuice.png","webpack:///./assets/images/raindrop.png","webpack:///./assets/images/smudge.png","webpack:///./tests/nk-tests \\.(test)$","webpack:///./tests/nk-tests/aabbcollision.test.js","webpack:///./tests/nk-tests/animation.test.js","webpack:///./tests/nk-tests/bitmapfont.test.js","webpack:///./tests/nk-tests/butterflyish.test.js","webpack:///./tests/nk-tests/cli.test.js","webpack:///./tests/nk-tests/clock.test.js","webpack:///./tests/nk-tests/elasticcollision.test.js","webpack:///./tests/nk-tests/field.test.js","webpack:///./tests/nk-tests/fractree.test.js","webpack:///./tests/nk-tests/grabndrag.test.js","webpack:///./tests/nk-tests/grid.test.js","webpack:///./tests/nk-tests/magnet.test.js","webpack:///./tests/nk-tests/motion.test.js","webpack:///./tests/nk-tests/nightsky.test.js","webpack:///./tests/nk-tests/particles.test.js","webpack:///./tests/nk-tests/platformer.test.js","webpack:///./tests/nk-tests/playground.test.js","webpack:///./tests/nk-tests/polygoncollision.test.js","webpack:///./tests/nk-tests/quadtree.test.js","webpack:///./tests/nk-tests/rain.test.js","webpack:///./tests/nk-tests/raycasting.test.js","webpack:///./tests/nk-tests/reflectivecollision.test.js","webpack:///./tests/nk-tests/sprite.test.js","webpack:///./tests/nk-tests/stresstest.test.js","webpack:///./tests/nk-tests/text.test.js","webpack:///./tests/nk-tests/themask.test.js","webpack:///./tests/nk-tests/webglanimation.test.js","webpack:///./tests/nk-tests/webglcircle.test.js","webpack:///./tests/nk-tests/webglline2d.test.js","webpack:///./tests/nk-tests/webglpixelbatch.test.js","webpack:///./tests/nk-tests/webglrectangle.test.js","webpack:///./tests/nk-tests/webglstresstest.test.js","webpack:///./tests/nk-tests/webgltexturebatch.test.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;AChEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,CAAC;;AAED,kCAAkC,OAAO;AACzC;AACA;;AAEA,uD;;;;;;ACtBA,yC;;;;;;ACAA,kE;;;;;;ACAA,mE;;;;;;ACAA,oE;;;;;;ACAA,kE;;;;;;ACAA,qF;;;;;;ACAA,sE;;;;;;ACAA,oE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uB;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA,0CAA0C,KAAK;AAC/C;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;;AAGL;AACA;AACA,E;;;;;;ACxGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,OAAO;AACP;;AAEA;AACA;AACA,E;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,+DAA+D;AACtE,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,E;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gDAAgD;AAChD,sDAAsD;AACtD,8CAA8C;AAC9C;;AAEA;AACA;AACA,mBAAmB;AACnB,qBAAqB;AACrB,qBAAqB;AACrB,wBAAwB;AACxB,yBAAyB;AACzB,2BAA2B;AAC3B,eAAe;AACf,gBAAgB;AAChB,2BAA2B;AAC3B,gCAAgC;AAChC,wBAAwB;AACxB;AACA,QAAQ;AACR,eAAe;AACf,mBAAmB;AACnB,qBAAqB;AACrB,qBAAqB;AACrB,sBAAsB;AACtB,2BAA2B;AAC3B,uCAAuC;AACvC,2BAA2B;AAC3B,yBAAyB;AACzB,wBAAwB;AACxB,yBAAyB;AACzB,gCAAgC;AAChC,qBAAqB;AACrB,wBAAwB;AACxB;AACA,QAAQ;AACR,mBAAmB;AACnB,kBAAkB;AAClB,mBAAmB;AACnB,2BAA2B;AAC3B,qBAAqB;AACrB,yBAAyB;AACzB,wBAAwB;AACxB,yBAAyB;AACzB;AACA,QAAQ;AACR;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;;;AAIA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,E;;;;;;ACzLA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,E;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA,oBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,eAAe;AAC7D,OAAO;AACP;AACA;;AAEA;;AAEA,qBAAqB,KAAK;AAC1B;AACA;;AAEA;;;AAGA;AACA;AACA,E;;;;;;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;;;AAIL;AACA;AACA,E;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;;AAGL;AACA;AACA,E;;;;;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,0CAA0C,KAAK;AAC/C;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA,E;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C,KAAK;AACnD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA,E;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA,E;;;;;;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,E;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA,sBAAsB,gBAAgB,GAAG,gBAAgB;AACzD;AACA,sDAAsD,OAAO;AAC7D;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,E;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,E;;;;;;ACpLA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2GAA2G;;AAE3G;AACA,iEAAiE,QAAQ,eAAe,WAAW,iBAAiB,EAAE;AACtH,kEAAkE,QAAQ,iBAAiB,WAAW,iBAAiB,EAAE;AACzH,sEAAsE,QAAQ,gBAAgB,WAAW,iBAAiB,EAAE;AAC5H,sEAAsE,QAAQ,kBAAkB,WAAW,iBAAiB,EAAE;AAC9H,sEAAsE,QAAQ,kBAAkB,WAAW,iBAAiB,EAAE;AAC9H,sEAAsE,QAAQ,gBAAgB,WAAW,iBAAiB,EAAE;AAC5H,sEAAsE,QAAQ,kBAAkB,WAAW,iBAAiB,EAAE;AAC9H,sEAAsE,QAAQ,qBAAqB,WAAW,iBAAiB,EAAE;AACjI,sEAAsE,QAAQ,kBAAkB,WAAW,iBAAiB,EAAE;AAC9H,sEAAsE,QAAQ,mBAAmB,WAAW,iBAAiB,EAAE;AAC/H,uEAAuE,QAAQ,sBAAsB,WAAW,iBAAiB,EAAE;AACnI,uEAAuE,QAAQ,qBAAqB,WAAW,iBAAiB,EAAE;AAClI,uEAAuE,QAAQ,0BAA0B,WAAW,iBAAiB,EAAE;AACvI,uEAAuE,QAAQ,qBAAqB,WAAW,iBAAiB,EAAE;AAClI,uEAAuE,QAAQ,qBAAqB,WAAW,iBAAiB,EAAE;AAClI,uEAAuE,QAAQ,qBAAqB,WAAW,iBAAiB,EAAE;AAClI;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA,E;;;;;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA,uCAAuC,OAAO;AAC9C;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,0CAA0C,KAAK;AAC/C;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA,E;;;;;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA,E;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;;AAIL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,sBAAsB,iBAAiB;AACvC;AACA;AACA,wBAAwB,qBAAqB;AAC7C;AACA;;AAEA,0BAA0B,iCAAiC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA,0CAA0C,KAAK;AAC/C;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA,E;;;;;;ACnJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,0CAA0C,KAAK;AAC/C;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;;AAGL;AACA;AACA,E;;;;;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,OAAO,kDAAkD;AACzD;AACA;AACA,OAAO,gDAAgD;AACvD,OAAO;AACP;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,0CAA0C,KAAK;AAC/C;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA,E;;;;;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,E;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,E;;;;;;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;;AAGA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,OAAO,4DAA4D;AACnE,OAAO;AACP;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,0CAA0C,KAAK;AAC/C;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;;;AAGA;AACA,E;;;;;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,0CAA0C,KAAK;AAC/C;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;;;AAGA;AACA,E;;;;;;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;AAKA;;;AAGA;AACA,E;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;;AAGL;;;AAGA;;;AAGA;AACA,E;;;;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,0CAA0C,KAAK;AAC/C;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;;;AAGA;AACA,E;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;AC1IA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;;AAEL;AACA,OAAO;AACP;;;;AAIA;;;AAGA;AACA,E","file":"tests.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 122);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cce8b9eacc962b3e5fd2","require( './../style/default.css' );\r\n\r\nrequire( './../assets/images/1to8.png' );\r\nrequire( './../assets/images/4dots.png' );\r\nrequire( './../assets/images/glass-of-blueberryjuice.png' );\r\nrequire( './../assets/images/raindrop.png' );\r\nrequire( './../assets/images/smudge.png' );\r\nrequire( './../assets/images/colors.png' );\r\nrequire( './../assets/images/font.png' );\r\n\r\nvar tests = [];\r\n\r\nvar context = require.context( './nk-tests', true, /\\.(test)$/ );\r\n\r\ncontext.keys().forEach( function ( file ) {\r\n  tests.push( context( file ) );\r\n} );\r\n\r\nfor ( var i = 0, l = tests.length; i < l; ++i ) {\r\n  tests[ i ]();\r\n}\r\n\r\n//if ( DEVELOPMENT && module.hot ) module.hot.accept();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/tests.js\n// module id = 2\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./style/default.css\n// module id = 3\n// module chunks = 1","module.exports = __webpack_public_path__ + \"assets/images/1to8.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/1to8.png\n// module id = 4\n// module chunks = 1","module.exports = __webpack_public_path__ + \"assets/images/4dots.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/4dots.png\n// module id = 5\n// module chunks = 1","module.exports = __webpack_public_path__ + \"assets/images/colors.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/colors.png\n// module id = 6\n// module chunks = 1","module.exports = __webpack_public_path__ + \"assets/images/font.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/font.png\n// module id = 7\n// module chunks = 1","module.exports = __webpack_public_path__ + \"assets/images/glass-of-blueberryjuice.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/glass-of-blueberryjuice.png\n// module id = 8\n// module chunks = 1","module.exports = __webpack_public_path__ + \"assets/images/raindrop.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/raindrop.png\n// module id = 9\n// module chunks = 1","module.exports = __webpack_public_path__ + \"assets/images/smudge.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/images/smudge.png\n// module id = 10\n// module chunks = 1","var map = {\n\t\"./aabbcollision.test\": 88,\n\t\"./animation.test\": 89,\n\t\"./bitmapfont.test\": 90,\n\t\"./butterflyish.test\": 91,\n\t\"./cli.test\": 92,\n\t\"./clock.test\": 93,\n\t\"./elasticcollision.test\": 94,\n\t\"./field.test\": 95,\n\t\"./fractree.test\": 96,\n\t\"./grabndrag.test\": 97,\n\t\"./grid.test\": 98,\n\t\"./magnet.test\": 99,\n\t\"./motion.test\": 100,\n\t\"./nightsky.test\": 101,\n\t\"./particles.test\": 102,\n\t\"./platformer.test\": 103,\n\t\"./playground.test\": 104,\n\t\"./polygoncollision.test\": 105,\n\t\"./quadtree.test\": 106,\n\t\"./rain.test\": 107,\n\t\"./raycasting.test\": 108,\n\t\"./reflectivecollision.test\": 109,\n\t\"./sprite.test\": 110,\n\t\"./stresstest.test\": 111,\n\t\"./text.test\": 112,\n\t\"./themask.test\": 113,\n\t\"./webglanimation.test\": 114,\n\t\"./webglcircle.test\": 115,\n\t\"./webglline2d.test\": 116,\n\t\"./webglpixelbatch.test\": 117,\n\t\"./webglrectangle.test\": 118,\n\t\"./webglstresstest.test\": 119,\n\t\"./webgltexturebatch.test\": 120\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 87;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests \\.(test)$\n// module id = 87\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'AABBCollision' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '100px';\r\n    c.style.left = '100px';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0 );\r\n    stage.scale.Set( 1, 1 );\r\n    stage.mouse.scale.SetV( stage.scale );\r\n\r\n\r\n    var text = new nk.Text( 0, 0, 'Collide them!' );\r\n\r\n    var aabbg1 = new nk.Graphic2D( 300, 100, new nk.Path.AABB2D( 0, 0, 50, 50 ) );\r\n    var aabbg2 = new nk.Graphic2D( 400, 400, new nk.Path.AABB2D( 0, 0, 400, 100 ) );\r\n\r\n    var lineC = new nk.Graphic2D( 0, 0, new nk.Path.Line2D() );\r\n    lineC.interactive = false;\r\n\r\n    stage.AddChild( aabbg1 );\r\n    stage.AddChild( aabbg2 );\r\n\r\n    stage.AddChild( text );\r\n\r\n    stage.AddChild( lineC );\r\n\r\n    var dragger = null;\r\n    var test = null;\r\n\r\n    var obj1 = {\r\n      shape: aabbg1.path,\r\n      relative: aabbg1.position,\r\n      anchor: new nk.Vector2D()\r\n    };\r\n\r\n    var obj2 = {\r\n      shape: aabbg2.path,\r\n      relative: aabbg2.position,\r\n      anchor: new nk.Vector2D()\r\n    };\r\n\r\n    var result = new nk.Math.Collision2D.AABB2DvsAABB2D.Result();\r\n\r\n    lineC.path.s.SetV( aabbg1.position );\r\n    lineC.path.e.SetV( aabbg2.position );\r\n\r\n    stage.mouse.onMove.Add( function ( _event ) {\r\n      if ( dragger !== null ) {\r\n        dragger.x = _event.data.position.x;\r\n        dragger.y = _event.data.position.y;\r\n\r\n        result.occured = false;\r\n\r\n        nk.Math.Collision2D.AABB2DvsAABB2D.Relative.Collide( obj1, obj2, result );\r\n\r\n        lineC.path.s.SetV( aabbg1.position );\r\n        lineC.path.e.SetV( aabbg2.position );\r\n\r\n        lineC.SendToFront();\r\n\r\n        if ( result.occured === true ) {\r\n          text.text = 'Well done!';\r\n          aabbg1.position.AddV( result.mtv );\r\n        } else text.text = 'Collide them!';\r\n      }\r\n    }, stage );\r\n    stage.mouse.onDown.Add( function ( _event ) {\r\n      var p = _event.data.position;\r\n      for ( var i = stage.children.length; i--; ) {\r\n        if ( stage.children[ i ].IntersectsPoint( p ) ) {\r\n          dragger = stage.children[ i ];\r\n\r\n          _event.stopPropagation = true;\r\n\r\n          dragger.SendToFront();\r\n          break;\r\n        }\r\n      }\r\n    }, stage );\r\n    stage.mouse.onUp.Add( function ( _event ) {\r\n      if ( dragger ) dragger = null;\r\n    } );\r\n    stage.mouse.onLeave.Add( function ( _event ) {\r\n      if ( dragger ) dragger = null;\r\n    } );\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/aabbcollision.test.js\n// module id = 88\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Animation' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH, true );\r\n    stage.ticker.StartAF();\r\n\r\n    var sprite = null;\r\n    var spriteRef = null;\r\n\r\n    var timer = new nk.Time.Timer();\r\n\r\n    var imageCache = new nk.ImageLoader();\r\n    imageCache.onComplete.Add( function ( _event ) {\r\n\r\n      spriteRef = new nk.Sprite( 0, -200, imageCache.GetBasicTexture( '1to8' ) );\r\n      spriteRef.anchor.Set( 0.5 );\r\n\r\n      sprite = new nk.Sprite( 0, 0, _event.data.basicTextureCache.GetById( '1to8' ) );\r\n      sprite.anchor.Set( 0.5 );\r\n      sprite.scale.Set( 5.0 );\r\n      var ac = sprite.animationController = new nk.Animator.Controller( sprite );\r\n      var animation = ac.AddAnimation( 'test', 20 );\r\n      animation.GenerateFrames( 64, 64, 512, 64, 8, {\r\n        '5': 120\r\n      } );\r\n      animation.reverse = true;\r\n      animation.onEnd.Add( function () {\r\n        stage.ticker.Stop();\r\n      }, animation );\r\n      ac.PlayAnimation( 'test', 7 );\r\n      stage.AddChildren( sprite, spriteRef );\r\n\r\n      timer.onFinish.Add( function () {\r\n        sprite.animationController.StopCurrentAnimation();\r\n      } );\r\n\r\n      //timer.Start( 400 );\r\n\r\n      stage.onProcess.Add( function () {\r\n        sprite.animationController.Process();\r\n        timer.Process();\r\n      }, stage );\r\n    } );\r\n    imageCache.Load( [\r\n      { id: '1to8', src: './assets/images/1to8.png' }\r\n    ], true );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/animation.test.js\n// module id = 89\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'BitmapFont' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0 );\r\n    stage.backgroundColor = '#FFF';\r\n\r\n    var xhrloader = new nk.XHRLoader();\r\n    var imgloader = new nk.ImageLoader();\r\n    var done = 0;\r\n    xhrloader.Load( [\r\n      { id: 'fontdataxml', src: './assets/xhr/font.fnt', type: 'xml' },\r\n      { id: 'fontdatajson', src: './assets/xhr/font.json', type: 'json' }\r\n    ] );\r\n    imgloader.Load( [\r\n      { id: 'fontimg', src: './assets/images/font.png' }\r\n    ], true );\r\n    xhrloader.onComplete.Add( function ( event ) {\r\n      console.log( event.data );\r\n      console.log( JSON.stringify( event.data.dataCache.items[ 0 ].data ) === JSON.stringify( event.data.dataCache.items[ 1 ].data ) );\r\n      done++;\r\n      Go();\r\n    } );\r\n    imgloader.onComplete.Add( function ( event ) {\r\n      console.log( event.data );\r\n      done++;\r\n      Go();\r\n    } );\r\n\r\n    var test = null;\r\n\r\n    function Go () {\r\n      if ( done > 1 ) {\r\n        test = new nk.BitmapText(\r\n          0,\r\n          0,\r\n          imgloader.GetBasicTexture( 'fontimg' ),\r\n          xhrloader.GetData( 'fontdataxml' ),\r\n          'Hello world, this is another world'\r\n        );\r\n        console.log( test );\r\n        stage.AddChild( test );\r\n      }\r\n    }\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/bitmapfont.test.js\n// module id = 90\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Butterflyish' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = 0;\r\n    c.style.left = 0;\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var container = new nk.Container2D( HW, HH );\r\n\r\n    var color = new nk.Color( 0, 255, 0 );\r\n    color.ConvertToHSLA();\r\n\r\n    var path = new nk.Path.Polygon2D();\r\n    //path.style.shadow.applied = true;\r\n    nk.Geom.Polygon2D.Construct.Star( path, 0, 0, 100, 50, 8 );\r\n\r\n    var bfly = new nk.Path.Polygon2D();\r\n    //bfly.style.shadow.applied = true;\r\n    bfly.style.stroke.lineWidth = 0.5;\r\n    bfly.style.fill.applied = false;\r\n    nk.Geom.Polygon2D.Construct.Butterfly( bfly, 0, 0, 150, 40 );\r\n\r\n    var child = new nk.Graphic2D( 0, -HH * 0.5, path );\r\n    var child_ = new nk.Graphic2D( 0, 0, bfly );\r\n\r\n    child.AddChild( child_ );\r\n\r\n    child.visible = false;\r\n\r\n    container.AddChild( child );\r\n\r\n    var angle = 0;\r\n    var speed = 3;\r\n\r\n\r\n    var text = new nk.Text( 0, 0, 'Stop trying to hit me and hit me!' );\r\n    text.style.text.align = nk.Style.TEXT_ALIGN.CENTER;\r\n    text.style.text.baseline = nk.Style.TEXT_BASELINE.MIDDLE;\r\n    text.style.text.font = '56px Arial';\r\n    text.style.text.strokeColor = '#000';\r\n\r\n    container.AddChild( text );\r\n\r\n    function Update () {\r\n\r\n      color.IncreaseChannel( 0, 0.1 );\r\n\r\n      bfly.style.stroke.color = color.value;\r\n      text.style.text.fillColor = color.value;\r\n\r\n      var a = nk.Math.DTR( angle );\r\n\r\n      child.x += Math.cos( a ) * speed;\r\n      child.y += Math.sin( a ) * speed;\r\n\r\n      text.y += Math.sin( a ) * speed;\r\n\r\n      child.rotation = a;\r\n\r\n      angle++;\r\n\r\n      rc.setTransform( 1, 0, 0, 1, 0, 0 );\r\n\r\n      rc.fillStyle = 'rgba(255, 255, 255, 0.5)';\r\n      rc.fillRect( 0, 0, W, H );\r\n\r\n      container.Draw( rc );\r\n\r\n      //requestAnimationFrame( Update );\r\n    }\r\n\r\n    setInterval( Update, 1 );\r\n\r\n    var a = {\r\n      b: {\r\n        c: {\r\n          d: {\r\n            e: {\r\n              f: undefined\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    console.log( nk.Utils.Nested( a, 'b.c.d.e.f' ) );\r\n    console.log( nk.Utils.Nested( a, 'b.c.d.e.f', true ) );\r\n    nk.Utils.Nested( a, 'b.c.d.e.f', false, true, 20 );\r\n    console.log( nk.Utils.Nested( a, 'b.c.d.e.f' ) );\r\n    nk.Utils.Nested( a, 'b|c|d|e|f', false, true, 30, '|' );\r\n    console.log( nk.Utils.Nested( a, 'b.c.d.e.f' ) );\r\n    console.log( a );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/butterflyish.test.js\n// module id = 91\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Playground CLI' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n\r\n    var CE = {\r\n      UNKNOWN_COMMAND: '<span style=\"color: red;\">Unknown command: DATA</span>',\r\n      OPTION_REQUIRED: '<span style=\"color: lightblue;\">Option required for command: DATA</span>',\r\n      DATA_MISSING: '<span style=\"color: pink;\">Data required: DATA</span>',\r\n    };\r\n\r\n    var css = document.createElement( 'style' );\r\n    css.innerHTML = [\r\n      'commandbox {',\r\n      ' width: 500px;',\r\n      ' height: auto;',\r\n      ' min-height: 50%;',\r\n      ' max-height: 100%;',\r\n      ' position: absolute;',\r\n      ' top: 0;',\r\n      ' left: 0;',\r\n      ' overflow-y: scroll;',\r\n      ' background-color: black;',\r\n      ' cursor: default;',\r\n      '',\r\n      '}',\r\n      '#input {',\r\n      ' width: 98%;',\r\n      ' height: 18px;',\r\n      ' border: none;',\r\n      ' outline: none;',\r\n      ' position: relative;',\r\n      ' border-bottom: 1px solid black;',\r\n      ' font-family: Arial;',\r\n      ' padding-left: 2%;',\r\n      ' font-size: 13px;',\r\n      ' font-weight: 300;',\r\n      ' background-color: black;',\r\n      ' color: white;',\r\n      ' cursor: default;',\r\n      '',\r\n      '}',\r\n      '.paragraph {',\r\n      ' margin: 0;',\r\n      ' padding: 0;',\r\n      ' font-family: Arial;',\r\n      ' color: white;',\r\n      ' padding-left: 2%;',\r\n      ' font-size: 13px;',\r\n      ' font-weight: 300;',\r\n      '',\r\n      '}',\r\n      ''\r\n    ].join( '' );\r\n    document.head.appendChild( css );\r\n\r\n    var cb = document.createElement( 'commandbox' );\r\n\r\n    var ci = document.createElement( 'input' );\r\n    ci.setAttribute( 'type', 'text' );\r\n    ci.setAttribute( 'id', 'input' );\r\n\r\n    cb.appendChild( ci );\r\n\r\n    document.body.appendChild( cb );\r\n\r\n    cb.addEventListener( 'click', onCommandboxClick );\r\n    ci.addEventListener( 'keydown', onInputKeyDown );\r\n\r\n\r\n\r\n    ////////////////\r\n\r\n\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth - 500 );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = 0;\r\n    c.style.left = '500px';\r\n\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var cIndex = -1;\r\n    var cHistory = [];\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH, false );\r\n\r\n    var circleEntity = new nk.Graphic2D( 0, 0, new nk.Path.Circle( 0, 0, 50 ) );\r\n    stage.AddChild( circleEntity );\r\n\r\n    var mm = new nk.MotionManager( circleEntity );\r\n    var moveX = mm.Create( 'x', 'x', 0, 60 );\r\n    var moveY = mm.Create( 'y', 'y', 0, 60 );\r\n\r\n    var register = new nk.CP.Register();\r\n    nk.CP.Command.OPTION_PREFIX = '--';\r\n    register.Add( new nk.CP.Command(\r\n      'commands',\r\n      function () {\r\n        register.commands.forEach( function ( command ) {\r\n          insertParagraph( command.id[ 0 ] );\r\n        } );\r\n      }\r\n    ) );\r\n    register.Add( new nk.CP.Command(\r\n      'clear',\r\n      function () {\r\n        cb.innerHTML = '';\r\n        cb.appendChild( ci );\r\n        ci.focus();\r\n      },\r\n      'clear the screen'\r\n    ) );\r\n    register.Add( new nk.CP.Command(\r\n      'moveto',\r\n      function () {\r\n        var data = arguments[ 1 ];\r\n        var x = Number( data.x );\r\n        var y = Number( data.y );\r\n        if ( isNaN( x ) || isNaN( y ) ) return;\r\n        moveX.value = x;\r\n        moveY.value = y;\r\n        mm.StartMultiple( 'x y' );\r\n      },\r\n      'move to x y'\r\n    ) );\r\n\r\n    function insertParagraph ( _str ) {\r\n      var p = document.createElement( 'p' );\r\n      p.className = 'paragraph';\r\n      p.innerHTML = _str;\r\n      cb.insertBefore( p, ci );\r\n    }\r\n\r\n    function onInputKeyDown ( event ) {\r\n      var stop = false;\r\n      if ( event.keyCode === 13 ) {\r\n        stop = true;\r\n        if ( ci.value !== '' ) {\r\n          var r = register.Parse( ci.value );\r\n          cHistory.push( ci.value );\r\n          cIndex = cHistory.length - 1;\r\n          if ( r !== null ) {\r\n            insertParagraph( CE.UNKNOWN_COMMAND.replace( /DATA/g, r ) );\r\n          }\r\n        }\r\n        ci.value = '';\r\n        cb.scrollTop = cb.scrollHeight;\r\n      } else if ( event.keyCode === 38 ) {\r\n        if ( cIndex > -1 ) {\r\n          stop = true;\r\n          ci.value = cHistory[ cIndex-- ];\r\n        }\r\n      } else if ( event.keyCode === 40 ) {\r\n        if ( cIndex < cHistory.length - 1 ) {\r\n          stop = true;\r\n          ci.value = cHistory[ ++cIndex ];\r\n        }\r\n      }\r\n      if ( stop === true ) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n    }\r\n\r\n    function onCommandboxClick ( event ) {\r\n      ci.focus();\r\n    }\r\n\r\n    stage.onProcess.Add( function () {\r\n      mm.Process();\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/cli.test.js\n// module id = 92\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Clock' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH );\r\n\r\n    var clockPoints = new nk.Geom.Polygon2D();\r\n    nk.Geom.Polygon2D.Construct.Cyclic( clockPoints, 0, 0, 300, 12 );\r\n    clockPoints.Rotate( nk.Math.RADIAN * -90, 0.5, 0.5, true );\r\n\r\n    stage.AddChild( new nk.Graphic2D( 0, 0, new nk.Path.Circle( 0, 0, 300 ) ) );\r\n\r\n    var millisecondHand = stage.AddChild( new nk.Graphic2D( 0, 0, new nk.Path.Line2D( 0, 0, 50, 0 ) ) );\r\n    var secondHand = stage.AddChild( new nk.Graphic2D( 0, 0, new nk.Path.Line2D( 0, 0, 300, 0 ) ) );\r\n    var minuteHand = stage.AddChild( new nk.Graphic2D( 0, 0, new nk.Path.Line2D( 0, 0, 250, 0 ) ) );\r\n    var hourHand = stage.AddChild( new nk.Graphic2D( 0, 0, new nk.Path.Line2D( 0, 0, 150, 0 ) ) );\r\n\r\n    var i = clockPoints.vertices.length;\r\n    while ( i-- ) {\r\n      var p = stage.AddChild( new nk.Text(\r\n        clockPoints.vertices[ i ].x,\r\n        clockPoints.vertices[ i ].y,\r\n        i === 0 ? 12 : i\r\n      ) );\r\n      p.style.text.baseline = nk.Style.TEXT_BASELINE.MIDDLE;\r\n      p.style.text.align = nk.Style.TEXT_ALIGN.CENTER;\r\n      p.style.text.fontSize = 59;\r\n      p.style.text.fontFamily = 'Comic Sans MS, Comic Sans MS5, cursive';\r\n      p.style.text.strokeColor = '#0F0';\r\n      p.style.text.fillColor = '#000';\r\n      p.style.text.lineWidth = 2;\r\n      p.style.text.ConcatFont();\r\n    }\r\n\r\n    stage.onProcess.Add( function () {\r\n      var date = new Date();\r\n      var milliseconds = date.getMilliseconds();\r\n      var seconds = date.getSeconds();\r\n      var minutes = date.getMinutes();\r\n      var hours = date.getHours();\r\n      millisecondHand.path.e.RotateAroundV( millisecondHand.path.s, nk.Math.DTR( ( milliseconds / 1000 * 360 ) - 90 ) - millisecondHand.path.e.GetAngle() );\r\n      secondHand.path.e.RotateAroundV( secondHand.path.s, nk.Math.DTR( ( seconds * 6 ) - 90 ) - secondHand.path.e.GetAngle() );\r\n      minuteHand.path.e.RotateAroundV( minuteHand.path.s, nk.Math.DTR( ( minutes * 6 ) - 90 ) - minuteHand.path.e.GetAngle() );\r\n      hourHand.path.e.RotateAroundV( hourHand.path.s, nk.Math.DTR( ( ( 60 * hours + minutes ) * 0.5 ) - 90 ) - hourHand.path.e.GetAngle() );\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/clock.test.js\n// module id = 93\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'ElasticCollision' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.backgroundColor = '#FFF';\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0, true );\r\n    stage.ComputeBounds();\r\n    stage.backgroundColor = 'rgba(255,255,255,1)';\r\n    //stage.clear = false;\r\n    stage.ticker.StartAF();\r\n\r\n    var fps = new nk.Text( 0, 0, '' );\r\n    fps.style.text.fillColor = '#000';\r\n    fps.style.text.strokeColor = '#000';\r\n    fps.style.text.font = '60px Arial';\r\n\r\n    var colliders = [];\r\n    var bounds = new nk.AABB2D();\r\n    bounds.SetC( stage.bounds );\r\n    var root = new nk.QuadtreeNode( bounds, 0, 5, 5 );\r\n    var objs = [];\r\n    var nodes = [];\r\n\r\n    function Collider () {\r\n      var mass = nk.Utils.RandomInteger( 10, 30 );\r\n      var p = new nk.Path.Circle( 0, 0, mass );\r\n      p.style.fill.applied = false;\r\n      p.style.stroke.color = new nk.Color( nk.Utils.RandomInteger( 100, 255 ), 0, nk.Utils.RandomInteger( 100, 255 ), 1 ).value;\r\n      p.style.stroke.lineWidth = mass / 5;\r\n      var g = new nk.Graphic2D( nk.Utils.RandomInteger( 0, W ), nk.Utils.RandomInteger( 0, H ), p );\r\n      g.data.mass = mass;\r\n      g.data.body = {\r\n        relative: g.position,\r\n        anchor: new nk.Vector2D(),\r\n        shape: g.path,\r\n        mass: mass,\r\n        velocity: new nk.Vector2D( nk.Utils.RandomInteger( -4, 4 ), nk.Utils.RandomInteger( -4, 4 ) )\r\n      };\r\n      g.ComputeBounds();\r\n      g.data.timer = new nk.Timer();\r\n      g.data.timer.onFinish.Add( function () {\r\n        p.style.fill.applied = false;\r\n        g.alpha = 1.0;\r\n      } );\r\n      g.data.timer.onStart.Add( function () {\r\n        p.style.fill.applied = true;\r\n        g.alpha = 0.8;\r\n      } );\r\n      colliders.push( g );\r\n      stage.AddChild( g );\r\n      objs.push( g.bounds );\r\n    }\r\n\r\n    var Collide = nk.Math.Collision2D.CirclevsCircle.Relative.Collide;\r\n    var Response = nk.Math.Collision2D.CirclevsCircle.Relative.ElasticResponse;\r\n    var result = new nk.Math.Collision2D.CirclevsCircle.Result();\r\n\r\n    function Process () {\r\n      var i = 0, j, l = colliders.length, collider, collidee, body1, body2, vel;\r\n      root.Dump();\r\n      objs.forEach( function ( obj ) {\r\n        root.Add( obj );\r\n      } );\r\n      nodes = root.ConcatNodes();\r\n      for ( i; i < l; ++i ) {\r\n        collider = colliders[ i ];\r\n        collider.data.timer.Process();\r\n        body1 = collider.data.body;\r\n        vel = body1.velocity;\r\n        collider.position.AddV( vel );\r\n        if ( collider.x + collider.path.radius >= W ) {\r\n          vel.x = -Math.abs( vel.x );\r\n        } else if ( collider.x - collider.path.radius <= 0 ) {\r\n          vel.x = Math.abs( vel.x );\r\n        }\r\n        if ( collider.y + collider.path.radius >= H ) {\r\n          vel.y = -Math.abs( vel.y );\r\n\r\n        } else if ( collider.y - collider.path.radius <= 0 ) {\r\n          vel.y = Math.abs( vel.y );\r\n        }\r\n\r\n        var convergence = root.Converge( collider.bounds );\r\n\r\n        for ( j = 0; j < convergence.length; ++j ) {\r\n          collidee = convergence[ j ].belongsTo;\r\n          body2 = collidee.data.body;\r\n          if ( collidee !== collider ) {\r\n            result.occured = false;\r\n            Collide( body1, body2, result );\r\n            if ( result.occured === true ) {\r\n              collider.data.timer.Start( 10 );\r\n              collidee.data.timer.Start( 10 );\r\n              Response( body1, body2, result );\r\n            }\r\n          }\r\n        }\r\n        collider.ComputeBounds();\r\n      }\r\n      nodes.forEach( function ( node ) {\r\n        nk.Debug.Draw.AABB2D( rc, node.aabb, { noFill: true } );\r\n      } );\r\n      fps.text = Math.round( stage.ticker.GetTPS() );\r\n    }\r\n\r\n    stage.onProcess.Add( Process, window );\r\n\r\n    for ( var i = 50; i--; ) {\r\n      Collider();\r\n    }\r\n\r\n    stage.AddChild( fps );\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/elasticcollision.test.js\n// module id = 94\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Field' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH );\r\n    stage.clear = false;\r\n    stage.backgroundColor = 'rgba(0,0,0,0.1)';\r\n    //stage.fill = false;\r\n\r\n    var orig = new nk.Plaingraphic2D( 0, 0, new nk.Path.Circle( 0, 0, 200 ) );\r\n    orig.path.style.fill.applied = false;\r\n    stage.AddChild( orig );\r\n\r\n    var objs = [];\r\n\r\n    var mouseDown = false;\r\n\r\n    stage.onProcess.Add( function () {\r\n      for ( var i = 0, l = objs.length; i < l; ++i ) {\r\n        if ( !objs[ i ] ) break;\r\n        nk.Math.AttractRepel( objs[ i ].position, orig.position, objs[ i ].data.vel, orig.path.radius * 2, 0.1 );\r\n        objs[ i ].position.AddV( objs[ i ].data.vel );\r\n        //objs[ i ].data.color.IncreaseChannel( 0, 1 );\r\n        //objs[ i ].path.style.fill.color = objs[ i ].data.color.value;\r\n        if ( !--objs[ i ].data.lifeSpan ) {\r\n          objs[ i ].Destroy();\r\n          objs.splice( i, 1 );\r\n        }\r\n      }\r\n\r\n      if ( mouseDown ) {\r\n        i = 2;\r\n        while ( --i ) {\r\n          MakeObj( stage.mouse.position.x, stage.mouse.position.y );\r\n        }\r\n      }\r\n\r\n    }, stage );\r\n\r\n\r\n    function MakeObj ( _x, _y ) {\r\n      var path = new nk.Path.Polygon2D();\r\n      nk.Geom.Polygon2D.Construct.Supershape( path, 0, 0, nk.Utils.RandomInteger( 5, 30 ), 20, nk.Utils.RandomFloat( 0, 20 ), nk.Utils.RandomFloat( 0, 3 ), nk.Utils.RandomFloat( 0, 3 ), nk.Utils.RandomFloat( 0, 3 ) );\r\n      path.Rotate( nk.Utils.RandomFloat( -nk.Math.PII, nk.Math.PII ), 0.5, 0.5, true );\r\n      var obj = new nk.Plaingraphic2D( _x, _y, path );\r\n      obj.data.vel = new nk.Vector2D( nk.Utils.RandomFloat( -4, 4 ), nk.Utils.RandomFloat( -4, 4 ) );\r\n      obj.data.lifeSpan = 600;\r\n      //obj.data.color = new nk.Color( nk.Utils.RandomInteger( 0, 255 ), nk.Utils.RandomInteger( 0, 255 ), nk.Utils.RandomInteger( 0, 255 ) );\r\n      //obj.data.color.ConvertToHSLA();\r\n      stage.AddChild( obj );\r\n      objs.push( obj );\r\n    };\r\n\r\n    stage.mouse.onDown.Add( function () {\r\n      mouseDown = true;\r\n    } );\r\n    stage.mouse.onUp.Add( function () {\r\n      mouseDown = false;\r\n    } );\r\n\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/field.test.js\n// module id = 95\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Fractree' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var l = 200;\r\n\r\n    var stage = new nk.Stage2D( c, HW, H );\r\n    stage.scale.Set( 1, -1 );\r\n\r\n    function Branch ( start, end ) {\r\n      if ( !( this instanceof Branch ) ) return new Branch( start, end );\r\n      nk.Graphic2D.call( this, 0, 0, new nk.Path.Line2D( start, end ) );\r\n      this.path.style.stroke.color = new nk.Color( nk.Utils.RandomInteger( this.w, 200 ), nk.Utils.RandomInteger( this.w, 255 ), nk.Utils.RandomInteger( 0, 20 ), 1 ).value;\r\n      this.path.style.stroke.lineWidth = this.w / 12;\r\n      stage.AddChild( this );\r\n      this.x = nk.Utils.RandomFloat( -HW, HW );\r\n      this.y = nk.Utils.RandomFloat( 0, H );\r\n      this.rotation = nk.Utils.RandomInteger( 0, nk.Math.PII );\r\n      if ( nk.Utils.ThisOrThat() ) this.rotation = - this.rotation;\r\n      var mm = this.data.motionManager = new nk.MotionManager( this );\r\n      mm.Create( 'moveX', 'x', 0, 120, 'SineInOut' );\r\n      mm.Create( 'moveY', 'y', 0, 120, 'SineInOut' );\r\n      mm.Create( 'rotate', 'rotation', 0, 120, 'SineInOut' );\r\n      mm.StartMultiple( 'moveX moveY rotate' );\r\n      if ( this.w > 12 ) {\r\n        this.Grow();\r\n      }\r\n    }\r\n    Branch.prototype = Object.create( nk.Graphic2D.prototype );\r\n    Branch.prototype.constructor = Branch;\r\n    Branch.prototype.Grow = function () {\r\n      var newEndL = this.path.e.SubtractVC( this.path.s );\r\n      var newEndR = newEndL.Copy();\r\n      newEndL.Rotate( nk.Math.RADIAN * 20 + nk.Utils.RandomFloat( -nk.Math.RADIAN * 20, nk.Math.RADIAN * 20 ) );\r\n      newEndR.Rotate( -nk.Math.RADIAN * 20 + nk.Utils.RandomFloat( -nk.Math.RADIAN * 20, nk.Math.RADIAN * 20 ) );\r\n      newEndL.Multiply( 0.67, 0.67 );\r\n      newEndR.Multiply( 0.67, 0.67 );\r\n      newEndL.AddV( this.path.e );\r\n      newEndR.AddV( this.path.e );\r\n      Branch( this.path.e, newEndL );\r\n      Branch( this.path.e, newEndR );\r\n    };\r\n\r\n    Branch( new nk.Vector2D( 0, 0 ), new nk.Vector2D( 0, l ) );\r\n\r\n    var timer = new nk.Timer( 130 );\r\n    timer.onFinish.Add( function () {\r\n      stage.ticker.Stop();\r\n    } );\r\n    timer.Start();\r\n\r\n\r\n    stage.onProcess.Add( function () {\r\n      stage.children.forEach( function ( child ) {\r\n        child.data.motionManager.Process();\r\n      } );\r\n      timer.Process();\r\n    } );\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/fractree.test.js\n// module id = 96\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'GrabnDrag' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = 0;\r\n    c.style.left = 0;\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var stage = new nk.Stage2D( c );\r\n\r\n    var text = new nk.Text( 100, 100, 'Grab and drag' );\r\n\r\n    var graphicCircle = new nk.Graphic2D( 350, 150, new nk.Path.Circle( 0, 0, 100 ) );\r\n    var graphicRectangle = new nk.Graphic2D( 450, 200, new nk.Path.AABB2D( -100, -100, 100, 100 ) );\r\n\r\n    var dragger = null;\r\n    var dragStart = new nk.Vector2D();\r\n    var dragOffset = new nk.Vector2D();\r\n\r\n    stage.AddChild( text );\r\n    stage.AddChild( graphicCircle );\r\n    stage.AddChild( graphicRectangle );\r\n\r\n    var t = 10;\r\n    while ( --t ) {\r\n      stage.AddChild( new nk.Graphic2D( HW, HH, new nk.Path.AABB2D( -100, -100, 100, 100 ) ) );\r\n    }\r\n\r\n    stage.mouse.onMove.Add( function ( _event ) {\r\n      if ( dragger !== null ) {\r\n        dragger.x = _event.data.position.x + dragOffset.x - dragStart.x;\r\n        dragger.y = _event.data.position.y + dragOffset.y - dragStart.y;\r\n      }\r\n    }, stage );\r\n    stage.mouse.onDown.Add( function ( _event ) {\r\n      var p = _event.data.position;\r\n      for ( var i = stage.children.length; i--; ) {\r\n        if ( stage.children[ i ].IntersectsPoint( p ) ) {\r\n          dragStart.SetV( p );\r\n\r\n          dragger = stage.children[ i ];\r\n          dragger.gco = nk.Style.GCO.MULTIPLY;\r\n          dragger.scale.Set( 2, 2 );\r\n\r\n          dragOffset.SetV( dragger );\r\n\r\n          _event.stopPropagation = true;\r\n\r\n          dragger.SendToFront();\r\n          break;\r\n        }\r\n      }\r\n    }, stage );\r\n    stage.mouse.onUp.Add( function ( _event ) {\r\n      if ( dragger ) {\r\n        dragger.gco = nk.Style.GCO.DEFAULT;\r\n        dragger.scale.Set( 1, 1 );\r\n        dragger = null;\r\n      }\r\n    } );\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/grabndrag.test.js\n// module id = 97\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Grid' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.backgroundColor = '#000';\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var ratio = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0 );\r\n    var container = new nk.Container2D();\r\n    stage.AddChild( container );\r\n\r\n    var i = 0;\r\n\r\n    var mx = W / 30;\r\n    var my = H / 30;\r\n\r\n    var points = nk.Math.SquareGrid( W, H, mx, my, nk.Vector2D );\r\n\r\n    console.log( points );\r\n\r\n    i = points.length;\r\n    while ( i-- ) {\r\n      container.AddChild( new nk.Graphic2D( points[ i ].x, points[ i ].y, new nk.Path.AABB2D( 0, 0, mx, my ) ) );\r\n    }\r\n\r\n    stage.mouse.onDown.Add( function ( _event ) {\r\n      var p = _event.data.position.DivideVC( container.scale );\r\n      for ( var i = container.children.length; i--; ) {\r\n        if ( container.children[ i ].IntersectsPoint( p ) ) {\r\n          container.children[ i ].Destroy();\r\n          break;\r\n        }\r\n      }\r\n    }, stage );\r\n    stage.mouse.onWheel.Add( function ( _event ) {\r\n      if ( _event.data.native.deltaY < 0 ) {\r\n        container.scale.Add( 0.1, 0.1 );\r\n      } else {\r\n        container.scale.Subtract( 0.1, 0.1 );\r\n      }\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/grid.test.js\n// module id = 98\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Magnet' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0 );\r\n\r\n    var magnet = new nk.Plaingraphic2D( HW, HH, new nk.Path.Circle( 0, 0, 30 ) );\r\n    magnet.data.body = {\r\n      relative: magnet.position,\r\n      anchor: new nk.Vector2D(),\r\n      shape: magnet.path,\r\n      mass: 1,\r\n      velocity: new nk.Vector2D()\r\n    };\r\n    var dragIt = false;\r\n    var startDrag = new nk.Vector2D();\r\n    var dragOffset = new nk.Vector2D();\r\n\r\n    var particles = [];\r\n\r\n    stage.AddChild( magnet );\r\n\r\n    function CreateParticle () {\r\n      var p = new nk.Plaingraphic2D( nk.Utils.RandomInteger( 0, W ), nk.Utils.RandomInteger( 0, H ), new nk.Path.Circle( 0, 0, 6 ) );\r\n      p.data.force = {\r\n        velocity: new nk.Vector2D(),\r\n        friction: new nk.Vector2D( 0.99, 0.99 )\r\n      };\r\n      p.data.body = {\r\n        relative: p.position,\r\n        anchor: new nk.Vector2D(),\r\n        shape: p.path,\r\n        mass: 1,\r\n        velocity: p.data.force.velocity\r\n      };\r\n      stage.AddChild( p );\r\n      particles.push( p );\r\n      p.data.sepArr = particles;\r\n    }\r\n\r\n    ( function () {\r\n      var i = 500;\r\n      while ( i-- ) {\r\n        CreateParticle();\r\n      }\r\n    } )();\r\n\r\n    var Collide = nk.Math.Collision2D.CirclevsCircle.Relative.Collide;\r\n    var result = new nk.Math.Collision2D.CirclevsCircle.Result();\r\n\r\n\r\n    stage.onProcess.Add( function () {\r\n      particles.forEach( function ( particle ) {\r\n        var vel = particle.data.force.velocity;\r\n        nk.Math.AttractRepel( particle.position, magnet.position, vel, magnet.path.radius * 3, 1 );\r\n        particle.position.AddV( vel );\r\n        vel.MultiplyV( particle.data.force.friction );\r\n        if ( particle.x + particle.path.radius >= W ) {\r\n          vel.x = -Math.abs( vel.x );\r\n          particle.x = W - particle.path.radius;\r\n        } else if ( particle.x - particle.path.radius <= 0 ) {\r\n          vel.x = Math.abs( vel.x );\r\n          particle.x = 0 + particle.path.radius;\r\n        }\r\n        if ( particle.y + particle.path.radius >= H ) {\r\n          vel.y = -Math.abs( vel.y );\r\n          particle.y = H - particle.path.radius;\r\n        } else if ( particle.y - particle.path.radius <= 0 ) {\r\n          vel.y = Math.abs( vel.y );\r\n          particle.y = 0 + particle.path.radius;\r\n        }\r\n        result.occured = false;\r\n        Collide( magnet.data.body, particle.data.body, result );\r\n        if ( result.occured === true ) {\r\n          result.mtv.Multiply( result.mtd, result.mtd );\r\n          particle.position.AddV( result.mtv );\r\n          vel.Set( 0, 0 );\r\n        }\r\n      } );\r\n    } );\r\n    stage.mouse.onMove.Add( function ( event ) {\r\n      if ( dragIt === true ) {\r\n        magnet.x = event.data.position.x - startDrag.x + dragOffset.x;\r\n        magnet.y = event.data.position.y - startDrag.y + dragOffset.y;\r\n      }\r\n    } );\r\n    stage.mouse.onDown.Add( function ( event ) {\r\n      var p = event.data.position;\r\n      if ( magnet.IntersectsPoint( p ) ) {\r\n        startDrag.SetV( p );\r\n        dragOffset.SetV( magnet );\r\n        dragIt = true;\r\n      }\r\n      event.stopPropagation = true;\r\n    } );\r\n    stage.mouse.onUp.Add( function ( event ) {\r\n      dragIt = false;\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/magnet.test.js\n// module id = 99\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Motion' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH );\r\n\r\n    var motObj = new nk.Sprite( 0, 0 );\r\n    motObj.anchor.Set( 0.5 );\r\n    motObj.scale.Set( 0, 1 );\r\n    motObj.AttachTo( stage );\r\n\r\n    var mm = new nk.MotionManager( motObj );\r\n    var xM = mm.Create( 'x', 'x' );\r\n    var yM = mm.Create( 'y', 'y' );\r\n    var sxM = mm.Create( 'sx', 'scale.x', 1, 10 );\r\n    var syM = mm.Create( 'sy', 'scale.y', 1, 10 );\r\n\r\n    stage.mouse.onUp.Add( function ( _event ) {\r\n      if ( xM.running ) xM.Stop();\r\n      if ( yM.running ) yM.Stop();\r\n      mm.ResetMultiple( 'sx sy' );\r\n      xM.Reconfigure( undefined, _event.data.position.x, 60 );\r\n      yM.Reconfigure( undefined, _event.data.position.y, 60 );\r\n\r\n      mm.StartMultiple( 'x y sx sy' );\r\n\r\n    }, stage );\r\n\r\n    stage.onProcess.Add( function () {\r\n      mm.Process();\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/motion.test.js\n// module id = 100\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Nightsky' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH, true );\r\n    stage.ticker.StartAF();\r\n\r\n    var staticStars = [];\r\n\r\n\r\n    var imageCache = new nk.ImageLoader( [ {\r\n      id: 'butterfly',\r\n      src: nk.Utils.GenerateSimpleBase64Png( Butterfly )\r\n    }, {\r\n      id: 'staticStar',\r\n      src: nk.Utils.GenerateSimpleBase64Png( StaticStar )\r\n    }], true );\r\n    imageCache.onComplete.Add( function () {\r\n      Go();\r\n    } );\r\n\r\n    function Go () {\r\n      CreateSprites( { x: -HW, y: HW }, { x: -HH, y: HH }, 'staticStar', W / H * 500, staticStars, stage, 0.01 );\r\n      stage.onProcess.Add( function () {\r\n        for ( var i = 0, l = staticStars.length, star; i < l; ++i ) {\r\n          star = staticStars[ i ];\r\n          star.position.AddV( star.data.velocity );\r\n          star.data.velocity.Rotate( nk.Math.DTR( star.data.torque ) );\r\n        }\r\n      }, stage );\r\n    }\r\n\r\n    function CreateSprites ( xv, yv, img, am, store, parent, scale ) {\r\n      for ( var i = 0; i < am; ++i ) {\r\n        var x = nk.Utils.RandomInteger( xv.x, xv.y );\r\n        var y = nk.Utils.RandomInteger( yv.x, yv.y );\r\n        var sprite = new nk.Sprite( x, y, imageCache.GetBasicTexture( img ) );\r\n        sprite.anchor.Set( 0.5 );\r\n        sprite.scale.Set( scale );\r\n        sprite.rotation = nk.Utils.RandomFloat( 0, nk.Math.PII );\r\n        sprite.data.velocity = new nk.Vector2D( x / 500, y / 500 );\r\n        sprite.data.torque = ( x + y ) / 500 * nk.Utils.RandomInteger( -1, 1 );\r\n        store.push( sprite );\r\n        parent.AddChild( sprite );\r\n      }\r\n      console.log( i );\r\n    }\r\n\r\n\r\n    function Butterfly () {\r\n      var path = new nk.Path.Polygon2D();\r\n      path.style.fill.color = '#FFF';\r\n      path.style.stroke.color = '#000';\r\n      path.style.stroke.lineWidth = 3;\r\n      nk.Geom.Polygon2D.Construct.Butterfly( path, 0, 0, 4000, 50 );\r\n      //To get the difference in x,y\r\n      var d = path.aabb.br.AbsoluteCopy().SubtractVC( path.aabb.tl.AbsoluteCopy() );\r\n      var t = new nk.Graphic2D( ( path.aabb.w * 0.5 ) - ( d.x * 0.5 ), ( path.aabb.h * 0.5 ) - ( d.y * 0.5 ), path );\r\n      return t;\r\n    }\r\n    function StaticStar () {\r\n      var path = new nk.Path.Polygon2D();\r\n      path.style.fill.color = '#FFF';\r\n      path.style.stroke.color = '#000';\r\n      path.style.stroke.lineWidth = 3;\r\n      nk.Geom.Polygon2D.Construct.Star( path, 0, 0, 800, 400, 5 );\r\n      var d = path.aabb.br.AbsoluteCopy().SubtractVC( path.aabb.tl.AbsoluteCopy() );\r\n      var t = new nk.Graphic2D( ( path.aabb.w * 0.5 ) - ( d.x * 0.5 ), ( path.aabb.h * 0.5 ) - ( d.y * 0.5 ), path );\r\n      return t;\r\n    }\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/nightsky.test.js\n// module id = 101\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Particles' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH );\r\n    stage.clear = false;\r\n    stage.fill = false;\r\n    stage.gco = nk.Style.GCO.COLOR_DODGE;\r\n\r\n    imageCache = new nk.ImageLoader( [\r\n      {\r\n        id: 'particle',\r\n        src: nk.Utils.GenerateSimpleBase64Png( function () {\r\n          var path = new nk.Path.Circle( 20, 20, 20 );\r\n          path.style.fill.color = 'rgba(0, 0, 0, 0.01)';\r\n          path.style.stroke.color = 'rgba(255, 200, 50, 0.1)';\r\n          var t = new nk.Graphic2D( 0, 0, path );\r\n          return t;\r\n        } )\r\n      }\r\n    ], true );\r\n    imageCache.onComplete.Add( function () {\r\n\r\n      var i = 250;\r\n      while ( i-- ) {\r\n        var child = stage.AddChild( new nk.Plainsprite( 0, 0, imageCache.GetBasicTexture( 'particle' ) ) );\r\n        child.data.velocity = new nk.Vector2D( nk.Utils.RandomFloat( -2, 2 ), nk.Utils.RandomFloat( -2, 2 ) );\r\n      }\r\n\r\n      var totalTime = 400;\r\n\r\n      var timer = new nk.Timer();\r\n      timer.Start( totalTime );\r\n      timer.onFinish.Add( function () {\r\n        stage.ticker.Stop();\r\n      } );\r\n\r\n      stage.onProcess.Add( function () {\r\n        var i = this.children.length, child;\r\n        while ( i-- ) {\r\n          child = this.children[ i ];\r\n          child.position.AddV( child.data.velocity );\r\n          child.data.velocity.Rotate( nk.Math.RADIAN * nk.Utils.RandomFloat( -12, 12 ) );\r\n          child.scale.Set( ( totalTime - timer.time ) / totalTime );\r\n        }\r\n        timer.Process();\r\n      }, stage );\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/particles.test.js\n// module id = 102\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Platformer' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH, true );\r\n\r\n    var imageCache = new nk.ImageLoader( [ {\r\n      id: 'character',\r\n      src: nk.Utils.GenerateSimpleBase64Png( function () {\r\n        var path = new nk.Path.AABB2D( 0, 0, 20, 20 );\r\n        path.style.fill.applied = false;\r\n        path.style.stroke.color = '#0F0';\r\n        path.style.stroke.lineWidth = 3;\r\n        var t = new nk.Graphic2D( 0, 0, path );\r\n        return t;\r\n      } )\r\n    }, {\r\n      id: 'platform',\r\n      src: nk.Utils.GenerateSimpleBase64Png( function () {\r\n        var path = new nk.Path.AABB2D( 0, 0, 100, 20 );\r\n        path.style.fill.applied = false;\r\n        path.style.stroke.lineWidth = 5;\r\n        var t = new nk.Graphic2D( 0, 0, path );\r\n        return t;\r\n      } )\r\n    }], true );\r\n    imageCache.onComplete.Add( function () {\r\n      Start();\r\n    } );\r\n\r\n    var platforms = [];\r\n    var character = null;\r\n    var result = new nk.Math.Collision2D.AABB2DvsAABB2D.Result();\r\n\r\n    function Start () {\r\n      InitCharacter();\r\n      InitPlatforms();\r\n      stage.ticker.SetDesiredRate( 60 );\r\n      stage.ticker.Start();\r\n    }\r\n\r\n    function Process () {\r\n      if ( character.position.x > HW || character.position.x < -HW ) {\r\n        character.position.x = 0;\r\n      }\r\n      if ( character.position.y > HH || character.position.y < -HH ) {\r\n        character.position.y = 0;\r\n      }\r\n      if ( character.data.force.velocity.y > 0 ) {\r\n        character.data.state.falling = true;\r\n        character.data.state.onGround = false;\r\n        character.data.state.ascending = false;\r\n      } else if ( character.data.force.velocity.y < 0 ) {\r\n        character.data.state.falling = false;\r\n        character.data.state.onGround = false;\r\n        character.data.state.ascending = true;\r\n      }\r\n      character.position.AddV( character.data.force.velocity );\r\n      character.data.force.velocity.AddV( character.data.force.gravity );\r\n      if ( character.data.move.left === true ) {\r\n        character.position.SubtractV( character.data.force.move );\r\n        character.data.state.moving = true;\r\n      } else if ( character.data.move.right === true ) {\r\n        character.position.AddV( character.data.force.move );\r\n        character.data.state.moving = true;\r\n      } else {\r\n        character.data.state.moving = false;\r\n      }\r\n      if ( character.data.move.jump === true && character.data.state.onGround === true ) {\r\n        character.data.force.velocity.AddV( character.data.force.jump );\r\n      }\r\n      for ( var i = 0, l = platforms.length; i < l; ++i ) {\r\n        result.occured = false;\r\n        nk.Math.Collision2D.AABB2DvsAABB2D.Relative.Collide(\r\n          character.data.collisionData,\r\n          platforms[ i ].data.collisionData,\r\n          result\r\n        );\r\n        if ( result.occured === true ) {\r\n          if ( result.mtv.y < 0 && character.data.force.velocity.y > 0 ) {\r\n            character.data.force.velocity.y = 0;\r\n            character.data.state.onGround = true;\r\n            character.data.state.falling = false;\r\n            character.data.state.ascending = false;\r\n          } else if ( result.mtv.y > 0 && character.data.force.velocity.y < 0 ) {\r\n            character.data.force.velocity.y = 0;\r\n          }\r\n          character.position.AddV( result.mtv );\r\n        }\r\n      }\r\n    }\r\n\r\n    function InitCharacter () {\r\n      character = new nk.Sprite( 0, 0, imageCache.GetBasicTexture( 'character' ) );\r\n      character.anchor.Set( 0.5 );\r\n      character.data.move = {\r\n        left: false,\r\n        right: false,\r\n        jump: false\r\n      };\r\n      character.data.force = {\r\n        move: new nk.Vector2D( 2, 0 ),\r\n        jump: new nk.Vector2D( 0, -10 ),\r\n        gravity: new nk.Vector2D( 0, 0.1982 ),\r\n        velocity: new nk.Vector2D()\r\n      };\r\n      character.data.state = {\r\n        onGround: false,\r\n        moving: false,\r\n        falling: false,\r\n        ascending: false\r\n      };\r\n      character.data.collisionData = {\r\n        shape: character.shape,\r\n        relative: character.position,\r\n        anchor: character.anchor\r\n      };\r\n      stage.AddChild( character );\r\n\r\n      stage.onProcess.Add( Process, stage );\r\n      stage.keyboard.onDown.Add( function ( _event ) {\r\n        if ( _event.data.key === 'a' ) {\r\n          character.data.move.left = true;\r\n          character.data.move.right = false;\r\n        } else if ( _event.data.key === 'd' ) {\r\n          character.data.move.right = true;\r\n          character.data.move.false = false;\r\n        }\r\n        if ( _event.data.key === 'w' ) {\r\n          character.data.move.jump = true;\r\n        }\r\n      } );\r\n      stage.keyboard.onUp.Add( function ( _event ) {\r\n        if ( _event.data.key === 'a' ) {\r\n          character.data.move.left = false;\r\n        } else if ( _event.data.key === 'd' ) {\r\n          character.data.move.right = false;\r\n        }\r\n        if ( _event.data.key === 'w' ) {\r\n          character.data.move.jump = false;\r\n        }\r\n      } );\r\n    }\r\n\r\n    function InitPlatforms () {\r\n      var i = 100;\r\n      while ( i-- ) {\r\n        var platform = new nk.Sprite( nk.Utils.RandomInteger( -HW, HW ), nk.Utils.RandomInteger( -HH, HH ), imageCache.GetBasicTexture( 'platform' ) );\r\n        platform.data.collisionData = {\r\n          shape: platform.shape,\r\n          relative: platform.position,\r\n          anchor: platform.anchor\r\n        };\r\n        platforms.push( platform );\r\n        stage.AddChild( platform );\r\n      }\r\n    }\r\n\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/platformer.test.js\n// module id = 103\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Playground' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', 1024 );\r\n    c.setAttribute( 'height', 64 );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    window.c = c;\r\n\r\n    var W = c.width;\r\n    var H = c.height;\r\n    var HW = W * 0.5;\r\n    var HH = H * 0.5;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0 );\r\n\r\n    window.stage = stage;\r\n\r\n    /*     stage.Mount(\r\n          new nk.Graphic2D( 0, 0, nk.Path.Line2D( -HW, -HH, HW, HH ) ),\r\n          new nk.Graphic2D( 0, 0, nk.Path.Line2D( HW, -HH, -HW, HH ) )\r\n        );\r\n    \r\n        var obj = stage.AddChild( new nk.Sprite( 0, 0 ) );\r\n        obj.anchor.Set( 0.5 );\r\n        obj.transform.Set( new nk.Matrix2D().SetTransform( 0, 0, 1, 1, nk.Math.RADIAN * 45, 0, 0, 0, 0 ) ); */\r\n\r\n    stage.Mount( [\r\n      new nk.Graphic2D( 0, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'red' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'green' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 2, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'blue' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 3, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'purple' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 4, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'orange' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 5, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'aqua' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 6, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'violet' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 7, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'indianred' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 8, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'orchid' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 9, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'magenta' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 10, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'powderblue' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 11, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'royalblue' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 12, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'darkolivegreen' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 13, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'darkkhaki' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 14, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'steelblue' }, stroke: { applied: false } } ) ),\r\n      new nk.Graphic2D( 64 * 15, 0, new nk.Path.AABB2D( 0, 0, 64, 64, { fill: { color: 'firebrick' }, stroke: { applied: false } } ) ),\r\n    ] );\r\n\r\n    var t = new nk.Path.Polygon2D( [ 0, 0, 100, 100, 0, 100, 100, 0 ] );\r\n    console.log( t );\r\n\r\n    var x = new nk.Utils.FlagEnum();\r\n    x.Add( 'FIRE' );\r\n    x.Add( 'WATER' );\r\n    x.Add( 'AIR' );\r\n    x.Add( 'EARTH' );\r\n    var y = new nk.Utils.FlagList();\r\n    y.Add( x.FIRE );\r\n    y.Add( x.WATER );\r\n    console.log( y.Compare( x.FIRE | x.EARTH ) );\r\n    console.log( y.Holds( x.FIRE | x.WATER ) );\r\n    console.log( y.Holds( x.FIRE | x.WATER | x.EARTH ) );\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n\r\n\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/playground.test.js\n// module id = 104\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'PolygonCollision' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH, true );\r\n    stage.ticker.SetDesiredRate( 120 );\r\n    stage.ticker.Start();\r\n\r\n    var RI = nk.Utils.RandomInteger;\r\n\r\n    var objs = [];\r\n\r\n    var dragger = null;\r\n    var dragStart = new nk.Vector2D();\r\n    var dragOffset = new nk.Vector2D();\r\n\r\n    function CreatePolygon () {\r\n      var p = new nk.Path.Polygon2D();\r\n      nk.Geom.Polygon2D.Construct.Cyclic( p, 0, 0, RI( 10, 60 ), RI( 3, 6 ) );\r\n      var pg = new nk.Graphic2D( 0, 0, p );\r\n      stage.Mount( pg );\r\n      objs.push( {\r\n        shape: p,\r\n        relative: pg.position,\r\n        anchor: new nk.Vector2D()\r\n      } );\r\n    }\r\n\r\n    ( function () {\r\n      var i = 50;\r\n      while ( i-- ) {\r\n        CreatePolygon();\r\n      }\r\n    }() );\r\n\r\n    var Collide = nk.Math.Collision2D.PolygonvsPolygon.Relative.Collide;\r\n    var result = new nk.Math.Collision2D.PolygonvsPolygon.Result();\r\n\r\n    stage.onProcess.Add( function () {\r\n      for ( var i = 0, l = objs.length; i < l; ++i ) {\r\n        var obj1 = objs[ i ];\r\n        for ( var j = 0; j < l; ++j ) {\r\n          var obj2 = objs[ j ];\r\n          if ( obj2 === obj1 ) continue;\r\n          result.Reset();\r\n          if ( Collide( obj1, obj2, result ) ) {\r\n            if ( dragger ) {\r\n              if ( obj1.relative !== dragger.position ) obj1.relative.SubtractV( result.mtv );\r\n              if ( obj2.relative !== dragger.position ) obj2.relative.AddV( result.mtv );\r\n            }\r\n            else {\r\n              obj1.relative.SubtractV( result.mtv );\r\n              obj2.relative.AddV( result.mtv );\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } );\r\n\r\n    stage.mouse.onMove.Add( function ( _event ) {\r\n      if ( dragger !== null ) {\r\n        dragger.x = _event.data.position.x + dragOffset.x - dragStart.x;\r\n        dragger.y = _event.data.position.y + dragOffset.y - dragStart.y;\r\n      }\r\n    }, stage );\r\n    stage.mouse.onDown.Add( function ( _event ) {\r\n      var p = _event.data.position;\r\n      for ( var i = stage.children.length; i--; ) {\r\n        if ( stage.children[ i ].IntersectsPoint( p ) ) {\r\n          dragStart.SetV( p );\r\n\r\n          dragger = stage.children[ i ];\r\n\r\n          dragOffset.SetV( dragger );\r\n\r\n          _event.stopPropagation = true;\r\n\r\n          dragger.SendToFront();\r\n          break;\r\n        }\r\n      }\r\n    }, stage );\r\n    stage.mouse.onUp.Add( function ( _event ) {\r\n      if ( dragger ) dragger = null;\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/polygoncollision.test.js\n// module id = 105\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Quadtree' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0 );\r\n    stage.ComputeBounds();\r\n\r\n    var bounds = new nk.AABB2D();\r\n    bounds.SetC( stage.bounds );\r\n    var root = new nk.QuadtreeNode( bounds, 0, 8, 3 );\r\n\r\n    var objs = [];\r\n    var nodes = [];\r\n\r\n\r\n    stage.onProcess.Add( function () {\r\n      nodes.forEach( function ( element ) {\r\n        nk.Debug.Draw.AABB2D( rc, element.aabb );\r\n      } );\r\n    } );\r\n    stage.mouse.onUp.Add( function ( event ) {\r\n      var obj = new nk.Graphic2D( event.data.position.x, event.data.position.y, new nk.Path.AABB2D( 0, 0, 10, 10 ) );\r\n      obj.ComputeBounds( obj.anchor );\r\n      stage.AddChild( obj );\r\n      objs.push( obj );\r\n      root.Dump();\r\n      objs.forEach( function ( element ) {\r\n        root.Add( element.bounds );\r\n      } );\r\n      nodes = root.ConcatNodes();\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/quadtree.test.js\n// module id = 106\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Rain' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH );\r\n\r\n    var gravity = new nk.Vector2D( 0, 0.0982 );\r\n    var wind = new nk.Vector2D();\r\n\r\n    var DropPool = new nk.Pool( nk.Plainsprite );\r\n\r\n    imageCache = new nk.ImageLoader( [\r\n      {\r\n        id: 'raindrop',\r\n        src: './assets/images/raindrop.png'\r\n      }\r\n    ], true );\r\n    imageCache.onComplete.Add( function () {\r\n\r\n      DropPool.Flood( function ( _sprite ) {\r\n        _sprite.SetTexture( imageCache.GetBasicTexture( 'raindrop' ) );\r\n        _sprite.data.velocity = new nk.Vector2D();\r\n      }, 1000 );\r\n\r\n      stage.onProcess.Add( function () {\r\n        var i = this.children.length, child;\r\n        while ( i-- ) {\r\n          child = this.children[ i ];\r\n          child.position.AddV( child.data.velocity );\r\n          child.data.velocity.Add( gravity.x, gravity.y + child.data.mass / 100 );\r\n          child.data.velocity.Add( wind.x / child.data.mass * 4, wind.y / child.data.mass * 4 );\r\n          if ( !--child.data.lifespan ) {\r\n            DropPool.Store( child.Detach() );\r\n          }\r\n        }\r\n        wind.Set( nk.Utils.RandomFloat( -0.1, 0.1 ), 0 );\r\n        AddDrop();\r\n        AddDrop();\r\n        AddDrop();\r\n        AddDrop();\r\n      }, stage );\r\n    } );\r\n\r\n    function AddDrop () {\r\n      var child = DropPool.Retrieve();\r\n      var scale = nk.Utils.RandomFloat( 0.2, 1 );\r\n      child.position.Set( nk.Utils.RandomFloat( -HW, HW ), -HH - child.height * 2 );\r\n      child.scale.Set( scale );\r\n      child.data.mass = scale * 10;\r\n      child.data.velocity.Set( 0 );\r\n      child.data.lifespan = 280;\r\n      child.AttachTo( stage );\r\n    }\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/rain.test.js\n// module id = 107\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Raycasting' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH );\r\n\r\n    var dragger = null;\r\n    var dragStart = new nk.Vector2D();\r\n    var dragOffset = new nk.Vector2D();\r\n\r\n\r\n\r\n    var polygons = [];\r\n    var rays = [];\r\n\r\n    ( function () {\r\n      var i = 15;\r\n      while ( i-- ) {\r\n        var p = new nk.Path.Polygon2D();\r\n        nk.Geom.Polygon2D.Construct.Cyclic(\r\n          p,\r\n          nk.Utils.RandomInteger( -HW, HW ),\r\n          nk.Utils.RandomInteger( -HH, HH ),\r\n          nk.Utils.RandomInteger( 30, 60 ),\r\n          nk.Utils.RandomInteger( 3, 5 )\r\n        );\r\n        p.Rotate( nk.Utils.RandomFloat( 0, nk.Math.PII ) )\r\n        var g = new nk.Graphic2D( 0, 0, p );\r\n        polygons.push( g );\r\n      }\r\n    }() );\r\n\r\n    ( function () {\r\n      var i = 360;\r\n      var angle = Math.PI * 2 / i;\r\n      var r = 180;\r\n      while ( i-- ) {\r\n        var th = angle * i;\r\n        var line = new nk.Path.Ray2D( 0, 0, 0, 0 );\r\n        line.style.stroke.lineWidth = 1;\r\n        var gr = new nk.Graphic2D( 0, 0, line );\r\n        gr.interactive = false;\r\n        gr.data.angle = th;\r\n        gr.data.r = r;\r\n        rays.push( gr );\r\n      }\r\n    }() );\r\n\r\n\r\n\r\n    stage.Mount.apply( stage, polygons.concat( rays ) );\r\n\r\n    stage.onProcess.Add( function () {\r\n      rays.forEach( function ( ray ) {\r\n        ray.path.s.SetV( stage.mouse.position );\r\n        ray.path.e.SetV( ray.path.s );\r\n        ray.path.e.Add( ray.data.r, ray.data.r );\r\n        ray.path.e.RotateAroundV( ray.path.s, ray.data.angle );\r\n      } );\r\n      for ( var i = 0; i < rays.length; ++i ) {\r\n        var ray = rays[ i ];\r\n        var polygon;\r\n        for ( var k = 0; k < polygons.length; ++k ) {\r\n          polygon = polygons[ k ].path;\r\n          var vertexa, vertexb, contactPoint;\r\n\r\n          for ( var j = 0; j < polygon.vertices.length - 1; ++j ) {\r\n            vertexa = polygon.vertices[ j ];\r\n            vertexb = polygon.vertices[ j + 1 ];\r\n            contactPoint = nk.Math.LineLineIntersection(\r\n              ray.path.s,\r\n              ray.path.e,\r\n              vertexa,\r\n              vertexb\r\n            );\r\n            if ( contactPoint ) {\r\n              rays[ i ].path.e.SetV( contactPoint );\r\n            }\r\n          }\r\n          vertexa = polygon.vertices[ polygon.vertices.length - 1 ];\r\n          vertexb = polygon.vertices[ 0 ];\r\n          contactPoint = nk.Math.LineLineIntersection(\r\n            ray.path.s,\r\n            ray.path.e,\r\n            vertexa,\r\n            vertexb\r\n          );\r\n          if ( contactPoint ) {\r\n            rays[ i ].path.e.SetV( contactPoint );\r\n          }\r\n        }\r\n\r\n      }\r\n    } );\r\n\r\n\r\n    stage.mouse.onMove.Add( function ( _event ) {\r\n      if ( dragger !== null ) {\r\n        dragger.x = _event.data.position.x + dragOffset.x - dragStart.x;\r\n        dragger.y = _event.data.position.y + dragOffset.y - dragStart.y;\r\n      }\r\n\r\n    }, stage );\r\n    stage.mouse.onDown.Add( function ( _event ) {\r\n      var p = _event.data.position;\r\n      for ( var i = stage.children.length; i--; ) {\r\n        if ( stage.children[ i ].IntersectsPoint( p ) ) {\r\n          dragStart.SetV( p );\r\n\r\n          dragger = stage.children[ i ];\r\n\r\n          dragOffset.SetV( dragger );\r\n\r\n          _event.stopPropagation = true;\r\n\r\n          dragger.SendToFront();\r\n          break;\r\n        }\r\n      }\r\n    }, stage );\r\n    stage.mouse.onUp.Add( function ( _event ) {\r\n      if ( dragger ) {\r\n        dragger = null;\r\n      }\r\n    } );\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/raycasting.test.js\n// module id = 108\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'ReflectiveCollision' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n    var widthByHeight = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH );\r\n\r\n    var dragger = null;\r\n    var dragStart = new nk.Vector2D();\r\n    var dragOffset = new nk.Vector2D();\r\n\r\n    var RI = nk.Utils.RandomInteger;\r\n    var RF = nk.Utils.RandomFloat;\r\n\r\n\r\n    var lines = [];\r\n    var circles = [];\r\n\r\n    function CreateCircle ( _x, _y, _radius, _interactive ) {\r\n      var c = new nk.Path.Circle( 0, 0, _radius );\r\n      var cg = new nk.Graphic2D( _x, _y, c );\r\n      cg.data.body = {\r\n        shape: c,\r\n        relative: cg.position,\r\n        velocity: new nk.Vector2D( RF( -5, 5 ), RF( -5, 5 ) )\r\n      };\r\n      stage.Mount( cg );\r\n      circles.push( cg );\r\n    }\r\n    function CreateLine ( _x, _y, _width, _rotation, _interactive ) {\r\n      var l = new nk.Path.Line2D( -_width * 0.5, 0, _width * 0.5, 0 );\r\n      l.Rotate( nk.Math.RADIAN * _rotation );\r\n      var lg = new nk.Graphic2D( _x, _y, l );\r\n      lg.data.body = {\r\n        shape: l,\r\n        relative: lg.position\r\n      };\r\n      lines.push( lg );\r\n      stage.Mount( lg );\r\n      if ( _interactive === false ) {\r\n        lg.interactive = false;\r\n      }\r\n    }\r\n\r\n    var Collide = nk.Math.Collision2D.CirclevsLine.Relative.Collide;\r\n    var Response = nk.Math.Collision2D.CirclevsLine.Relative.ReflectingResponse;\r\n    var result = new nk.Math.Collision2D.CirclevsLine.Result();\r\n\r\n    ( function () {\r\n      var i = 25;\r\n      while ( i-- ) {\r\n        CreateLine( RI( -HW, HW ), RI( -HH, HH ), 100, RI( 0, 360 ) );\r\n      }\r\n    }() );\r\n    CreateLine( -HW, 0, H, 90, false );\r\n    CreateLine( HW, 0, H, 90, false );\r\n    CreateLine( 0, -HH, W, 0, false );\r\n    CreateLine( 0, HH, W, 0, false );\r\n\r\n    ( function () {\r\n      var i = 25;\r\n      while ( i-- ) {\r\n        CreateCircle( RI( -HW, HW ), RI( -HH, HH ), RI( 5, 10 ) );\r\n      }\r\n    }() );\r\n\r\n    stage.onProcess.Add( function () {\r\n      circles.forEach( function ( circle ) {\r\n        circle.position.AddV( circle.data.body.velocity );\r\n        lines.forEach( function ( line ) {\r\n          result.Reset();\r\n          Collide( circle.data.body, line.data.body, result );\r\n          if ( result.occured ) {\r\n            Response( circle.data.body, line.data.body, result );\r\n          }\r\n        } );\r\n      } );\r\n    } );\r\n\r\n    stage.mouse.onMove.Add( function ( _event ) {\r\n      if ( dragger !== null ) {\r\n        dragger.x = _event.data.position.x + dragOffset.x - dragStart.x;\r\n        dragger.y = _event.data.position.y + dragOffset.y - dragStart.y;\r\n      }\r\n    }, stage );\r\n    stage.mouse.onDown.Add( function ( _event ) {\r\n      var p = _event.data.position;\r\n      for ( var i = stage.children.length; i--; ) {\r\n        if ( stage.children[ i ].IntersectsPoint( p ) ) {\r\n          dragStart.SetV( p );\r\n\r\n          dragger = stage.children[ i ];\r\n\r\n          dragOffset.SetV( dragger );\r\n\r\n          _event.stopPropagation = true;\r\n\r\n          dragger.SendToFront();\r\n          break;\r\n        }\r\n      }\r\n    }, stage );\r\n    stage.mouse.onUp.Add( function ( _event ) {\r\n      if ( dragger ) dragger = null;\r\n    } );\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/reflectivecollision.test.js\n// module id = 109\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Sprite' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH, true );\r\n    stage.ticker.StartAF();\r\n\r\n    var sprite1 = null;\r\n    var sprite2 = null;\r\n    var sprite3 = null;\r\n    var sprite4 = null;\r\n    var sprite5 = null;\r\n\r\n    var imageCache = new nk.ImageLoader();\r\n    imageCache.onComplete.Add( function ( _event ) {\r\n      console.log( _event.target, _event.data, 'complete' );\r\n      sprite1 = new nk.Sprite( 0, 0, imageCache.GetBasicTexture( '4dots' ) );\r\n      sprite1.anchor.Set( 0.5 );\r\n      sprite2 = new nk.Sprite( 100, 50, imageCache.GetBasicTexture( 'smudge' ) );\r\n      sprite2.anchor.Set( 0.5 );\r\n      sprite3 = new nk.Sprite( -100, 100, imageCache.GetBasicTexture( 'gobj' ) );\r\n      sprite3.anchor.Set( 0.5 );\r\n      sprite3.clip.tl.Set( 0, 64 );\r\n      sprite4 = new nk.Sprite( 100, 100 );\r\n      sprite4.anchor.Set( 0.5 );\r\n      sprite5 = new nk.Plainsprite( 200, 0 );\r\n      sprite5.anchor.Set( 0.5 );\r\n\r\n      stage.AddChildren( sprite1, sprite2, sprite3, sprite4, sprite5 );\r\n    } );\r\n    imageCache.onImageLoaded.Add( function ( _event ) {\r\n      console.log( _event.target, _event.data, 'loaded' );\r\n    } );\r\n    imageCache.Load( [\r\n      { id: 'smudge', src: './assets/images/smudge.png' },\r\n    ], true );\r\n    imageCache.Load( [\r\n      { id: '4dots', src: './assets/images/4dots.png' },\r\n      { id: 'gobj', src: './assets/images/glass-of-blueberryjuice.png' }\r\n    ], true );\r\n\r\n\r\n\r\n    var dragger = null;\r\n\r\n    stage.mouse.onMove.Add( function ( _event ) {\r\n      if ( dragger !== null ) {\r\n        dragger.x = _event.data.position.x;\r\n        dragger.y = _event.data.position.y;\r\n      }\r\n    }, stage );\r\n    stage.mouse.onDown.Add( function ( _event ) {\r\n      var p = _event.data.position;\r\n      for ( var i = stage.children.length; i--; ) {\r\n        if ( stage.children[ i ].IntersectsPoint( p ) ) {\r\n          dragger = stage.children[ i ];\r\n\r\n          _event.stopPropagation = true;\r\n\r\n          dragger.SendToFront();\r\n          break;\r\n        }\r\n      }\r\n    }, stage );\r\n    stage.mouse.onUp.Add( function ( _event ) {\r\n      if ( dragger ) dragger = null;\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/sprite.test.js\n// module id = 110\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Stresstest' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = 0;\r\n    c.style.left = 0;\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var container = new nk.Container2D( HW, HH );\r\n\r\n    var texture = null;\r\n\r\n    function CreateTexture () {\r\n      var path = new nk.Path.Polygon2D();\r\n      path.style.stroke.lineWidth = 3;\r\n      nk.Geom.Polygon2D.Construct.Cyclic( path, 0, 0, 30, 12 );\r\n      var d = path.aabb.br.AbsoluteCopy().SubtractVC( path.aabb.tl.AbsoluteCopy() );\r\n      var t = new nk.Graphic2D( ( path.aabb.w * 0.5 ) - ( d.x * 0.5 ), ( path.aabb.h * 0.5 ) - ( d.y * 0.5 ), path );\r\n      return t;\r\n    }\r\n\r\n    var ticker = new nk.Ticker( Update, 1000, true );\r\n    ticker.Start();\r\n\r\n    var numTimes = 20;\r\n    var hold = 20;\r\n    var holdCounter = 0;\r\n    var fps = 24;\r\n\r\n    var am = 35;\r\n\r\n    var childrenMDC = [];\r\n\r\n    var spritePool = new nk.Pool( nk.Sprite );\r\n\r\n    var timer = new nk.Timer();\r\n    timer.onFinish.Add( function () {\r\n      var i = am;\r\n      am = am < 3 ? 3 : am--;\r\n      while ( i-- ) {\r\n        var sprite = spritePool.Retrieve();\r\n        sprite.transformAutomaticUpdate = false;\r\n        container.AddChild( sprite );\r\n      }\r\n\r\n      if ( ticker.GetTPS() > fps || holdCounter++ < hold ) {\r\n        this.Start( 1 );\r\n      }\r\n      else {\r\n        var numChildren = container.children.length;\r\n        console.log( numChildren, ticker.GetTPS() );\r\n        container.children.forEach( function ( child ) {\r\n          spritePool.Store( child );\r\n        } );\r\n        container.Dump();\r\n        holdCounter = 0;\r\n        childrenMDC.push( numChildren );\r\n        numTimes--;\r\n        if ( numTimes > 0 ) {\r\n          timer.Start( 120 );\r\n        } else {\r\n          childrenMDC.sort( function ( a, b ) {\r\n            return a - b;\r\n          } );\r\n          console.log( childrenMDC, '\\nMIN: ' + childrenMDC[ 0 ], 'MED: ' + childrenMDC[ Math.round( childrenMDC.length / 2 ) ], 'MAX: ' + childrenMDC[ childrenMDC.length - 1 ] );\r\n        }\r\n      }\r\n    }, timer );\r\n\r\n    var imageCache = new nk.ImageLoader( [ {\r\n      id: 'tex',\r\n      src: nk.Utils.GenerateSimpleBase64Png( CreateTexture )\r\n    }], true );\r\n    imageCache.onComplete.Add( function () {\r\n      texture = imageCache.GetBasicTexture( 'tex' );\r\n      spritePool.Flood( function ( obj ) {\r\n        obj.x = Math.random() * W - HW;\r\n        obj.y = Math.random() * H - HH;\r\n        obj.SetTexture( texture );\r\n      }, 50000 );\r\n      timer.Start( 120 );\r\n    } );\r\n\r\n    function Update () {\r\n      rc.setTransform( 1, 0, 0, 1, 0, 0 );\r\n      rc.fillStyle = 'rgba(0, 0, 0, 1)';\r\n      rc.fillRect( 0, 0, W, H );\r\n      container.Draw( rc );\r\n      timer.Process();\r\n    }\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/stresstest.test.js\n// module id = 111\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'Text' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var stage = new nk.Stage2D( c, HW, HH );\r\n\r\n    var text = new nk.Text( 0, 0,\r\n      'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.'\r\n    );\r\n    text.style.text.align = nk.Style.TEXT_ALIGN.CENTER;\r\n    text.style.text.baseline = nk.Style.TEXT_BASELINE.MIDDLE;\r\n    text.style.text.lineWidth = 0.3;\r\n    text.style.text.font = '40px Arial';\r\n\r\n    stage.Mount( text );\r\n\r\n    text.rotation = nk.Math.RADIAN * 24;\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/text.test.js\n// module id = 112\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'TheMask' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', RunTheMask );\r\n  buttonContainer.appendChild( button );\r\n\r\n\r\n  function RunTheMask () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = 0;\r\n    c.style.left = 0;\r\n    var rc = c.getContext( '2d' );\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var container = new nk.Container2D( HW, HH );\r\n\r\n    var color = new nk.Color( 255, 0, 0 );\r\n    color.ConvertToHSLA();\r\n\r\n    var path = new nk.Path.AABB2D( -50, -50, 50, 50 );\r\n    path.style.shadow.applied = true;\r\n    var child1 = new nk.Graphic2D( 0, 0, path );\r\n\r\n    var child2 = new nk.Graphic2D( 0, 0, path );\r\n\r\n    var child3 = new nk.Graphic2D( 0, 0, path );\r\n\r\n    var child4 = new nk.Graphic2D( 0, 0, path );\r\n\r\n    var angle1 = 0;\r\n    var speed1 = 0;\r\n\r\n    var angle2 = 0;\r\n    var speed2 = 0;\r\n\r\n    var line = new nk.Path.Line2D( -100, 0, 100, 0 );\r\n    line.style.shadow.applied = true;\r\n    line.style.stroke.color = '#000';\r\n    var child$1 = new nk.Graphic2D( 0, 0, line );\r\n    var child$2 = new nk.Graphic2D( 0, 0, line );\r\n    var child$3 = new nk.Graphic2D( 0, 0, line );\r\n    var child$4 = new nk.Graphic2D( 0, 0, line );\r\n\r\n    container.AddChildren( child1, child2, child3, child4 );\r\n\r\n    child1.AddChild( child$1 );\r\n    child2.AddChild( child$2 );\r\n    child3.AddChild( child$3 );\r\n    child4.AddChild( child$4 );\r\n\r\n    function Update () {\r\n\r\n      path.style.fill.color = color.value;\r\n\r\n      color.IncreaseChannel( 0, 1 );\r\n\r\n      var a1 = nk.Math.DTR( angle1 );\r\n      var a2 = nk.Math.DTR( angle2 );\r\n\r\n      child1.x += Math.cos( a1 ) * speed1;\r\n      child1.y += Math.sin( a1 ) * speed1;\r\n      child2.x -= Math.cos( a1 ) * speed1;\r\n      child2.y -= Math.sin( a1 ) * speed1;\r\n\r\n      child3.x += Math.cos( a2 ) * speed2;\r\n      child3.y += Math.sin( a2 ) * speed2;\r\n      child4.x -= Math.cos( a2 ) * speed2;\r\n      child4.y -= Math.sin( a2 ) * speed2;\r\n\r\n      child1.rotation = -a1;\r\n      child2.rotation = -a1;\r\n      child3.rotation = -a2;\r\n      child4.rotation = -a2;\r\n\r\n      angle1 += 1;\r\n\r\n      angle2 -= 1;\r\n\r\n      speed1 += 0.01;\r\n\r\n      speed2 += 0.01;\r\n\r\n      speed1 = nk.Utils.InverseClamp( speed1, -5, 5 );\r\n      speed2 = nk.Utils.InverseClamp( speed2, -5, 5 );\r\n\r\n      angle1 = nk.Utils.InverseClamp( angle1, 0, 359 );\r\n      angle2 = nk.Utils.InverseClamp( angle2, -359, 0 );\r\n\r\n      rc.setTransform( 1, 0, 0, 1, 0, 0 );\r\n\r\n      rc.fillStyle = 'rgba(255, 255, 255, 0.001)';\r\n      rc.fillRect( 0, 0, W, H );\r\n\r\n      container.Draw( rc );\r\n\r\n      //requestAnimationFrame( Update );\r\n    }\r\n\r\n    setInterval( Update, 1 );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/themask.test.js\n// module id = 113\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'WebGL Animation' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n\r\n    var W = c.width;\r\n    var H = c.height;\r\n    var HW = W * 0.5;\r\n    var HH = H * 0.5;\r\n\r\n    var wRatio = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0, false, true );\r\n\r\n\r\n\r\n    var sprite = null;\r\n    var spriteRef = null;\r\n    var test = null;\r\n\r\n    var imageCache = new nk.ImageLoader();\r\n    imageCache.onComplete.Add( function ( _event ) {\r\n\r\n      var p1 = new nk.GLTextureProgramController( stage.gl );\r\n      var p2 = new nk.GLTextureProgramController( stage.gl );\r\n      var p3 = new nk.GLTextureProgramController( stage.gl );\r\n      p1.BindBasicTexture( imageCache.GetBasicTexture( '1to8' ) );\r\n      p2.BindBasicTexture( imageCache.GetBasicTexture( '1to8f' ) );\r\n      p3.BindBasicTexture( nk.Sprite.DEFAULT_TEXTURE );\r\n\r\n      test = new nk.Sprite( HW, HH, p3 );\r\n      test.anchor.Set( 0.5 );\r\n      test.scale.Set( 5 );\r\n      test.UpdateShape();\r\n\r\n      spriteRef = new nk.Sprite( HW, HH - 200, p2 );\r\n      spriteRef.anchor.Set( 0.5 );\r\n\r\n      sprite = new nk.Sprite( HW, HH, p1 );\r\n      sprite.anchor.Set( 0.5 );\r\n      sprite.scale.Set( 5 );\r\n      sprite.UpdateShape();\r\n\r\n\r\n\r\n      var ac = sprite.animationController = new nk.Animator.Controller( sprite );\r\n      var animation = ac.AddAnimation( 'test', 20 );\r\n      animation.GenerateFrames( 64, 64, 512, 64, 8, {\r\n        '5': 120\r\n      } );\r\n      animation.reverse = true;\r\n      animation.onEnd.Add( function () {\r\n        //stage.ticker.Stop();\r\n      }, animation );\r\n      ac.PlayAnimation( 'test', 7 );\r\n      stage.AddChildren( sprite, spriteRef, test );\r\n\r\n\r\n      stage.onProcess.Add( function () {\r\n        sprite.animationController.Process();\r\n      }, stage );\r\n    } );\r\n    imageCache.Load( [\r\n      { id: '1to8', src: './assets/images/1to8.png', w: 64, h: 64 },\r\n      { id: '1to8f', src: './assets/images/1to8.png' }\r\n    ], true );\r\n\r\n    var dragger = null;\r\n    var dragStart = new nk.Vector2D();\r\n    var dragOffset = new nk.Vector2D();\r\n\r\n\r\n    stage.mouse.onMove.Add( function ( _event ) {\r\n      if ( dragger !== null ) {\r\n        dragger.x = _event.data.position.x + dragOffset.x - dragStart.x;\r\n        dragger.y = _event.data.position.y + dragOffset.y - dragStart.y;\r\n      }\r\n    }, stage );\r\n    stage.mouse.onDown.Add( function ( _event ) {\r\n      var p = _event.data.position;\r\n      for ( var i = stage.children.length; i--; ) {\r\n        if ( stage.children[ i ].IntersectsPoint( p ) ) {\r\n          dragStart.SetV( p );\r\n\r\n          dragger = stage.children[ i ];\r\n\r\n          dragOffset.SetV( dragger );\r\n\r\n          _event.stopPropagation = true;\r\n\r\n          dragger.SendToFront();\r\n          break;\r\n        }\r\n      }\r\n    }, stage );\r\n    stage.mouse.onUp.Add( function ( _event ) {\r\n      if ( dragger ) {\r\n        dragger = null;\r\n      }\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n\r\n\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/webglanimation.test.js\n// module id = 114\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'WebGL Circle' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n\r\n    var W = c.width;\r\n    var H = c.height;\r\n    var HW = W * 0.5;\r\n    var HH = H * 0.5;\r\n\r\n    var wRatio = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0, false, true );\r\n\r\n\r\n    var pc = new nk.GLCircleProgramController( stage.gl );\r\n    var pcLine = new nk.GLLine2DProgramController( stage.gl );\r\n\r\n    var RF = nk.Utils.RandomFloat;\r\n\r\n    var hzLine = new nk.Path.Line2D( HW, 0, HW, H );\r\n    var vtLine = new nk.Path.Line2D( 0, HH, W, HH );\r\n    hzLine.LinkProgramController( pcLine );\r\n    vtLine.UseProgramController( pcLine );\r\n    stage.Mount( new nk.Graphic2D( 0, 0, hzLine ), new nk.Graphic2D( 0, 0, vtLine ) );\r\n    stage.children[ 0 ].interactive = false;\r\n    stage.children[ 1 ].interactive = false;\r\n\r\n    var path = new nk.Path.Circle( 0, 0, 10 );\r\n    path.LinkProgramController( pc );\r\n\r\n    var i = 1000;\r\n    while ( i-- ) {\r\n      var g = new nk.Graphic2D( RF( 0, W ), RF( 0, H ), path );\r\n      g.AttachTo( stage );\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    var dragger = null;\r\n    var dragStart = new nk.Vector2D();\r\n    var dragOffset = new nk.Vector2D();\r\n\r\n\r\n    stage.mouse.onMove.Add( function ( _event ) {\r\n      if ( dragger !== null ) {\r\n        dragger.x = _event.data.position.x + dragOffset.x - dragStart.x;\r\n        dragger.y = _event.data.position.y + dragOffset.y - dragStart.y;\r\n      }\r\n    }, stage );\r\n    stage.mouse.onDown.Add( function ( _event ) {\r\n      var p = _event.data.position;\r\n      for ( var i = stage.children.length; i--; ) {\r\n        if ( stage.children[ i ].IntersectsPoint( p ) ) {\r\n          dragStart.SetV( p );\r\n\r\n          dragger = stage.children[ i ];\r\n\r\n          dragOffset.SetV( dragger );\r\n\r\n          _event.stopPropagation = true;\r\n\r\n          dragger.SendToFront();\r\n          break;\r\n        }\r\n      }\r\n    }, stage );\r\n    stage.mouse.onUp.Add( function ( _event ) {\r\n      if ( dragger ) {\r\n        dragger = null;\r\n      }\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n\r\n\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/webglcircle.test.js\n// module id = 115\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'WebGL Line2D' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n\r\n    var W = c.width;\r\n    var H = c.height;\r\n    var HW = W * 0.5;\r\n    var HH = H * 0.5;\r\n\r\n    var wRatio = W / H;\r\n\r\n    var mX = W / 45;\r\n    var mY = H / 45;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0, false, true );\r\n\r\n\r\n    var pc = new nk.GLLine2DProgramController( stage.gl );\r\n\r\n    var RF = nk.Utils.RandomFloat;\r\n\r\n    var s = new nk.Vector2D();\r\n\r\n    var points = nk.Math.SquareGrid( W + mX, H + mY, mX, mY, nk.Vector2D );\r\n\r\n    var i = points.length;\r\n    while ( i-- ) {\r\n      var e = points[ i ];\r\n      var path = new nk.Path.Line2D( s, e );\r\n      path.LinkProgramController( pc );\r\n      var g = new nk.Graphic2D( 0, 0, path );\r\n      g.AttachTo( stage );\r\n    }\r\n\r\n    function Update () {\r\n      s.SetV( stage.mouse.position );\r\n    }\r\n\r\n    stage.onProcess.Add( Update, stage );\r\n\r\n\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n\r\n\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/webglline2d.test.js\n// module id = 116\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'WebGL PixelBatch' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n\r\n    var W = c.width;\r\n    var H = c.height;\r\n    var HW = W * 0.5;\r\n    var HH = H * 0.5;\r\n\r\n    var wRatio = W / H;\r\n\r\n    var mX = W / 30;\r\n    var mY = H / 30;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0, false, true );\r\n\r\n    var pc = new nk.GLPixelBatchProgramController( stage.gl );\r\n    stage.UseAsBatchParent( pc );\r\n\r\n    var RF = nk.Utils.RandomFloat;\r\n    var RI = nk.Utils.RandomInteger;\r\n\r\n    ( function () {\r\n      var i = 100000;\r\n      while ( i-- ) {\r\n        var p = new nk.Path.Pixel2D( 0, 0 );\r\n        p.colorObj.r = 0.4;\r\n        p.colorObj.g = Math.random();\r\n        p.colorObj.b = 0.2;\r\n        p.colorObj.a = RF( 0.8, 1.0 );\r\n        p.style.pixel.size = RF( 1, 2 );\r\n        var g = new nk.Graphic2D( HW, HH, p );\r\n        g.data.velocity = new nk.Vector2D( RF( -10, 10 ), RF( -1, 10 ) );\r\n        g.data.torque = RF( -nk.Math.RADIAN * 10, nk.Math.RADIAN * 10 );\r\n        stage.Mount( g );\r\n        g.UpdateTransform();\r\n      }\r\n      stage.ComputeBatchBuffer();\r\n\r\n    }() );\r\n\r\n    stage.onProcess.Add( function prasd () {\r\n      this.children.forEach( function ( child ) {\r\n        child.data.velocity.Rotate( child.data.torque );\r\n        child.position.AddV( child.data.velocity );\r\n        child.UpdateInBuffer();\r\n      } );\r\n      if ( stage.ticker.GetTPS() < 55 ) {\r\n        console.log( stage.ticker.GetTPS() );\r\n      }\r\n    }, stage );\r\n\r\n\r\n    console.log( stage.childDataBuffer );\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n\r\n\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/webglpixelbatch.test.js\n// module id = 117\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'WebGL Rectangle' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n\r\n    var W = c.width;\r\n    var H = c.height;\r\n    var HW = W * 0.5;\r\n    var HH = H * 0.5;\r\n\r\n    var wRatio = W / H;\r\n\r\n    var stage = new nk.Stage2D( c, 0, 0, false, true );\r\n\r\n\r\n    var pc = new nk.GLRectangleProgramController( stage.gl );\r\n\r\n    var RF = nk.Utils.RandomFloat;\r\n\r\n    var path = new nk.Path.AABB2D( -10, -10, 10, 10 );\r\n    path.LinkProgramController( pc );\r\n\r\n    var i = 1000;\r\n    while ( i-- ) {\r\n      var g = new nk.Graphic2D( RF( 0, W ), RF( 0, H ), path );\r\n      g.AttachTo( stage );\r\n    }\r\n\r\n\r\n\r\n\r\n    var dragger = null;\r\n    var dragStart = new nk.Vector2D();\r\n    var dragOffset = new nk.Vector2D();\r\n\r\n\r\n    stage.mouse.onMove.Add( function ( _event ) {\r\n      if ( dragger !== null ) {\r\n        dragger.x = _event.data.position.x + dragOffset.x - dragStart.x;\r\n        dragger.y = _event.data.position.y + dragOffset.y - dragStart.y;\r\n      }\r\n    }, stage );\r\n    stage.mouse.onDown.Add( function ( _event ) {\r\n      var p = _event.data.position;\r\n      for ( var i = stage.children.length; i--; ) {\r\n        if ( stage.children[ i ].IntersectsPoint( p ) ) {\r\n          dragStart.SetV( p );\r\n\r\n          dragger = stage.children[ i ];\r\n\r\n          dragOffset.SetV( dragger );\r\n\r\n          _event.stopPropagation = true;\r\n\r\n          dragger.SendToFront();\r\n          break;\r\n        }\r\n      }\r\n    }, stage );\r\n    stage.mouse.onUp.Add( function ( _event ) {\r\n      if ( dragger ) {\r\n        dragger = null;\r\n      }\r\n    } );\r\n\r\n    document.body.removeChild( buttonContainer );\r\n\r\n\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/webglrectangle.test.js\n// module id = 118\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'WebGL Stresstest' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = 0;\r\n    c.style.left = 0;\r\n    var gl = c.getContext( 'webgl' );\r\n    if ( !gl ) {\r\n      gl = c.getContext( 'experimental-webgl' );\r\n    }\r\n\r\n    var W = c.width, HW = W * 0.5;\r\n    var H = c.height, HH = H * 0.5;\r\n\r\n    var container = new nk.Container2D( 0, 0 );\r\n    container.scale.Set( 2 / W, -2 / H );\r\n    container.position.Add( -1 + 1, 0 );\r\n    container.UpdateTransform();\r\n\r\n    var pcon = null;\r\n    var pcon0 = null;\r\n\r\n    var cpath = new nk.Path.Circle( 0, 0, 25 );\r\n    pcon0 = new nk.GLCircleProgramController( gl );\r\n    cpath.LinkProgramController( pcon0 );\r\n\r\n    var rpath = new nk.Path.AABB2D( -25, -25, 25, 25 );\r\n    pcon1 = new nk.GLRectangleProgramController( gl );\r\n    rpath.LinkProgramController( pcon1 );\r\n\r\n    var usedPath = rpath;\r\n\r\n    function CreateTexture () {\r\n      var path = new nk.Path.Polygon2D();\r\n      path.style.stroke.lineWidth = 1;\r\n      nk.Geom.Polygon2D.Construct.Cyclic( path, 0, 0, 32, 12 );\r\n      var d = path.aabb.br.AbsoluteCopy().SubtractVC( path.aabb.tl.AbsoluteCopy() );\r\n      var t = new nk.Graphic2D( ( path.aabb.w * 0.5 ) - ( d.x * 0.5 ), ( path.aabb.h * 0.5 ) - ( d.y * 0.5 ), path );\r\n      return t;\r\n    }\r\n\r\n    var ticker = new nk.Ticker( Update, 1000, true );\r\n    ticker.Start();\r\n\r\n    var numTimes = 20;\r\n    var hold = 20;\r\n    var holdCounter = 0;\r\n    var fps = 24;\r\n\r\n    var am = 35;\r\n\r\n    var childrenMDC = [];\r\n\r\n    var spritePool = new nk.Pool( nk.Sprite );\r\n    var graphicPool = new nk.Pool( nk.Graphic2D );\r\n\r\n    var usedPool = graphicPool;\r\n\r\n    var timer = new nk.Timer();\r\n    timer.onFinish.Add( function () {\r\n      var i = am;\r\n      am = am < 3 ? 3 : am--;\r\n      while ( i-- ) {\r\n        var obj = usedPool.Retrieve();\r\n        container.AddChild( obj );\r\n      }\r\n\r\n      if ( ticker.GetTPS() > fps || holdCounter++ < hold ) {\r\n        this.Start( 1 );\r\n      }\r\n      else {\r\n        var numChildren = container.children.length;\r\n        console.log( numChildren, ticker.GetTPS() );\r\n        container.children.forEach( function ( child ) {\r\n          usedPool.Store( child );\r\n        } );\r\n        container.Dump();\r\n        holdCounter = 0;\r\n        childrenMDC.push( numChildren );\r\n        numTimes--;\r\n        if ( numTimes > 0 ) {\r\n          timer.Start( 120 );\r\n        } else {\r\n          childrenMDC.sort( function ( a, b ) {\r\n            return a - b;\r\n          } );\r\n          console.log( childrenMDC, '\\nMIN: ' + childrenMDC[ 0 ], 'MED: ' + childrenMDC[ Math.round( childrenMDC.length / 2 ) ], 'MAX: ' + childrenMDC[ childrenMDC.length - 1 ] );\r\n        }\r\n      }\r\n    }, timer );\r\n\r\n    var imageCache = new nk.ImageLoader( [ {\r\n      id: 'tex',\r\n      src: nk.Utils.GenerateSimpleBase64Png( CreateTexture )\r\n    }], true );\r\n    imageCache.onComplete.Add( function () {\r\n      pcon = new nk.GLTextureProgramController( gl );\r\n      pcon.BindBasicTexture( imageCache.GetBasicTexture( 'tex' ) );\r\n\r\n      spritePool.Flood( function ( obj ) {\r\n        obj.x = Math.random() * W - HW;\r\n        obj.y = Math.random() * H - HH;\r\n        obj.programController = pcon;\r\n        obj.transformAutomaticUpdate = false;\r\n        obj.SetTexture( pcon.originalTexture );\r\n      }, 5000 );\r\n      graphicPool.Flood( function ( obj ) {\r\n        obj.x = Math.random() * W - HW;\r\n        obj.y = Math.random() * H - HH;\r\n        obj.transformAutomaticUpdate = false;\r\n        obj.SetPath( usedPath );\r\n      }, 5000 );\r\n      timer.Start( 120 );\r\n    } );\r\n\r\n    function Update () {\r\n      gl.viewport( 0, 0, W, H );\r\n      gl.clear( gl.COLOR_BUFFER_BIT );\r\n      gl.enable( gl.BLEND );\r\n      gl.disable( gl.DEPTH_TEST );\r\n      gl.blendFunc( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA );\r\n      container.GLDraw( gl );\r\n      timer.Process();\r\n      gl.flush();\r\n    }\r\n\r\n    document.body.removeChild( buttonContainer );\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/webglstresstest.test.js\n// module id = 119\n// module chunks = 1","module.exports = function () {\r\n  var buttonContainer = document.getElementById( 'buttons' );\r\n  var button = document.createElement( 'input' );\r\n  button.setAttribute( 'value', 'WebGL TextureBatch' );\r\n  button.setAttribute( 'type', 'button' );\r\n  button.addEventListener( 'click', Run );\r\n  buttonContainer.appendChild( button );\r\n\r\n  function Run () {\r\n    var c = document.getElementsByTagName( 'canvas' )[ 0 ];\r\n    c.setAttribute( 'width', window.innerWidth );\r\n    c.setAttribute( 'height', window.innerHeight );\r\n    c.style.display = 'initial';\r\n    c.style.position = 'absolute';\r\n    c.style.top = '0';\r\n    c.style.left = '0';\r\n\r\n    var W = c.width;\r\n    var H = c.height;\r\n    var HW = W * 0.5;\r\n    var HH = H * 0.5;\r\n\r\n    var wRatio = W / H;\r\n\r\n    var mX = W / 30;\r\n    var mY = H / 30;\r\n\r\n    var RF = nk.Utils.RandomFloat;\r\n    var RI = nk.Utils.RandomInteger;\r\n\r\n    var stage = window.stage = new nk.Stage2D( c, 0, 0, false, true );\r\n\r\n    var pc = new nk.GLTextureBatchProgramController( stage.gl );\r\n    stage.UseAsBatchParent( pc );\r\n\r\n    var ic = new nk.ImageLoader();\r\n    ic.onComplete.Add( function ( _event ) {\r\n      var tex = ic.GetBasicTexture( 'colors' );\r\n      pc.BindBasicTexture( tex );\r\n\r\n      ( function () {\r\n        var i = 50000;\r\n        while ( i-- ) {\r\n          var s = new nk.Sprite( HW, HH, tex );\r\n          var ac = s.animationController = new nk.Animator.Controller( s );\r\n          var anim = ac.AddAnimation( 'test', RI( 5, 40 ) );\r\n          anim.GenerateFrames( 64, 64, 1024, 64, 16 );\r\n          ac.PlayAnimation( 'test', RI( 0, 15 ) );\r\n          var vx = RI( 1, 3 );\r\n          vx = nk.Utils.ThisOrThat( vx, -vx );\r\n          var vy = RI( 1, 3 );\r\n          vy = nk.Utils.ThisOrThat( vy, -vy );\r\n          var to = RF( nk.Math.RADIAN, nk.Math.RADIAN * 5 );\r\n          to = nk.Utils.ThisOrThat( to, -to );\r\n          s.data.velocity = new nk.Vector2D( vx, vy );\r\n          s.data.torque = to;\r\n          s.scale.Set( 0.1 );\r\n          s.anchor.Set( 0.5 );\r\n          stage.Mount( s );\r\n          s.UpdateTransform();\r\n        }\r\n        stage.ComputeBatchBuffer();\r\n\r\n        stage.onProcess.Add( function () {\r\n          for ( var i = 0, child; i < this.children.length; ++i ) {\r\n            child = this.children[ i ];\r\n            child.animationController.Process();\r\n            child.data.velocity.Rotate( child.data.torque );\r\n            child.position.AddV( child.data.velocity );\r\n            child.UpdateInBuffer();\r\n          }\r\n          if ( stage.ticker.GetTPS() < 50 ) {\r\n            console.log( stage.ticker.GetTPS() );\r\n          }\r\n        }, stage );\r\n      }() );\r\n    } );\r\n\r\n    ic.Load( [\r\n      { id: 'colors', src: './assets/images/colors.png', w: 64, h: 64 }\r\n    ], true );\r\n\r\n\r\n\r\n    document.body.removeChild( buttonContainer );\r\n\r\n\r\n  }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./tests/nk-tests/webgltexturebatch.test.js\n// module id = 120\n// module chunks = 1"],"sourceRoot":""}