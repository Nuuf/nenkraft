!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./",e(e.s=44)}([function(t,e,i){(function(t){var e=t.nk={};i(4)(e),i(43)(e),i(42)(e),i(29)(e),i(30)(e),i(31)(e),i(33)(e),i(32)(e),i(14)(e),i(13)(e),i(40)(e),i(41)(e),i(24)(e),i(23)(e),i(22)(e),i(21)(e),i(20)(e),i(19)(e),i(8)(e),i(17)(e),i(15)(e),i(18)(e),i(16)(e),i(27)(e),i(25)(e),i(28)(e),i(26)(e),i(9)(e),i(11)(e),i(10)(e),i(12)(e),i(6)(e),i(5)(e),i(7)(e)}).call(e,i(3))},,,function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports=function(t){t.Geom={},t.Style={},t.Debug={Draw:{}},t.Math={Intersect:{}},t.Utils={},t.Entity={},t.Path={},t.Event={},t.Time={},t.Input={},t.CP={},t.VERSION="0.0.3 (Omega)"}},function(t,e){t.exports=function(){"use strict";function t(e,i,n,o,r){if(!(this instanceof t))return new t(e,i,n,o,r);this.id=e.split(" "),this.handle=i,this.info=n,this.options=null,this.allOptionIds=null,this.data={},this.dataSeparator="=",this.optionPrefix=void 0===r?null:r,this.continueToPrime=void 0===o||o,this.fullInfo=null}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.Execute=function(t,e){this.HandleData(t,e),!0===this.HandleOptions(t,e)&&this.handle(t,e)},t.prototype.AddOption=function(t,e,i,n,o,r){r=void 0===r?this.optionPrefix:r,null!==r&&(t=t.replace(/\S+/g,r+"$&")),null===this.options&&(this.options=[]),n=void 0===n?0:n;var s=new nk.CP.Option(t,e,i,n,o);s.command=this;for(var h,a=0,c=this.options,p=c.length;a<p;++a)if(h=c[a],h.priority<=n)return nk.Utils.ArrayInsert(c,s,a),this.allOptionIds=this.GetAllOptionIds(),this;return this.options.push(s),this.allOptionIds=this.GetAllOptionIds(),this},t.prototype.HandleData=function(t,e){for(var i,n,o=t.slice(),r=0,s=o.length,h=this.dataSeparator;r<s;++r)i=o[r],n=i.split(h),2===n.length&&(t.splice(r,1),e[n[0]]=n[1])},t.prototype.HandleOptions=function(t,e){if(0===t.length)return this.continueToPrime;var i=this.GetAndRemoveMatchingOptionIds(t);if(null===i)return this.continueToPrime;for(var n,o=0,r=i.length;o<r;++o)if(n=this.GetOptionById(i[o]),!0===n.Execute(t,e))return!1;return this.continueToPrime},t.prototype.GetOptionById=function(t){for(var e,i=0,n=this.options,o=n.length;i<o;++i)if(e=n[i],-1!==e.id.indexOf(t))return e;return null},t.prototype.GetAllOptionIds=function(){for(var t=[],e=0,i=this.options,n=i.length;e<n;++e)t=t.concat(i[e].id);return t},t.prototype.GetAndRemoveMatchingOptionIds=function(t){var e=this.allOptionIds;if(null===e)return null;for(var i=[],n=0,o=e.length;n<o;++n){var r=t.indexOf(e[n]);-1!==r&&i.push(t.splice(r,1)[0])}return i},t.prototype.GenerateInfoString=function(){for(var t,e="COMMAND: "+this.id.join(", ")+" -> "+this.info+"\n",i=0,n=this.options,o=n.length;i<o;++i)t=n[i],e+="OPTION: "+t.id.join(", ")+" -> "+t.info+"\n";return e},nk.CP.Command=t}},function(t,e){t.exports=function(){"use strict";function t(e,i,n,o,r){if(!(this instanceof t))return new t(e,i,n,o,r);this.id=e.split(" "),this.handle=i,this.command=null,this.info=n,this.priority=void 0===o?0:o,this.breakIfExecuted=void 0!==r&&r,this.data={}}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.Execute=function(t,e){return this.handle(t,e),this.breakIfExecuted},nk.CP.Option=t}},function(t,e){t.exports=function(){"use strict";function t(e){if(!(this instanceof t))return new t(e);this.commands=[],this.splitter=" "}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.Add=function(t){this.commands.push(t)},t.prototype.Get=function(t){for(var e,i=0,n=this.commands,o=n.length;i<o;++i)if(e=this.commands[i])for(var r=0,s=e.id.length;r<s;++r)if(e.id[r]===t)return e;return null},t.prototype.Parse=function(t){var e=String(t).split(this.splitter),i=e.shift(),n=this.Get(i);return n?(n.Execute(e,{}),null):i},nk.CP.Register=t}},function(t,e){t.exports=function(t){"use strict";t.Math.PII;t.Debug.BOUNDS_STYLE=null,t.Debug.Draw.Polygon2D=function(){},t.Debug.Draw.AABB2D=function(){},t.Debug.Draw.Circle=function(){},t.Debug.Draw.Text=function(){}}},function(t,e){t.exports=function(t){"use strict";function e(i,n){if(!(this instanceof e))return new Container(i,n);this.position=new t.Vector2D(i,n),this.scale=new t.Vector2D(1,1),this.rotation=0,this.parent=null,this.children=[],this.render=!0,this.data={}}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.Draw=function(t){if(!0===this.render){var e=this.position,i=this.scale;t.save(),t.translate(e.x,e.y),t.rotate(this.rotation),t.scale(i.x,i.y),this.DrawChildren(t),t.restore()}},e.prototype.DrawChildren=function(t){for(var e,i=0,n=this.children,o=n.length;i<o;++i)e=n[i],e.Draw&&e.Draw(t)},e.prototype.AddChild=function(t){var e=t.parent;null!==e&&e.RemoveChild(t),this.children.push(t),t.parent=this},e.prototype.AddChildren=function(){for(var t,e,i=0,n=arguments.length;i<n;++i)t=arguments[i],e=t.parent,null!==e&&e.RemoveChild(t),this.children.push(t),t.parent=this},e.prototype.RemoveChild=function(t){var e=this.children,i=e.indexOf(t);-1!==i&&(e.splice(i,1),t.parent=null)},e.prototype.RemoveChildren=function(){for(var t,e,i=this.children,n=0,o=arguments.length;n<o;++n)t=arguments[n],t.parent,-1!==(e=i.indexOf(t))&&(i.splice(e,1),t.parent=this)},e.prototype.SendToFront=function(){if(null!==this.parent){var t=this.parent.children,e=t.indexOf(this);-1!==e&&t.push(t.splice(e,1)[0])}},e.prototype.SendToBack=function(){if(null!==this.parent){var t=this.parent.children,e=t.indexOf(this);-1!==e&&t.splice(0,0,t.splice(e,1)[0])}},e.prototype.Dump=function(){this.children.length=0},t.Entity.Container2D=e,t.Container2D=e,Object.defineProperty(e.prototype,"x",{set:function(t){this.position.x=t},get:function(){return this.position.x}}),Object.defineProperty(e.prototype,"y",{set:function(t){this.position.y=t},get:function(){return this.position.y}})}},function(t,e){t.exports=function(t){"use strict";function e(n,o,r){if(!(this instanceof e))return new e(n,o);i.call(this,n,o),this.anchor=new t.Vector2D,this.visible=!0,void 0!==r?(this.texture=r,void 0!==r.radius?this.w=this.h=2*r.radius:(this.w=void 0===r.w?0:r.w,this.h=void 0===r.h?0:r.h)):(this.texture=null,this.w=0,this.h=0)}var i=t.Entity.Container2D;e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.Draw=function(t){if(!0===this.render){var e=this.position,i=this.scale,n=this.anchor,o=this.texture;t.save(),t.translate(e.x-this.w*n.x,e.y-this.h*n.y),t.rotate(this.rotation),t.scale(i.x,i.y),o&&o.Draw&&!0===this.visible&&o.Draw(t),this.DrawChildren(t),t.restore()}},e.prototype.IntersectsPoint=function(t){var e=t.Copy();return e.SubtractV(this.position),this.texture.IntersectsPoint(e,this.anchor,this.w,this.h)},t.Entity.Graphic2D=e,t.Graphic2D=e}},function(t,e){t.exports=function(){"use strict";function t(i,n,o,r){if(!(this instanceof t))return new t(i,n,o,r);e.call(this,n,o),this.canvas=i,this.rc=i.getContext("2d"),this.backgroundColor="rgba(0,0,0,1)",this.w=i.width,this.h=i.height,this.ticker=new nk.Time.Ticker(this.Process.bind(this),60,r),this.onProcess=new nk.Event.LocalEvent,this.mouse=new nk.Input.Mouse(i)}var e=nk.Entity.Container2D;t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.PreDraw=function(t){t.fillStyle=this.backgroundColor,t.fillRect(0,0,this.w,this.h)},t.prototype.Process=function(t){var e=this.rc;this.PreDraw(e),this.Draw(e),this.onProcess.Dispatch(this,t)},nk.Entity.Stage2D=t,nk.Stage2D=t}},function(t,e){t.exports=function(t){"use strict";function e(n,o,r){if(!(this instanceof e))return new e(n,o);i.call(this,n,o),this.visible=!0,this.text=void 0===r?"Empty":r,this.maxWidth=void 0,this.style=t.Style.CreateSaT()}var i=t.Entity.Container2D;e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.Draw=function(t){if(!0===this.render){var e=this.position,i=this.scale,n=this.style;t.save(),t.translate(e.x,e.y),t.rotate(this.rotation),t.scale(i.x,i.y),!0===this.visible&&(!0===n.shadow.applied&&n.shadow.Apply(t),!0===n.text.applied&&(n.text.Apply(t),t.fillText(this.text,0,0,this.maxWidth),t.strokeText(this.text,0,0,this.maxWidth))),this.DrawChildren(t),t.restore()}},e.prototype.IntersectsPoint=function(t){return!1},t.Entity.Text=e,t.Text=e}},function(t,e){t.exports=function(){"use strict";function t(){if(!(this instanceof t))return new t;this.listeners=[],this.stopPropagation=!1,this.target=null,this.data=null}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.GetListenerIndex=function(t,e){var i=this.listeners;if(0===i.length)return-1;for(var n,o=0,r=i.length;o<r;++o)if(n=i[o],n.context===e&&n.handle===t)return o;return-1},t.prototype.Add=function(t,e,i){var n=new nk.LocalListener(this,e,t,i);this.listeners.push(n)},t.prototype.Remove=function(t,e){var i=this.GetListenerIndex(t,e);-1!==i&&this.listeners.splice(i,1)},t.prototype.Dump=function(t){var e=this.listeners;if(0===e.length)return-1;if(void 0!==t)for(var i,n=0,o=e.length;n<o;++n)i=e[n],i.context===t&&this.listeners.splice(n,1);else this.listeners.length=0},t.prototype.Dispatch=function(t,e){var i=this.listeners;if(0!==i.length){i=i.slice(),this.stopPropagation=!1,this.target=t,this.data=e;for(var n,o=0,r=i.length;o<r&&(n=i[o],n.Execute(this),!0!==this.stopPropagation);++o);this.target=null,this.data=null}},nk.Event.LocalEvent=t,nk.LocalEvent=t}},function(t,e){t.exports=function(){"use strict";function t(e,i,n,o){if(!(this instanceof t))return new t(e,_listenerContex,n,o);this.context=i,this.holderContext=e,this.handle=n,this.removeOnNextCall=o}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.Execute=function(){this.handle.apply(this.context,arguments),!0===this.removeOnNextCall&&this.Remove()},t.prototype.Remove=function(){this.holderContext.Remove(this.handle,this.context)},nk.Event.LocalListener=t,nk.LocalListener=t}},function(t,e){t.exports=function(t){"use strict";function e(i,n,o,r){if(!(this instanceof e))return new e(i,n,o,r);i instanceof t.Vector2D&&n instanceof Vector2D?(this.tl=i,this.br=n):void 0!==i&&void 0!==n&&void 0!==i.x&&void 0!==i.y&&void 0!==n.x&&void 0!==n.y?(this.tl=new t.Vector2D(i.x,i.y),this.br=new t.Vector2D(n.x,n.y)):void 0!==i&&void 0!==n&&void 0!==o&&void 0!==r?(this.tl=new t.Vector2D(i,n),this.br=new t.Vector2D(o,r)):(this.tl=new t.Vector2D,this.br=new t.Vector2D),this.w=0,this.h=0,this.CalculateWH()}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.Set=function(t,e,i,n){this.tl.x=t,this.tl.y=e,this.br.x=i,this.br.y=n,this.CalculateWH()},e.prototype.CalculateWH=function(){this.w=this.br.x-this.tl.x,this.h=this.br.y-this.tl.y},e.prototype.IntersectsPoint=function(t,e,i,n){return 0!==e.x&&(t.x+=e.x*i),0!==e.y&&(t.y+=e.y*n),!(t.x<this.tl.x)&&(!(t.x>this.br.x)&&(!(t.y<this.tl.y)&&!(t.y>this.br.y)))},e.prototype.ContainsPoint=function(t){return t.x>this.tl.x&&t.x<this.br.x&&t.y>this.tl.y&&t.y<this.br.y},t.Geom.AABB2D=e}},function(t,e){t.exports=function(t){"use strict";function e(i,n,o){if(!(this instanceof e))return new e;this.position=new t.Vector2D(i,n),this.radiusSquared=0,this.radiusUnsquared=0,this.radius=void 0===o?32:o}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.IntersectsPoint=function(t,e,i,n){0!==e.x&&(t.x-=e.x*i),0!==e.y&&(t.y-=e.y*n);var o=this.position.GetDistanceSquaredV(t);return this.radiusSquared>o},t.Geom.Circle=e,Object.defineProperty(e.prototype,"x",{set:function(t){this.position.x=t},get:function(){return this.position.x}}),Object.defineProperty(e.prototype,"y",{set:function(t){this.position.y=t},get:function(){return this.position.y}}),Object.defineProperty(e.prototype,"radius",{set:function(t){this.radiusUnsquared=t,this.radiusSquared=t*t},get:function(){return this.radiusUnsquared}})}},function(t,e){t.exports=function(t){"use strict";function e(i,n,o,r){if(!(this instanceof e))return new e(i,n,o,r);void 0!==i&&i.x&&i.y&&void 0!==n&&n.x&&n.y?(this.s=i,this.e=n):void 0!==i&&void 0!==n&&void 0!==o&&void 0!==r?(this.s=new t.Vector2D(i,n),this.e=new t.Vector2D(o,r)):(this.s=new t.Vector2D,this.e=new t.Vector2D)}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.Stretch=function(t){var e=.5*t;this.s.PushFromV(this.e,e),this.e.PushFromV(this.s,e)},e.prototype.Rotate=function(t,e,i){var n=this.s.Copy();n.AddV(this.e),n.Multiply(e,void 0===i?e:i),this.s.RotateAroundV(n,t),this.e.RotateAroundV(n,t)},t.Geom.Line2D=e}},function(t,e){t.exports=function(t){"use strict";function e(){if(!(this instanceof e))return new e;this.vertices=[],this.aabb=null,this.dirtyBounds=!0}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.AddPoint=function(t){this.vertices.push(t)},e.prototype.AddPoints=function(t){this.vertices=this.vertices.concat(t)},e.prototype.Recreate=function(t){this.vertices=t},e.prototype.ComputeBounds=function(){null===this.aabb&&(this.aabb=new t.Geom.AABB2D);for(var e,i=1/0,n=-1/0,o=1/0,r=-1/0,s=0,h=this.vertices,a=h.length;s<a;++s)e=h[s],e.x<i&&(i=e.x),e.x>n&&(n=e.x),e.y<o&&(o=e.y),e.y>r&&(r=e.y);this.aabb.Set(i,o,n,r),this.dirtyBounds=!1},e.prototype.Rotate=function(t,e,i,n){!0===this.dirtyBounds&&!0===n?this.ComputeBounds():null===this.aabb&&this.ComputeBounds();var o=this.aabb,r=o.tl.Copy();r.AddV(o.br),r.Multiply(e,void 0===i?e:i);var s,h=0,a=this.vertices,c=a.length;for(t=t,h;h<c;++h)s=a[h],s.RotateAroundV(r,t);this.dirtyBounds=!0},e.prototype.ContainsPoint=function(t){return!0===this.dirtyBounds&&this.ComputeBounds(),!1!==this.aabb.IntersectsPoint(t)},e.Construct={},e.Construct.Rectangular=function(e,i,n,o,r){var s=new t.Vector2D(i,n),h=new t.Vector2D(i+o,n),a=new t.Vector2D(i+o,n+r),c=new t.Vector2D(i,n+r);e.Recreate([s,h,a,c]),e.ComputeBounds()},e.Construct.Triangular=function(e,i,n,o,r){var s=new t.Vector2D(i,n),h=new t.Vector2D(i+.5*o,n+r),a=new t.Vector2D(i-.5*o,n+r);e.Recreate([s,h,a]),e.ComputeBounds()},e.Construct.Circlic=function(e,i,n,o,r){e.Recreate([]);var s,h,a,c=0,p=r,u=2*Math.PI/p;for(c;c<p;++c)a=u*c,s=Math.cos(a)*o,h=Math.sin(a)*o,e.AddPoint(new t.Vector2D(i+s,n+h));e.ComputeBounds()},e.Construct.Star=function(e,i,n,o,r,s){e.Recreate([]);var h,a,c,p,u=0,l=2*s,f=2*Math.PI/l;for(u;u<l;++u)p=0==(1&u)?o:r,c=f*u,h=Math.cos(c)*p,a=Math.sin(c)*p,e.AddPoint(new t.Vector2D(i+h,n+a));e.ComputeBounds()},e.Construct.Butterfly=function(i,n,o,r,s){i.Recreate([]);var h,a,c,p=0,u=e.Construct.Butterfly.C;for(p;p<r;++p)c=p*u._1*Math.PI/r,h=Math.cos(c)*(Math.exp(Math.cos(c))-u._2*Math.cos(u._3*c)-Math.pow(Math.sin(c/u._4),u._5))*s,a=Math.sin(c)*(Math.exp(Math.cos(c))-u._2*Math.cos(u._3*c)-Math.pow(Math.sin(c/u._4),u._5))*s,i.AddPoint(new t.Vector2D(n+h,o+a));i.ComputeBounds()},e.Construct.Supershape=function(i,n,o,r,s,h,a,c,p){a=void 0===a?1:a,c=void 0===c?1:c,p=void 0===p?1:p,i.Recreate([]);var u,l,f,y,d,v,x=0,w=s,S=e.Construct.Supershape.C;for(x;x<w;++x)f=x*Math.PI*2/s,d=Math.cos(h*f/4)/S._A,d=Math.abs(d),d=Math.pow(d,c),v=Math.sin(h*f/4)/S._B,v=Math.abs(v),v=Math.pow(v,p),y=Math.pow(d+v,1/a),0===Math.abs(y)?(u=0,l=0):(y=1/y,u=Math.cos(f)*y*r,l=Math.sin(f)*y*r),i.AddPoint(new t.Vector2D(n+u,o+l));i.ComputeBounds()},e.Construct.Butterfly.C={_1:24,_2:2,_3:4,_4:12,_5:5,Reset:function(){this._1=24,this._2=2,this._3=4,this._4=12,this._5=5}},e.Construct.Supershape.C={_A:1,_B:1},t.Geom.Polygon2D=e}},function(t,e){t.exports=function(){"use strict";function t(e){if(!(this instanceof t))return new t(e);this.element=e}t.prototype=Object.create(null),t.prototype.constructor=t,nk.Input.Keyboard=t}},function(t,e){t.exports=function(){"use strict";function t(e){if(!(this instanceof t))return new t(e);this.element=e,this.position=new nk.Vector2D(0,0),this.element.addEventListener("mousemove",this.OnMove.bind(this)),this.element.addEventListener("mousedown",this.OnDown.bind(this)),this.element.addEventListener("mouseup",this.OnUp.bind(this)),this.onMove=new nk.Event.LocalEvent,this.onDown=new nk.Event.LocalEvent,this.onUp=new nk.Event.LocalEvent}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.OnMove=function(t){var e=this.element;this.position.Set(t.pageX-e.offsetLeft,t.pageY-e.offsetTop),this.onMove.Dispatch(this,this.position)},t.prototype.OnDown=function(t){this.onDown.Dispatch(this,this.position)},t.prototype.OnUp=function(t){this.onUp.Dispatch(this,this.position)},nk.Input.Mouse=t,Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x}}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y}})}},function(t,e){t.exports=function(){"use strict";nk.Math.Intersect.LineLine=function(t,e){t.e.SubtractV(t.s),e.e.SubtractV(e.s)}}},function(t,e){t.exports=function(t){"use strict";t.Math.PII=2*Math.PI,t.Math.DEGREES_TO_RADIANS=Math.PI/180,t.Math.RADIANS_TO_DEGREES=180/Math.PI,t.Math.DegreesToRadians=function(e){return e*t.Math.DEGREES_TO_RADIANS},t.Math.DTR=t.Math.DegreesToRadians,t.Math.RadiansToDegrees=function(e){return e*t.Math.RADIANS_TO_DEGREES},t.Math.RTD=t.Math.RadiansToDegrees,t.Math.PrecisionRound=function(t,e){var i=Math.pow(10,e);return Math.round(i*t)/i},t.Math.PR=t.Math.PrecisionRound,t.Math.Spread=function(t,e,i,n){return t-i*(e-1)*.5+n*i},Object.defineProperty(t.Math,"PII",{writable:!1}),Object.defineProperty(t.Math,"DEGREES_TO_RADIANS",{writable:!1}),Object.defineProperty(t.Math,"RADIANS_TO_DEGREES",{writable:!1})}},function(t,e){t.exports=function(){"use strict";function t(i,n,o,r,s,h){if(!(this instanceof t))return new t(i,n,o,r,s,h);e.call(this,i,n),this.floor=new nk.Vector2D(o,r),this.ceil=new nk.Vector2D(s,h),this.invert=!1}var e=nk.Vector2D;t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.Limit=function(){var t=!1===this.invert?nk.Utils.Clamp:nk.Utils.InverseClamp,e=this.floor,i=this.ceil;this.x=t(this.x,e.x,i.x),this.y=t(this.y,e.y,i.y)},nk.Math.LimitVector2D=t,nk.LimitVector2D=t}},function(t,e){t.exports=function(t){"use strict";function e(t,i){if(!(this instanceof e))return new e(t,i);void 0!==t&&void 0!==t.x&&void 0!==t.y?(this.x=t.x,this.y=t.y):void 0!==t?void 0===i?(this.x=t,this.y=t):(this.x=t,this.y=i):(this.x=0,this.y=0)}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.Copy=function(){return new e(this)},e.prototype.SetV=function(t){this.x=t.x,this.y=t.y},e.prototype.Set=function(t,e){void 0!==t&&void 0===e?(this.x=t,this.y=t):(this.x=t,this.y=e)},e.prototype.Is0=function(){return 0===this.x&&0===this.y},e.prototype.AddV=function(t){this.x+=t.x,this.y+=t.y},e.prototype.Add=function(t,e){this.x+=t,this.y+=e},e.prototype.SubtractV=function(t){this.x-=t.x,this.y-=t.y},e.prototype.Subtract=function(t,e){this.x-=t,this.y-=e},e.prototype.MultiplyV=function(t){this.x*=t.x,this.y*=t.y},e.prototype.Multiply=function(t,e){this.x*=t,this.y*=e},e.prototype.DivideV=function(t){this.x/=t.x,this.y/=t.y},e.prototype.Divide=function(t,e){this.x/=t,this.y/=e},e.prototype.Normalize=function(){var t=this.GetMagnitude();this.Divide(t,t)},e.prototype.Absolute=function(){this.x=Math.abs(this.x),this.y=Math.abs(this.y)},e.prototype.Negative=function(){this.x=-Math.abs(this.x),this.y=-Math.abs(this.y)},e.prototype.Invert=function(){this.x=-1*this.x,this.y=-1*this.y},e.prototype.Rotate=function(t){var e=Math.sin(t),i=Math.cos(t),n=this.x,o=this.y;this.x=n*i-o*e,this.y=n*e+o*i},e.prototype.RotateAround=function(t,e,i){this.Subtract(t,e),this.Rotate(i),this.Add(t,e)},e.prototype.RotateAroundV=function(t,e){this.SubtractV(t),this.Rotate(e),this.AddV(t)},e.prototype.PushFrom=function(t,e,i){var n=this.Copy();n.Subtract(t,e),n.Normalize(),n.Multiply(i,i),this.AddV(n)},e.prototype.PushFromV=function(t,e){var i=this.Copy();i.SubtractV(t),i.Normalize(),i.Multiply(e,e),this.AddV(i)},e.prototype.GetAngle=function(){return Math.atan2(this.y,this.x)},e.prototype.GetAngleBetween=function(t,e){return Math.atan2(this.y-e,this.x-t)},e.prototype.GetAngleBetweenV=function(t){return Math.atan2(this.y-t.y,this.x-t.x)},e.prototype.GetDot=function(t,e){return this.x*t+this.y*e},e.prototype.GetDotV=function(t){return this.x*t.x+this.y*t.y},e.prototype.GetCross=function(t,e){return this.x*e+this.y*t},e.prototype.GetCrossV=function(t){return this.x*t.y+this.y*t.x},e.prototype.GetMagnitudeSquared=function(){return this.x*this.x+this.y*this.y},e.prototype.GetMagnitude=function(){return Math.sqrt(this.GetMagnitudeSquared())},e.prototype.GetDistanceV=function(t){var e=this.Copy();return e.SubtractV(t),e.GetMagnitude()},e.prototype.GetDistance=function(t,e){var i=this.Copy();return i.Subtract(t,e),i.GetMagnitude()},e.prototype.GetDistanceSquaredV=function(t){var e=this.Copy();return e.SubtractV(t),e.GetMagnitudeSquared()},e.prototype.GetDistanceSquared=function(t,e){var i=this.Copy();return i.Subtract(t,e),i.GetMagnitudeSquared()},e.prototype.GetLength=e.prototype.GetMagnitude,e.prototype.GetLengthSquared=e.prototype.GetMagnitudeSquared,t.Math.Vector2D=e,t.Vector2D=e}},function(t,e){t.exports=function(t){"use strict";function e(n,o,r,s){if(!(this instanceof e))return new e(n,o,r,s);i.call(this,n,o,r,s),this.style=t.Style.CreateFSSa()}var i=t.Geom.AABB2D;e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.Draw=function(t){var e=this.tl,i=this.br,n=this.style,o=n.fill,r=n.stroke,s=n.shadow;t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,e.y),t.lineTo(i.x,i.y),t.lineTo(e.x,i.y),t.closePath(),!0===s.applied&&s.Apply(t),!0===o.applied&&(o.Apply(t),t.fill()),!0===r.applied&&(r.Apply(t),t.stroke())},t.Path.AABB2D=e}},function(t,e){t.exports=function(t){"use strict";function e(n,o,r){if(!(this instanceof e))return new e;i.call(this,n,o,r),this.style=t.Style.CreateFSSa()}var i=t.Geom.Circle;e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.Draw=function(e){var i=this.position,n=this.style,o=n.fill,r=n.stroke,s=n.shadow;e.beginPath(),e.arc(i.x,i.y,this.radius,0,t.Math.PII,!1),e.closePath(),!0===s.applied&&s.Apply(e),!0===o.applied&&(o.Apply(e),e.fill()),!0===r.applied&&(r.Apply(e),e.stroke())},t.Path.Circle=e}},function(t,e){t.exports=function(t){"use strict";function e(n,o,r,s){if(!(this instanceof e))return new e(n,o,r,s);i.call(this,n,o,r,s),this.style=t.Style.CreateSSa()}var i=t.Geom.Line2D;e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.Draw=function(t){var e=this.s,i=this.e,n=this.style,o=(n.fill,n.stroke),r=n.shadow;t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.closePath(),!0===r.applied&&r.Apply(t),!0===o.applied&&(o.Apply(t),t.stroke())},t.Path.Line2D=e}},function(t,e){t.exports=function(t){"use strict";function e(){if(!(this instanceof e))return new e;i.call(this),this.style=t.Style.CreateFSSa()}var i=t.Geom.Polygon2D;e.prototype=Object.create(i.prototype),e.prototype.constructor=e,e.prototype.Draw=function(t){var e=this.style,i=e.fill,n=e.stroke,o=e.shadow,r=this.vertices,s=r[0];t.beginPath(),t.moveTo(s.x,s.y);for(var h=1,a=r.length;h<a;++h)s=r[h],t.lineTo(s.x,s.y);t.closePath(),!0===o.applied&&o.Apply(t),!0===i.applied&&(i.Apply(t),t.fill()),!0===n.applied&&(n.Apply(t),t.stroke())},t.Path.Polygon2D=e}},function(t,e){t.exports=function(t){"use strict";function e(i){if(!(this instanceof e))return new e(i);this.fillStyle="#440066",this.applied=!0,t.Utils.ApplyProperties(this,i)}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.Apply=function(t){t.fillStyle=this.fillStyle},t.Style.Fill=e}},function(t,e){t.exports=function(t){"use strict";function e(i){if(!(this instanceof e))return new e(i);this.shadowColor="#000000",this.shadowBlur=5,this.shadowOffsetX=5,this.shadowOffsetY=5,this.applied=!1,t.Utils.ApplyProperties(this,i)}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.Apply=function(t){t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY},t.Style.Shadow=e}},function(t,e){t.exports=function(t){"use strict";function e(i){if(!(this instanceof e))return new e(i);this.strokeStyle="#00FF00",this.lineCap=t.Style.LINE_CAP.ROUND,this.lineJoin=t.Style.LINE_JOIN.ROUND,this.lineWidth=1,this.miterLimit=10,this.applied=!0,t.Utils.ApplyProperties(this,i)}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.Apply=function(t){t.strokeStyle=this.strokeStyle,t.lineCap=this.lineCap,t.lineJoin=this.lineJoin,t.lineWidth=this.lineWidth,t.miterLimit=this.miterLimit},t.Style.LINE_CAP={ROUND:"round",BUTT:"butt",SQUARE:"square"},t.Style.LINE_JOIN={BEVEL:"bevel",ROUND:"round",MITER:"miter"},t.Style.Stroke=e}},function(t,e){t.exports=function(t){"use strict";t.Style.CreateAll=function(){return{fill:new t.Style.Fill,stroke:new t.Style.Stroke,shadow:new t.Style.Shadow,text:new t.Style.Text}},t.Style.CreateFSSa=function(){return{fill:new t.Style.Fill,stroke:new t.Style.Stroke,shadow:new t.Style.Shadow}},t.Style.CreateSSa=function(){return{stroke:new t.Style.Stroke,shadow:new t.Style.Shadow}},t.Style.CreateFSa=function(){return{fill:new t.Style.Fill,shadow:new t.Style.Shadow}},t.Style.CreateSaT=function(){return{shadow:new t.Style.Shadow,text:new t.Style.Text}}}},function(t,e){t.exports=function(t){"use strict";function e(i){if(!(this instanceof e))return new e(i);this.fillStyle="#000000",this.strokeStyle="#FFFFFF",this.font="22px Arial",this.textAlign=t.Style.TEXT_ALIGN.LEFT,this.textBaseline=t.Style.TEXT_BASELINE.TOP,this.applied=!0,t.Utils.ApplyProperties(this,i)}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.Apply=function(t){t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.font=this.font,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline},t.Style.TEXT_ALIGN={START:"start",END:"end",CENTER:"center",LEFT:"left",RIGHT:"right"},t.Style.TEXT_BASELINE={ALPHABETIC:"alphabetic",TOP:"top",HANGING:"hanging",MIDDLE:"middle",IDEOGRAPHIC:"ideographic",BOTTOM:"bottom"},t.Style.Text=e}},,,,,,,function(t,e){t.exports=function(){"use strict";function t(e,i,n){if(!(this instanceof t))return new t(e,i,n);if("function"!=typeof e)throw new Error("A onProcess function is required!");this.intervalId=null,this.delta=0,this.then=0,this.now=0,this.desiredRate=0,this.SetDesiredRate(i),this.supplyDelta=!0,this.onProcess=e,void 0===n&&this.Start()}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.Process=function(){this.ComputeDelta(),this.onProcess(this.delta)},t.prototype.ComputeDelta=function(){this.now=(new Date).getTime(),this.delta=this.now-this.then,this.then=this.now},t.prototype.GetTPS=function(){return nk.Math.PR(1/this.delta*1e3,2)},t.prototype.SetDesiredRate=function(t){this.desiredRate=void 0===t?16.66:1e3/t},t.prototype.Start=function(t){null!==this.intervalId?!0===t?(this.Stop(),this.intervalId=setInterval(this.Process,this.desiredRate)):console.warn("Ticker already running!"):this.intervalId=setInterval(this.Process.bind(this),this.desiredRate)},t.prototype.Stop=function(){clearInterval(this.intervalId),this.intervalId=null},nk.Time.Ticker=t,nk.Ticker=t}},function(t,e){t.exports=function(){"use strict";function t(e){if(!(this instanceof t))return new t(e);this.time=0,this.stopTime=Math.round(void 0===e?null:e),this.isRunning=!1,this.onStop=new nk.LocalEvent,this.onStart=new nk.LocalEvent,this.onReset=new nk.LocalEvent,this.count=0}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.Reset=function(t){this.onReset.Dispatch(this,null),this.count=0},t.prototype.Start=function(t){this.stopTime=Math.round(void 0===t?this.stopTime:t),this.stopTime<=0||(this.time=0,this.isRunning=!0,this.onStart.Dispatch(this,{stopTime:this.stopTime}))},t.prototype.Process=function(){this.time<this.stopTime&&!0===this.isRunning&&++this.time>=this.stopTime&&(this.isRunning=!1,this.count++,this.onStop.Dispatch(this,null))},nk.Time.Timer=t,nk.Timer=t}},function(t,e){t.exports=function(t){"use strict";function e(t,i,n,o){if(!(this instanceof e))return new e(t,i,n,o);this.channel=[void 0===t?0:t,void 0===i?0:i,void 0===n?0:n,void 0===o?1:o],this.value="",this.currentConversion="",this.ComputeValueRGBA()}var i=t.Utils.B16ToB10;e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.Copy=function(){var t=new e(this.channel[0],this.channel[1],this.channel[2],this.channel[3]);return t.value=this.value,t.currentConversion=this.currentConversion,t},e.prototype.ComputeValueRGBA=function(){this.value="rgba(".concat(this.channel.join(",").concat(")"))},e.prototype.ComputeValueHSLA=function(){this.value="hsla("+this.channel[0]+","+this.channel[1]+"%,"+this.channel[2]+"%,"+this.channel[3]+")"},e.prototype.ConvertToHSLA=function(t){var e=this.channel[0]/255,i=this.channel[1]/255,n=this.channel[2]/255,o=Math.max(e,i,n),r=Math.min(e,i,n),s=o-r,h=o+r,a=0,c=0,p=.5*h;o!==r&&(c=p>.5?s/(2-o-r):s/(o+r),a=o===e?(i-n)/s+(i<n?6:0):o===i?(n-e)/s+2:(e-i)/s+4,a/=6),this.channel[0]=360*a,this.channel[1]=100*c,this.channel[2]=100*p,!0===t&&(this.channel[0]=Math.round(this.channel[0]),this.channel[1]=Math.round(this.channel[1]),this.channel[2]=Math.round(this.channel[2])),this.currentConversion="hsl",this.ComputeValueHSLA()},e.prototype.SetRGB=function(e,i,n){var o=t.Utils.Clamp;this.channel[0]=o(e,0,255),this.channel[1]=o(i,0,255),this.channel[2]=o(n,0,255),this.currentConversion="rgb",this.ComputeValueRGBA()},e.prototype.SetHex=function(t){t=t.replace(/#/g,"");var e=t.match(/.{2}/g);e=e.map(i),this.SetRGB(e[0],e[1],e[2])},e.prototype.IncreaseChannel=function(t,e){this.channel[t]+=e,"rgb"===this.currentConversion?this.ComputeValueRGBA():"hsl"===this.currentConversion&&this.ComputeValueHSLA()},t.Color=e}},function(t,e){t.exports=function(t){"use strict";t.Utils.RandomInteger=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.Utils.RandomFloat=function(t,e){return Math.random()*(e-t)+t},t.Utils.IsInteger=function(t){return Number(t)===t&&t%1==0},t.Utils.IsFloat=function(t){return Number(t)===t&&t%1!=0},t.Utils.Clamp=function(t,e,i){return t<e?e:t>i?i:t},t.Utils.InverseClamp=function(t,e,i){return t<e?i:t>i?e:t},t.Utils.IntegerNotation=function(t,e,i){var n=t%e,o=t/e;return Math.ceil(0===n?o+1:o)+i+(1+n)},t.Utils.UUID=function(e,i,n,o){e=void 0===e?32:e,i=void 0===i?4:i,n=void 0===n?0:n,o=void 0===o?"-":o;for(var r,s,h="",a=0,c=Math.floor(e/i),p=t.Utils.CharacterSets[n];a<e;++a)r=a/c,0!==r&&Number.isInteger(r)?h+=o:(s=t.Utils.RandomInteger(1,p.length-1),h+=p.charAt(s));return h},t.Utils.CharacterSets=["0123456789ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz","0123456789ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz!?#$%@","0123456789","ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz","ABCDEFGHJIKLMNOPQRSTUWVXYZ","abcdefghijklmnopqrstuwvxyz"],t.Utils.ApplyProperties=function(t,e){if(void 0!==e){var i;for(i in e)void 0!==t[i]&&(t[i]=e[i])}},t.Utils.NestedStringAccess=function(e,i,n,o){"string"==typeof i&&(i=i.split("."));var r;if(i.length>1)r=i.shift(),void 0!==e[r]&&t.Utils.NestedStringAccess(e[r],i,n,o);else if(r=i.shift(),void 0!==e[r]){if(!0!==n)return e[r];e[r]=o}},t.Utils.ArrayGetRandom=function(t,e){for(var i=[],n={},o=t.length,r=0,s=e;r<s;++r){var h=Math.floor(Math.random()*o);void 0===n[h]?(n[h]=null,i.push(t[h])):r--}return i},t.Utils.ArrayRemove=function(t,e){var i=t.indexOf(e);return-1!==i?t.splice(i,1)[0]:null},t.Utils.ArrayInsert=function(t,e,i){t.splice(i,0,e)},t.Utils.Cipher={},t.Utils.Decipher={},t.Utils.Cipher.CCH1=function(e,i){var n=[];i=void 0===i?1:i;for(var o,r,s=0,h=e.split(""),a=h.length;s<a;++s)o=h[s],o=(o.charCodeAt(0)+i).toString(2),r=t.Utils.RandomInteger(1,9),n.push(r+"x"+o.replace(/1/g,r));return n.join(" ")},t.Utils.Decipher.CCH1=function(t,e){var i=[];e=void 0===e?1:e;for(var n,o=0,r=t.split(" "),s=r.length;o<s;++o)n=r[o],n=n.slice(2-n.length),i.push(String.fromCharCode(parseInt(n.replace(/[2-9]/g,"1"),2)-e));return i.join("")}}},function(t,e,i){t.exports=i(0)}]);