!function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./",e(e.s=50)}([function(t,e,o){(function(t){var e=t.nk=t.Nenkraft={};o(4)(e),o(49)(e),o(48)(e),o(31)(e),o(32)(e),o(33)(e),o(35)(e),o(34)(e),o(15)(e),o(14)(e),o(46)(e),o(47)(e),o(26)(e),o(25)(e),o(24)(e),o(23)(e),o(18)(e),o(16)(e),o(19)(e),o(17)(e),o(21)(e),o(20)(e),o(8)(e),o(29)(e),o(27)(e),o(30)(e),o(28)(e),o(9)(e),o(12)(e),o(10)(e),o(13)(e),o(11)(e),o(6)(e),o(5)(e),o(7)(e),o(22)(e)}).call(e,o(3))},,,function(t,e){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(o=window)}t.exports=o},function(t,e){t.exports=function(t){t.Geom={},t.Style={},t.Debug={Draw:{}},t.Math={},t.Utils={},t.Entity={},t.Path={},t.Event={},t.Time={},t.Input={},t.CP={},t.Load={},t.VERSION="0.0.5 (Omega)",console.log("%cnenkraft %cversion %c"+t.VERSION,"color:cyan;background-color:black;font-family:Arial;font-size:16px;font-weight:900;","color:magenta;background-color:black;font-family:Arial;font-size:16px;","color:yellow;background-color:black;font-family:Arial;font-size:18px;")}},function(t,e){t.exports=function(){"use strict";function t(e,o,i,n,r){if(!(this instanceof t))return new t(e,o,i,n,r);this.id=e.split(" "),this.handle=o,this.info=i,this.data={},void 0!==r&&(this.optionPrefix=r),void 0!==n&&(this.continueToPrime=n)}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.dataSeparator="=",t.prototype.options=null,t.prototype.allOptionIds=null,t.prototype.fullInfo=null,t.prototype.optionPrefix=null,t.prototype.continueToPrime=!0,t.prototype.Execute=function(t,e){this.HandleData(t,e),!0===this.HandleOptions(t,e)&&this.handle(t,e)},t.prototype.AddOption=function(t,e,o,i,n,r){r=void 0===r?this.optionPrefix:r,null!==r&&(t=t.replace(/\S+/g,r+"$&")),null===this.options&&(this.options=[]),i=void 0===i?0:i;var s=new nk.CP.Option(t,e,o,i,n);s.command=this;for(var a,c=0,p=this.options,h=p.length;c<h;++c)if(a=p[c],a.priority<=i)return nk.Utils.ArrayInsert(p,s,c),this.allOptionIds=this.GetAllOptionIds(),this;return this.options.push(s),this.allOptionIds=this.GetAllOptionIds(),this},t.prototype.HandleData=function(t,e){for(var o,i,n=t.slice(),r=0,s=n.length,a=this.dataSeparator;r<s;++r)o=n[r],i=o.split(a),2===i.length&&(t.splice(r,1),e[i[0]]=i[1])},t.prototype.HandleOptions=function(t,e){if(0===t.length)return this.continueToPrime;var o=this.GetAndRemoveMatchingOptionIds(t);if(null===o)return this.continueToPrime;for(var i,n=0,r=o.length;n<r;++n)if(i=this.GetOptionById(o[n]),!0===i.Execute(t,e))return!1;return this.continueToPrime},t.prototype.GetOptionById=function(t){for(var e,o=0,i=this.options,n=i.length;o<n;++o)if(e=i[o],-1!==e.id.indexOf(t))return e;return null},t.prototype.GetAllOptionIds=function(){for(var t=[],e=0,o=this.options,i=o.length;e<i;++e)t=t.concat(o[e].id);return t},t.prototype.GetAndRemoveMatchingOptionIds=function(t){var e=this.allOptionIds;if(null===e)return null;for(var o=[],i=0,n=e.length;i<n;++i){var r=t.indexOf(e[i]);-1!==r&&o.push(t.splice(r,1)[0])}return o},t.prototype.GenerateInfoString=function(){for(var t,e="COMMAND: "+this.id.join(", ")+" -> "+this.info+"\n",o=0,i=this.options,n=i.length;o<n;++o)t=i[o],e+="OPTION: "+t.id.join(", ")+" -> "+t.info+"\n";return e},nk.CP.Command=t}},function(t,e){t.exports=function(){"use strict";function t(e,o,i,n,r){if(!(this instanceof t))return new t(e,o,i,n,r);this.id=e.split(" "),this.handle=o,this.info=i,void 0!==n&&(this.priority=n),void 0!==r&&(this.breakIfExecuted=r),this.data={}}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.command=null,t.prototype.priority=0,t.prototype.breakIfExecuted=!1,t.prototype.Execute=function(t,e){return this.handle(t,e),this.breakIfExecuted},nk.CP.Option=t}},function(t,e){t.exports=function(){"use strict";function t(e){if(!(this instanceof t))return new t(e);this.commands=[]}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.splitter=" ",t.prototype.Add=function(t){this.commands.push(t)},t.prototype.Get=function(t){for(var e,o=0,i=this.commands,n=i.length;o<n;++o)if(e=this.commands[o])for(var r=0,s=e.id.length;r<s;++r)if(e.id[r]===t)return e;return null},t.prototype.Parse=function(t){var e=String(t).split(this.splitter),o=e.shift(),i=this.Get(o);return i?(i.Execute(e,{}),null):o},nk.CP.Register=t}},function(t,e){t.exports=function(t){"use strict";t.Math.PII;t.Debug.BOUNDS_STYLE=null,t.Debug.Draw.Polygon2D=function(){},t.Debug.Draw.AABB2D=function(){},t.Debug.Draw.Circle=function(){},t.Debug.Draw.Text=function(){}}},function(t,e){t.exports=function(t){"use strict";function e(o,i){if(!(this instanceof e))return new Container(o,i);this.position=new t.Vector2D(o,i),this.scale=new t.Vector2D(1,1),this.children=[],this.data={}}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.render=!0,e.prototype.rotation=0,e.prototype.parent=null,e.prototype.Draw=function(t){!0===this.render&&(t.save(),t.translate(this.position.x,this.position.y),t.rotate(this.rotation),t.scale(this.scale.x,this.scale.y),this.DrawChildren(t),t.restore())},e.prototype.DrawChildren=function(t){for(var e,o=0,i=this.children,n=i.length;o<n;++o)e=i[o],e.Draw&&e.Draw(t)},e.prototype.AddChild=function(t){var e=t.parent;null!==e&&e.RemoveChild(t),this.children.push(t),t.parent=this},e.prototype.AddChildren=function(){for(var t,e,o=0,i=arguments.length;o<i;++o)t=arguments[o],e=t.parent,null!==e&&e.RemoveChild(t),this.children.push(t),t.parent=this},e.prototype.RemoveChild=function(t){var e=this.children,o=e.indexOf(t);-1!==o&&(e.splice(o,1),t.parent=null)},e.prototype.RemoveChildren=function(){for(var t,e,o=this.children,i=0,n=arguments.length;i<n;++i)t=arguments[i],t.parent,-1!==(e=o.indexOf(t))&&(o.splice(e,1),t.parent=this)},e.prototype.SendToFront=function(){if(null!==this.parent){var t=this.parent.children,e=t.indexOf(this);-1!==e&&t.push(t.splice(e,1)[0])}},e.prototype.SendToBack=function(){if(null!==this.parent){var t=this.parent.children,e=t.indexOf(this);-1!==e&&t.splice(0,0,t.splice(e,1)[0])}},e.prototype.Dump=function(){this.children.length=0},t.Entity.Container2D=e,t.Container2D=e,Object.defineProperty(e.prototype,"x",{set:function(t){this.position.x=t},get:function(){return this.position.x}}),Object.defineProperty(e.prototype,"y",{set:function(t){this.position.y=t},get:function(){return this.position.y}})}},function(t,e){t.exports=function(t){"use strict";function e(i,n,r){if(!(this instanceof e))return new e(i,n,r);o.call(this,i,n),this.anchor=new t.Vector2D,void 0!==r&&(void 0!==r.w&&(this.w=r.w),void 0!==r.h&&(this.h=r.h),void 0!==r.diameter&&(this.w=this.h=r.diameter),this.path=r)}var o=t.Entity.Container2D;e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.prototype.w=0,e.prototype.h=0,e.prototype.path=null,e.prototype.visible=!0,e.prototype.Draw=function(t){if(!0===this.render){var e=this.position,o=this.scale,i=this.anchor,n=this.path;t.save(),t.translate(e.x-this.w*i.x,e.y-this.h*i.y),t.rotate(this.rotation),t.scale(o.x,o.y),n&&n.Draw&&!0===this.visible&&n.Draw(t),this.DrawChildren(t),t.restore()}},e.prototype.IntersectsPoint=function(t){var e=t.SubtractVC(this.position);return this.path.IntersectsPoint(e,this.anchor,this.w,this.h)},t.Entity.Graphic2D=e,t.Graphic2D=e}},function(t,e){t.exports=function(t){"use strict";function e(i,n,r){if(!(this instanceof e))return new e(i,n,r);if(o.call(this,i,n),this.anchor=new t.Vector2D,void 0===r)throw new Error("Please provide a texture");this.texture=r,this.w=r.naturalWidth,this.h=r.naturalHeight,this.clip=new t.Geom.AABB2D(0,0,this.w,this.h),this.shape=new t.Geom.AABB2D(0,0,this.w,this.h)}var o=t.Entity.Container2D;e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.prototype.w=0,e.prototype.h=0,e.prototype.texture=null,e.prototype.visible=!0,e.prototype.Draw=function(t){if(!0===this.render){var e=this.position,o=this.scale,i=this.anchor,n=(this.path,this.clip),r=this.w,s=this.h;t.save(),t.translate(e.x-r*i.x,e.y-s*i.y),t.rotate(this.rotation),t.scale(o.x,o.y),t.drawImage(this.texture,n.tl.x,n.tl.y,n.br.x,n.br.y,0,0,r,s),this.DrawChildren(t),t.restore()}},e.prototype.IntersectsPoint=function(t){var e=t.SubtractVC(this.position);return this.shape.IntersectsPoint(e,this.anchor,this.w,this.h)},t.Entity.Sprite=e,t.Sprite=e}},function(t,e){t.exports=function(){"use strict";function t(o,i,n,r){if(!(this instanceof t))return new t(o,i,n,r);e.call(this,i,n),this.canvas=o,this.rc=o.getContext("2d"),this.w=o.width,this.h=o.height,this.ticker=new nk.Time.Ticker(this.Process.bind(this),60,r),this.onProcess=new nk.Event.LocalEvent,this.mouse=new nk.Input.Mouse(o,i,n)}var e=nk.Entity.Container2D;t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.backgroundColor="rgba(0,0,0,1)",t.prototype.PreDraw=function(t){t.fillStyle=this.backgroundColor,t.fillRect(0,0,this.w,this.h)},t.prototype.Process=function(t){var e=this.rc;this.PreDraw(e),this.Draw(e),this.onProcess.Dispatch(this,t)},nk.Entity.Stage2D=t,nk.Stage2D=t}},function(t,e){t.exports=function(t){"use strict";function e(i,n,r){if(!(this instanceof e))return new e(i,n);o.call(this,i,n),void 0!==r&&(this.text=r),this.style=t.Style.CreateSaT()}var o=t.Entity.Container2D;e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.prototype.text="",e.prototype.visible=!0,e.prototype.maxWidth=void 0,e.prototype.Draw=function(t){if(!0===this.render){var e=this.position,o=this.scale,i=this.style;t.save(),t.translate(e.x,e.y),t.rotate(this.rotation),t.scale(o.x,o.y),!0===this.visible&&(!0===i.shadow.applied&&i.shadow.Apply(t),!0===i.text.applied&&(i.text.Apply(t),t.fillText(this.text,0,0,this.maxWidth),t.strokeText(this.text,0,0,this.maxWidth))),this.DrawChildren(t),t.restore()}},e.prototype.IntersectsPoint=function(t){return!1},t.Entity.Text=e,t.Text=e}},function(t,e){t.exports=function(){"use strict";function t(){if(!(this instanceof t))return new t;this.listeners=[]}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.stopPropagation=!1,t.prototype.target=null,t.prototype.data=null,t.prototype.GetListenerIndex=function(t,e){var o=this.listeners;if(0===o.length)return-1;for(var i,n=0,r=o.length;n<r;++n)if(i=o[n],i.context===e&&i.handle===t)return n;return-1},t.prototype.Add=function(t,e,o){var i=new nk.LocalListener(this,e,t,o);this.listeners.push(i)},t.prototype.Remove=function(t,e){var o=this.GetListenerIndex(t,e);-1!==o&&this.listeners.splice(o,1)},t.prototype.Dump=function(t){var e=this.listeners;if(0===e.length)return-1;if(void 0!==t)for(var o,i=0,n=e.length;i<n;++i)o=e[i],o.context===t&&this.listeners.splice(i,1);else this.listeners.length=0},t.prototype.Dispatch=function(t,e){var o=this.listeners;if(0!==o.length){o=o.slice(),this.stopPropagation=!1,this.target=t,this.data=e;for(var i,n=0,r=o.length;n<r&&(i=o[n],i.Execute(this),!0!==this.stopPropagation);++n);delete this.target,delete this.data}},nk.Event.LocalEvent=t,nk.LocalEvent=t}},function(t,e){t.exports=function(){"use strict";function t(e,o,i,n){if(!(this instanceof t))return new t(e,_listenerContex,i,n);this.context=o,this.holderContext=e,this.handle=i,this.removeOnNextCall=n}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.Execute=function(){this.handle.apply(this.context,arguments),!0===this.removeOnNextCall&&this.Remove()},t.prototype.Remove=function(){this.holderContext.Remove(this.handle,this.context)},nk.Event.LocalListener=t,nk.LocalListener=t}},function(t,e){t.exports=function(t){"use strict";function e(o,i,n,r){if(!(this instanceof e))return new e(o,i,n,r);o instanceof t.Vector2D&&i instanceof t.Vector2D?(this.tl=o,this.br=i):void 0!==o&&void 0!==i&&void 0!==o.x&&void 0!==o.y&&void 0!==i.x&&void 0!==i.y?(this.tl=new t.Vector2D(o.x,o.y),this.br=new t.Vector2D(i.x,i.y)):void 0!==o&&void 0!==i&&void 0!==n&&void 0!==r?(this.tl=new t.Vector2D(o,i),this.br=new t.Vector2D(n,r)):(this.tl=new t.Vector2D,this.br=new t.Vector2D),this.CalculateWH()}e.prototype=Object.create(null),e.prototype.constructor=e,e.TYPE=1,e.prototype.TYPE=e.TYPE,e.prototype.w=0,e.prototype.h=0,e.prototype.Set=function(t,e,o,i){this.tl.x=t,this.tl.y=e,this.br.x=o,this.br.y=i,this.CalculateWH()},e.prototype.CalculateWH=function(){this.w=this.br.x-this.tl.x,this.h=this.br.y-this.tl.y},e.prototype.IntersectsPoint=function(t,e,o,i){return void 0!==e&&(0!==e.x&&(t.x+=e.x*o),0!==e.y&&(t.y+=e.y*i)),!(t.x<this.tl.x||t.x>this.br.x||t.y<this.tl.y||t.y>this.br.y)},e.prototype.ContainsPoint=function(t,e,o,i){return void 0!==e&&(0!==e.x&&(t.x+=e.x*o),0!==e.y&&(t.y+=e.y*i)),t.x>this.tl.x&&t.x<this.br.x&&t.y>this.tl.y&&t.y<this.br.y},t.Geom.AABB2D=e}},function(t,e){t.exports=function(t){"use strict";function e(o,i,n){if(!(this instanceof e))return new e(o,i,n);this.center=new t.Vector2D(o,i),this.radius=void 0===n?32:n}e.prototype=Object.create(null),e.prototype.constructor=e,e.TYPE=2,e.prototype.TYPE=e.TYPE,e.prototype.diameter=0,e.prototype.radiusSquared=0,e.prototype.radiusUnsquared=0,e.prototype.IntersectsPoint=function(t,e,o,i){return void 0!==e&&(0!==e.x&&(t.x+=e.x*o),0!==e.y&&(t.y+=e.y*i)),this.radiusSquared>=this.center.GetDistanceSquaredV(t)},t.Geom.Circle=e,Object.defineProperty(e.prototype,"x",{set:function(t){this.center.x=t},get:function(){return this.center.x}}),Object.defineProperty(e.prototype,"y",{set:function(t){this.center.y=t},get:function(){return this.center.y}}),Object.defineProperty(e.prototype,"radius",{set:function(t){this.radiusUnsquared=t,this.radiusSquared=t*t,this.diameter=2*t},get:function(){return this.radiusUnsquared}})}},function(t,e){t.exports=function(t){"use strict";function e(o,i,n,r){if(!(this instanceof e))return new e(o,i,n,r);void 0!==o&&o.x&&o.y&&void 0!==i&&i.x&&i.y?(this.s=o,this.e=i):void 0!==o&&void 0!==i&&void 0!==n&&void 0!==r?(this.s=new t.Vector2D(o,i),this.e=new t.Vector2D(n,r)):(this.s=new t.Vector2D,this.e=new t.Vector2D)}e.prototype=Object.create(null),e.prototype.constructor=e,e.TYPE=0,e.prototype.TYPE=e.TYPE,e.prototype.Stretch=function(t){var e=.5*t;this.s.PushFromV(this.e,e),this.e.PushFromV(this.s,e)},e.prototype.Rotate=function(t,e,o){var i=this.s.Copy();i.AddV(this.e),i.Multiply(e,void 0===o?e:o),this.s.RotateAroundV(i,t),this.e.RotateAroundV(i,t)},e.prototype.IntersectsPoint=function(){return!1},t.Geom.Line2D=e}},function(t,e){t.exports=function(t){"use strict";function e(){if(!(this instanceof e))return new e;this.vertices=[]}e.prototype=Object.create(null),e.prototype.constructor=e,e.TYPE=3,e.Construct={},e.Construct.Rectangular=function(e,o,i,n,r){var s=new t.Vector2D(o,i),a=new t.Vector2D(o+n,i),c=new t.Vector2D(o+n,i+r),p=new t.Vector2D(o,i+r);e.Recreate([s,a,c,p]),e.ComputeBounds()},e.Construct.Triangular=function(e,o,i,n,r){var s=new t.Vector2D(o,i),a=new t.Vector2D(o+.5*n,i+r),c=new t.Vector2D(o-.5*n,i+r);e.Recreate([s,a,c]),e.ComputeBounds()},e.Construct.Circlic=function(e,o,i,n,r){e.Recreate([]);var s,a,c,p=0,h=r,u=2*Math.PI/h;for(p;p<h;++p)c=u*p,s=Math.cos(c)*n,a=Math.sin(c)*n,e.AddPoint(new t.Vector2D(o+s,i+a));e.ComputeBounds()},e.Construct.Star=function(e,o,i,n,r,s){e.Recreate([]);var a,c,p,h,u=0,l=2*s,y=2*Math.PI/l;for(u;u<l;++u)h=0==(1&u)?n:r,p=y*u,a=Math.cos(p)*h,c=Math.sin(p)*h,e.AddPoint(new t.Vector2D(o+a,i+c));e.ComputeBounds()},e.Construct.Butterfly=function(o,i,n,r,s){o.Recreate([]);var a,c,p,h=0,u=e.Construct.Butterfly.C;for(h;h<r;++h)p=h*u._1*Math.PI/r,a=Math.cos(p)*(Math.exp(Math.cos(p))-u._2*Math.cos(u._3*p)-Math.pow(Math.sin(p/u._4),u._5))*s,c=Math.sin(p)*(Math.exp(Math.cos(p))-u._2*Math.cos(u._3*p)-Math.pow(Math.sin(p/u._4),u._5))*s,o.AddPoint(new t.Vector2D(i+a,n+c));o.ComputeBounds()},e.Construct.Butterfly.C={_1:24,_2:2,_3:4,_4:12,_5:5,Reset:function(){this._1=24,this._2=2,this._3=4,this._4=12,this._5=5}},e.Construct.Supershape=function(o,i,n,r,s,a,c,p,h){c=void 0===c?1:c,p=void 0===p?1:p,h=void 0===h?1:h,o.Recreate([]);var u,l,y,f,d,v,x=0,w=s,S=e.Construct.Supershape.C;for(x;x<w;++x)y=x*Math.PI*2/s,d=Math.cos(a*y/4)/S._A,d=Math.abs(d),d=Math.pow(d,p),v=Math.sin(a*y/4)/S._B,v=Math.abs(v),v=Math.pow(v,h),f=Math.pow(d+v,1/c),0===Math.abs(f)?(u=0,l=0):(f=1/f,u=Math.cos(y)*f*r,l=Math.sin(y)*f*r),o.AddPoint(new t.Vector2D(i+u,n+l));o.ComputeBounds()},e.Construct.Supershape.C={_A:1,_B:1},e.prototype.TYPE=e.TYPE,e.prototype.aabb=null,e.prototype.dirtyBounds=!0,e.prototype.AddPoint=function(t){this.vertices.push(t)},e.prototype.AddPoints=function(t){this.vertices=this.vertices.concat(t)},e.prototype.Recreate=function(t){this.vertices=t},e.prototype.ComputeBounds=function(){null===this.aabb&&(this.aabb=new t.Geom.AABB2D);for(var e,o=1/0,i=-1/0,n=1/0,r=-1/0,s=0,a=this.vertices,c=a.length;s<c;++s)e=a[s],e.x<o&&(o=e.x),e.x>i&&(i=e.x),e.y<n&&(n=e.y),e.y>r&&(r=e.y);this.aabb.Set(o,n,i,r),this.dirtyBounds=!1},e.prototype.Rotate=function(t,e,o,i){!0===this.dirtyBounds&&!0===i?this.ComputeBounds():null===this.aabb&&this.ComputeBounds();var n=this.aabb,r=n.tl.Copy();r.AddV(n.br),r.Multiply(e,void 0===o?e:o);var s,a=0,c=this.vertices,p=c.length;for(t=t,a;a<p;++a)s=c[a],s.RotateAroundV(r,t);this.dirtyBounds=!0},e.prototype.IntersectsPoint=function(t){return!0===this.dirtyBounds&&this.ComputeBounds(),!1!==this.aabb.IntersectsPoint(t)},t.Geom.Polygon2D=e}},function(t,e){t.exports=function(){"use strict";function t(e){if(!(this instanceof t))return new t(e);this.element=e}t.prototype=Object.create(null),t.prototype.constructor=t,nk.Input.Keyboard=t}},function(t,e){t.exports=function(){"use strict";function t(e,o,i){if(!(this instanceof t))return new t(e,o,i);this.element=e,this.position=new nk.Vector2D,this.scale=new nk.Vector2D(1,1),this.anchor=new nk.Vector2D,this.offset=new nk.Vector2D(o,i),this.element.addEventListener("mousemove",this.OnMove.bind(this)),this.element.addEventListener("mousedown",this.OnDown.bind(this)),this.element.addEventListener("mouseup",this.OnUp.bind(this)),this.element.addEventListener("mouseleave",this.OnLeave.bind(this)),this.onMove=new nk.Event.LocalEvent,this.onDown=new nk.Event.LocalEvent,this.onUp=new nk.Event.LocalEvent,this.onLeave=new nk.Event.LocalEvent}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.OnMove=function(t){t.preventDefault(),t.stopPropagation();var e=this.element,o=this.position;o.Set(t.pageX,t.pageY),o.Subtract(e.offsetLeft,e.offsetTop),o.SubtractV(this.offset),o.DivideV(this.scale),this.onMove.Dispatch(this,o)},t.prototype.OnDown=function(t){t.preventDefault(),t.stopPropagation(),this.onDown.Dispatch(this,this.position)},t.prototype.OnUp=function(t){t.preventDefault(),t.stopPropagation(),this.onUp.Dispatch(this,this.position)},t.prototype.OnLeave=function(t){t.preventDefault(),t.stopPropagation(),this.onLeave.Dispatch(this,this.position)},nk.Input.Mouse=t,Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x}}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y}})}},function(t,e){t.exports=function(t){"use strict";function e(o){if(!this instanceof e)return new e(o);this.cache=[],this.onTextureLoaded=new t.Event.LocalEvent,this.onComplete=new t.Event.LocalEvent,this.OnLoad=this.OnLoad.bind(this),void 0!==o&&this.Load(o)}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.count=0,e.prototype.loading=!1,e.prototype.toLoad=null,e.prototype.Load=function(t){null===this.toLoad&&(this.toLoad=[]),this.toLoad=this.toLoad.concat(t),!1===this.loading&&(this.count=0,this.loading=!0,this.Haul(this.count))},e.prototype.Haul=function(t){var e=this.toLoad[t];if(void 0!==e){if(null!==this.Get(e.id))throw new Error("Invalid identifier");var o=new Image;o.onload=this.OnLoad,o.src=e.src,o.data={id:e.id}}else this.onComplete.Dispatch(this,{cache:this.cache}),this.count=0,this.loading=!1,this.toLoad=null},e.prototype.OnLoad=function(t){var e={id:t.target.data.id,image:t.target};this.cache.push(e),delete t.target.data,this.onTextureLoaded.Dispatch(e,{count:this.count}),this.Haul(++this.count)},e.prototype.Get=function(t){for(var e,o=0,i=this.cache.length;o<i;++o)if((e=this.cache[o])&&e.id===t)return e.image;return null},t.Load.TextureLoader=e}},function(t,e){t.exports=function(t){"use strict";var e={AABB2DvsAABB2D:{Relative:{}},CirclevsCircle:{Relative:{}}};e.VectorSortMinMag=function(t,e){return t.GetMagnitude()-e.GetMagnitude()},e.AABB2DvsAABB2D.Intersect=function(t,e){var o=t.tl,i=e.tl;return o.x<i.x+t.w&&i.x<o.x+e.w&&o.y<i.y+t.h&&i.y<o.y+e.h},e.AABB2DvsAABB2D.Collide=function(o,i){var n=o.tl,r=i.tl,s=(o.br,i.br,r.x+o.w),a=n.x+i.w,c=r.y+o.h,p=n.y+i.h;if(n.x<s&&r.x<a&&n.y<c&&r.y<p){var h=[new t.Vector2D(n.x-s,0),new t.Vector2D(a-r.x,0),new t.Vector2D(0,n.y-c),new t.Vector2D(0,p-r.y)];return h.sort(e.VectorSortMinMag),h[0]}return null},e.CirclevsCircle.Intersect=function(t,e){var o=t.radius+e.radius;return o*o>=t.center.GetDistanceSquaredV(e.center)},e.CirclevsCircle.Collide=function(e,o){var i=e.radius,n=e.radius,r=i+n,s=e.center.Copy(),a=o.center.Copy(),c=a.SubtractVC(s),p=Math.abs(c.GetMagnitudeSquared());if(r*r>p){var h=Math.sqrt(p),u=(e.radiusSquared-o.radiusSquared+p)/(h+h),l=new t.Vector2D(s.x+c.x*u/h,s.y+c.y*u/h),y=Math.sqrt(o.radiusSquared-u*u)/h,f=-c.y*y,d=c.x*y,v=new t.Vector2D(l.x+f,l.y+d),x=new t.Vector2D(l.x-f,l.y-d),w=s.SubtractVC(a);return w.Divide(r,r),{poc:[l,v,x],mtv:w,delta:c}}return null},e.AABB2DvsAABB2D.Relative.Intersect=function(t,e){var o=t.shape,i=o.w,n=o.h,r=t.anchor,s=e.shape,a=s.w,c=s.h,p=e.anchor,h=o.tl.SubtractVC(t.relative),u=s.tl.SubtractVC(e.relative);return void 0!==r&&(0!==r.x&&(h.x+=r.x*i),0!==r.y&&(h.y+=r.y*n)),void 0!==p&&(0!==p.x&&(u.x+=p.x*a),0!==p.y&&(u.y+=p.y*c)),h.x<u.x+i&&u.x<h.x+a&&h.y<u.y+n&&u.y<h.y+c},e.AABB2DvsAABB2D.Relative.Collide=function(o,i){var n=o.shape,r=n.w,s=n.h,a=o.anchor,c=i.shape,p=c.w,h=c.h,u=i.anchor,l=n.tl.SubtractVC(o.relative),y=c.tl.SubtractVC(i.relative);void 0!==a&&(0!==a.x&&(l.x+=a.x*r),0!==a.y&&(l.y+=a.y*s)),void 0!==u&&(0!==u.x&&(y.x+=u.x*p),0!==u.y&&(y.y+=u.y*h));var f=y.x+r,d=l.x+p,v=y.y+s,x=l.y+h;if(l.x<f&&y.x<d&&l.y<v&&y.y<x){var w=[new t.Vector2D(l.x-f,0),new t.Vector2D(d-y.x,0),new t.Vector2D(0,l.y-v),new t.Vector2D(0,x-y.y)];return w.sort(e.VectorSortMinMag),w[0]}return null},e.CirclevsCircle.Relative.Intersect=function(t,e){var o=t.shape,i=e.shape,n=o.radius+i.radius,r=t.anchor,s=e.anchor,a=t.relative.Copy(),c=e.relative.Copy();return void 0!==r&&(0!==r.x&&(a.x-=r.x*o.diameter),0!==r.y&&(a.y-=r.y*o.diameter)),void 0!==s&&(0!==s.x&&(c.x-=s.x*i.diameter),0!==s.y&&(c.y-=s.y*i.diameter)),n*n>=a.GetDistanceSquaredV(c)},e.CirclevsCircle.Relative.Collide=function(e,o){var i=e.shape,n=o.shape,r=i.radius,s=n.radius,a=r+s,c=e.anchor,p=o.anchor,h=e.relative.Copy(),u=o.relative.Copy();void 0!==c&&(0!==c.x&&(h.x+=c.x*i.diameter),0!==c.y&&(h.y+=c.y*i.diameter)),void 0!==p&&(0!==p.x&&(u.x+=p.x*n.diameter),0!==p.y&&(u.y+=p.y*n.diameter));var l=u.SubtractVC(h),y=Math.abs(l.GetMagnitudeSquared());if(a*a>y){var f=Math.sqrt(y),d=(i.radiusSquared-n.radiusSquared+y)/(f+f),v=new t.Vector2D(h.x+l.x*d/f,h.y+l.y*d/f),x=Math.sqrt(i.radiusSquared-d*d)/f,w=-l.y*x,S=l.x*x,D=new t.Vector2D(v.x+w,v.y+S),C=new t.Vector2D(v.x-w,v.y-S),m=h.SubtractVC(u);return m.Divide(a,a),{poc:[v,D,C],mtv:m,delta:l}}return null},e.CirclevsCircle.Relative.ElasticResponse=function(t,e,o){var i=o.delta.Copy();i.Normalize();var n=t.mass,r=e.mass,s=t.velocity,a=e.velocity,c=s.GetDotV(i),p=a.GetDotV(i),h=2*(c-p)/(n+r);s.Set(s.x-h*r*i.x,s.y-h*r*i.y),a.Set(a.x+h*n*i.x,a.y+h*n*i.y),t.relative.AddV(s),e.relative.AddV(a)},t.Math.Collision2D=e}},function(t,e){t.exports=function(t){"use strict";t.Math.PII=2*Math.PI,t.Math.DEGREES_TO_RADIANS=Math.PI/180,t.Math.RADIANS_TO_DEGREES=180/Math.PI,t.Math.DegreesToRadians=function(e){return e*t.Math.DEGREES_TO_RADIANS},t.Math.DTR=t.Math.DegreesToRadians,t.Math.RadiansToDegrees=function(e){return e*t.Math.RADIANS_TO_DEGREES},t.Math.RTD=t.Math.RadiansToDegrees,t.Math.PrecisionRound=function(t,e){var o=Math.pow(10,e);return Math.round(o*t)/o},t.Math.PR=t.Math.PrecisionRound,t.Math.Spread=function(t,e,o,i){return t-o*(e-1)*.5+i*o},Object.defineProperty(t.Math,"PII",{writable:!1}),Object.defineProperty(t.Math,"DEGREES_TO_RADIANS",{writable:!1}),Object.defineProperty(t.Math,"RADIANS_TO_DEGREES",{writable:!1})}},function(t,e){t.exports=function(){"use strict";function t(o,i,n,r,s,a){if(!(this instanceof t))return new t(o,i,n,r,s,a);e.call(this,o,i),this.floor=new nk.Vector2D(n,r),this.ceil=new nk.Vector2D(s,a)}var e=nk.Vector2D;t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.invert=!1,t.prototype.Copy=function(){var e=new t(this.x,this.y,this.floor.x,this.floor.y,this.ceil.x,this.ceil.y);return e.invert=this.invert,e},t.prototype.Limit=function(){var t=!1===this.invert?nk.Utils.Clamp:nk.Utils.InverseClamp,e=this.floor,o=this.ceil;this.x=t(this.x,e.x,o.x),this.y=t(this.y,e.y,o.y)},nk.Math.LimitVector2D=t,nk.LimitVector2D=t}},function(t,e){t.exports=function(t){"use strict";function e(t,o){if(!(this instanceof e))return new e(t,o);void 0!==t&&void 0!==t.x&&void 0!==t.y?(this.x=t.x,this.y=t.y):void 0!==t&&(void 0===o?(this.x=t,this.y=t):(this.x=t,this.y=o))}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.x=0,e.prototype.y=0,e.prototype.Copy=function(){return new e(this)},e.prototype.SetV=function(t){this.x=t.x,this.y=t.y},e.prototype.Set=function(t,e){void 0!==t&&void 0===e?(this.x=t,this.y=t):(this.x=t,this.y=e)},e.prototype.Is0=function(){return 0===this.x&&0===this.y},e.prototype.AddV=function(t){this.x+=t.x,this.y+=t.y},e.prototype.AddVC=function(t){var e=this.Copy();return e.AddV(t),e},e.prototype.Add=function(t,e){this.x+=t,this.y+=e},e.prototype.SubtractV=function(t){this.x-=t.x,this.y-=t.y},e.prototype.SubtractVC=function(t){var e=this.Copy();return e.SubtractV(t),e},e.prototype.Subtract=function(t,e){this.x-=t,this.y-=e},e.prototype.MultiplyV=function(t){this.x*=t.x,this.y*=t.y},e.prototype.MultiplyVC=function(t){var e=this.Copy();return e.MultiplyV(t),e},e.prototype.Multiply=function(t,e){this.x*=t,this.y*=e},e.prototype.DivideV=function(t){this.x/=t.x,this.y/=t.y},e.prototype.DivideVC=function(t){var e=this.Copy();return e.DivideV(t),e},e.prototype.Divide=function(t,e){this.x/=t,this.y/=e},e.prototype.Normalize=function(){var t=this.GetMagnitude();this.Divide(t,t)},e.prototype.Positive=function(){this.x=Math.abs(this.x),this.y=Math.abs(this.y)},e.prototype.Negative=function(){this.x=-Math.abs(this.x),this.y=-Math.abs(this.y)},e.prototype.Invert=function(){this.x=-1*this.x,this.y=-1*this.y},e.prototype.Rotate=function(t){var e=Math.sin(t),o=Math.cos(t),i=this.x,n=this.y;this.x=i*o-n*e,this.y=i*e+n*o},e.prototype.RotateAroundV=function(t,e){this.SubtractV(t),this.Rotate(e),this.AddV(t)},e.prototype.RotateAround=function(t,e,o){this.Subtract(t,e),this.Rotate(o),this.Add(t,e)},e.prototype.PushFromV=function(t,e){var o=this.Copy();o.SubtractV(t),o.Normalize(),o.Multiply(e,e),this.AddV(o)},e.prototype.PushFrom=function(t,e,o){var i=this.Copy();i.Subtract(t,e),i.Normalize(),i.Multiply(o,o),this.AddV(i)},e.prototype.GetAngle=function(){return Math.atan2(this.y,this.x)},e.prototype.GetAngleBetween=function(t,e){return Math.atan2(this.y-e,this.x-t)},e.prototype.GetAngleBetweenV=function(t){return Math.atan2(this.y-t.y,this.x-t.x)},e.prototype.GetDotV=function(t){return this.x*t.x+this.y*t.y},e.prototype.GetDot=function(t,e){return this.x*t+this.y*e},e.prototype.GetCrossV=function(t){return this.x*t.y+this.y*t.x},e.prototype.GetCross=function(t,e){return this.x*e+this.y*t},e.prototype.GetMagnitudeSquared=function(){return this.x*this.x+this.y*this.y},e.prototype.GetMagnitude=function(){return Math.sqrt(this.GetMagnitudeSquared())},e.prototype.GetDistanceV=function(t){var e=this.Copy();return e.SubtractV(t),e.GetMagnitude()},e.prototype.GetDistance=function(t,e){var o=this.Copy();return o.Subtract(t,e),o.GetMagnitude()},e.prototype.GetDistanceSquaredV=function(t){var e=this.Copy();return e.SubtractV(t),e.GetMagnitudeSquared()},e.prototype.GetDistanceSquared=function(t,e){var o=this.Copy();return o.Subtract(t,e),o.GetMagnitudeSquared()},e.prototype.IsEqualTo=function(t,e){return this.x===t&&this.y===e},e.prototype.IsEqualToV=function(t){return this.x===t.x&&this.y===t.y},e.prototype.GetLength=e.prototype.GetMagnitude,e.prototype.GetLengthSquared=e.prototype.GetMagnitudeSquared,t.Math.Vector2D=e,t.Vector2D=e}},function(t,e){t.exports=function(t){"use strict";function e(i,n,r,s){if(!(this instanceof e))return new e(i,n,r,s);o.call(this,i,n,r,s),this.style=t.Style.CreateFSSa()}var o=t.Geom.AABB2D;e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.prototype.Draw=function(t){var e=this.tl,o=this.br,i=this.style,n=i.fill,r=i.stroke,s=i.shadow;t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(o.x,e.y),t.lineTo(o.x,o.y),t.lineTo(e.x,o.y),t.closePath(),!0===s.applied&&s.Apply(t),!0===n.applied&&(n.Apply(t),t.fill()),!0===r.applied&&(r.Apply(t),t.stroke())},t.Path.AABB2D=e}},function(t,e){t.exports=function(t){"use strict";function e(i,n,r){if(!(this instanceof e))return new e(i,n,r);o.call(this,i,n,r),this.style=t.Style.CreateFSSa()}var o=t.Geom.Circle;e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.prototype.Draw=function(e){var o=this.center,i=this.style,n=i.fill,r=i.stroke,s=i.shadow;e.beginPath(),e.arc(o.x,o.y,this.radius,0,t.Math.PII,!1),e.closePath(),!0===s.applied&&s.Apply(e),!0===n.applied&&(n.Apply(e),e.fill()),!0===r.applied&&(r.Apply(e),e.stroke())},t.Path.Circle=e}},function(t,e){t.exports=function(t){"use strict";function e(i,n,r,s){if(!(this instanceof e))return new e(i,n,r,s);o.call(this,i,n,r,s),this.style=t.Style.CreateSSa()}var o=t.Geom.Line2D;e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.prototype.Draw=function(t){var e=this.s,o=this.e,i=this.style,n=(i.fill,i.stroke),r=i.shadow;t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(o.x,o.y),t.closePath(),!0===r.applied&&r.Apply(t),!0===n.applied&&(n.Apply(t),t.stroke())},t.Path.Line2D=e}},function(t,e){t.exports=function(t){"use strict";function e(){if(!(this instanceof e))return new e;o.call(this),this.style=t.Style.CreateFSSa()}var o=t.Geom.Polygon2D;e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.prototype.Draw=function(t){var e=this.style,o=e.fill,i=e.stroke,n=e.shadow,r=this.vertices,s=r[0];t.beginPath(),t.moveTo(s.x,s.y);for(var a=1,c=r.length;a<c;++a)s=r[a],t.lineTo(s.x,s.y);t.closePath(),!0===n.applied&&n.Apply(t),!0===o.applied&&(o.Apply(t),t.fill()),!0===i.applied&&(i.Apply(t),t.stroke())},t.Path.Polygon2D=e}},function(t,e){t.exports=function(t){"use strict";function e(o){if(!(this instanceof e))return new e(o);t.Utils.ApplyProperties(this,o)}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.fillStyle="#440066",e.prototype.applied=!0,e.prototype.Apply=function(t){t.fillStyle=this.fillStyle},t.Style.Fill=e}},function(t,e){t.exports=function(t){"use strict";function e(o){if(!(this instanceof e))return new e(o);t.Utils.ApplyProperties(this,o)}e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.shadowColor="#000000",e.prototype.shadowBlur=5,e.prototype.shadowOffsetX=5,e.prototype.shadowOffsetY=5,e.prototype.applied=!1,e.prototype.Apply=function(t){t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY},t.Style.Shadow=e}},function(t,e){t.exports=function(t){"use strict";function e(o){if(!(this instanceof e))return new e(o);t.Utils.ApplyProperties(this,o)}e.prototype=Object.create(null),e.prototype.constructor=e,t.Style.LINE_CAP={ROUND:"round",BUTT:"butt",SQUARE:"square"},t.Style.LINE_JOIN={BEVEL:"bevel",ROUND:"round",MITER:"miter"},e.prototype.strokeStyle="#00FF00",e.prototype.lineCap=t.Style.LINE_CAP.ROUND,e.prototype.lineJoin=t.Style.LINE_JOIN.ROUND,e.prototype.lineWidth=1,e.prototype.miterLimit=10,e.prototype.applied=!0,e.prototype.Apply=function(t){t.strokeStyle=this.strokeStyle,t.lineCap=this.lineCap,t.lineJoin=this.lineJoin,t.lineWidth=this.lineWidth,t.miterLimit=this.miterLimit},t.Style.Stroke=e}},function(t,e){t.exports=function(t){"use strict";t.Style.CreateAll=function(){return{fill:new t.Style.Fill,stroke:new t.Style.Stroke,shadow:new t.Style.Shadow,text:new t.Style.Text}},t.Style.CreateFSSa=function(){return{fill:new t.Style.Fill,stroke:new t.Style.Stroke,shadow:new t.Style.Shadow}},t.Style.CreateSSa=function(){return{stroke:new t.Style.Stroke,shadow:new t.Style.Shadow}},t.Style.CreateFSa=function(){return{fill:new t.Style.Fill,shadow:new t.Style.Shadow}},t.Style.CreateSaT=function(){return{shadow:new t.Style.Shadow,text:new t.Style.Text}}}},function(t,e){t.exports=function(t){"use strict";function e(o){if(!(this instanceof e))return new e(o);t.Utils.ApplyProperties(this,o)}e.prototype=Object.create(null),e.prototype.constructor=e,t.Style.TEXT_ALIGN={START:"start",END:"end",CENTER:"center",LEFT:"left",RIGHT:"right"},t.Style.TEXT_BASELINE={ALPHABETIC:"alphabetic",TOP:"top",HANGING:"hanging",MIDDLE:"middle",IDEOGRAPHIC:"ideographic",BOTTOM:"bottom"},e.prototype.fillStyle="#000000",e.prototype.strokeStyle="#FFFFFF",e.prototype.font="22px Arial",e.prototype.textAlign=t.Style.TEXT_ALIGN.LEFT,e.prototype.textBaseline=t.Style.TEXT_BASELINE.TOP,e.prototype.applied=!0,e.prototype.Apply=function(t){t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.font=this.font,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline},t.Style.Text=e}},,,,,,,,,,,function(t,e){t.exports=function(){"use strict";function t(e,o,i){if(!(this instanceof t))return new t(e,o,i);if("function"!=typeof e)throw new Error("Ticker: An onProcess function is required!");this.SetDesiredRate(o),this.onProcess=e,void 0!==i&&!1!==i||this.Start()}t.prototype=Object.create(null),t.prototype.constructor=t,t.LOG=!0,t.GLOBAL_CSS="background-color:black;font-family:Arial;font-size:18px;",t.Log=function(){!1!==t.LOG&&console.log.apply(null,arguments)},t.prototype.intervalId=null,t.prototype.afId=null,t.prototype.delta=0,t.prototype.then=0,t.prototype.now=0,t.prototype.desiredRate=0,t.prototype.supplyDelta=!0,t.prototype.Process=function(){this.ComputeDelta(),this.onProcess(this.delta)},t.prototype.ProcessAF=function(){this.ComputeDelta(),this.onProcess(this.delta),this.afId=requestAnimationFrame(this.ProcessAF)},t.prototype.ComputeDelta=function(){this.now=(new Date).getTime(),this.delta=this.now-this.then,this.then=this.now},t.prototype.GetTPS=function(){return nk.Math.PR(1/this.delta*1e3,2)},t.prototype.SetDesiredRate=function(t){this.desiredRate=void 0===t?16.66:1e3/t},t.prototype.Start=function(e){if(null!==this.afId)return t.Log("%cTicker: RAF is running!","color:red;".concat(t.GLOBAL_CSS)),null;null!==this.intervalId?!0===e?(this.Stop(),this.intervalId=setInterval(this.Process,this.desiredRate),t.Log("%cTicker: Starting interval!","color:#0F0;".concat(t.GLOBAL_CSS))):t.Log("%cTicker: Interval already running!","color:#F00;".concat(t.GLOBAL_CSS)):(this.intervalId=setInterval(this.Process.bind(this),this.desiredRate),t.Log("%cTicker: Starting interval!","color:#0F0;".concat(t.GLOBAL_CSS)))},t.prototype.StartAF=function(e){if(null!==this.intervalId)return t.Log("%cTicker: Interval is running!","color:#F00;".concat(t.GLOBAL_CSS)),null;null!==this.afId?!0===e?(this.Stop(),this.ProcessAF=this.ProcessAF.bind(this),this.afId=requestAnimationFrame(this.ProcessAF),t.Log("%cTicker: Starting RAF!","color:#0F0;".concat(t.GLOBAL_CSS))):t.Log("%cTicker: RAF already running!","color:#F00;".concat(t.GLOBAL_CSS)):(this.ProcessAF=this.ProcessAF.bind(this),this.afId=requestAnimationFrame(this.ProcessAF),t.Log("%cTicker: Starting RAF!","color:#0F0;".concat(t.GLOBAL_CSS)))},t.prototype.Stop=function(){null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null,t.Log("%cTicker: Stopping interval!","color:cyan;".concat(t.GLOBAL_CSS))),null!==this.afId&&(cancelAnimationFrame(this.afId),this.afId=null,t.Log("%cTicker: Stopping RAF!","color:cyan;".concat(t.GLOBAL_CSS)))},nk.Time.Ticker=t,nk.Ticker=t}},function(t,e){t.exports=function(){"use strict";function t(e){if(!(this instanceof t))return new t(e);this.stopTime=Math.round(void 0===e?null:e),this.onStop=new nk.LocalEvent,this.onStart=new nk.LocalEvent,this.onReset=new nk.LocalEvent}t.prototype=Object.create(null),t.prototype.constructor=t,t.prototype.time=0,t.prototype.isRunning=!1,t.prototype.count=0,t.prototype.Reset=function(t){this.onReset.Dispatch(this,null),this.count=0},t.prototype.Start=function(t){this.stopTime=Math.round(void 0===t?this.stopTime:t),this.stopTime<=0||(this.time=0,this.isRunning=!0,this.onStart.Dispatch(this,{stopTime:this.stopTime}))},t.prototype.Process=function(){this.time<this.stopTime&&!0===this.isRunning&&++this.time>=this.stopTime&&(this.isRunning=!1,this.count++,this.onStop.Dispatch(this,null))},nk.Time.Timer=t,nk.Timer=t}},function(t,e){t.exports=function(t){"use strict";function e(t,o,i,n){if(!(this instanceof e))return new e(t,o,i,n);this.channel=[void 0===t?0:t,void 0===o?0:o,void 0===i?0:i,void 0===n?1:n],this.ComputeValueRGBA()}var o=t.Utils.B16ToB10;e.prototype=Object.create(null),e.prototype.constructor=e,e.prototype.value="",e.prototype.currentConversion="",e.prototype.Copy=function(){var t=new e(this.channel[0],this.channel[1],this.channel[2],this.channel[3]);return t.value=this.value,t.currentConversion=this.currentConversion,t},e.prototype.ComputeValueRGBA=function(){this.value="rgba(".concat(this.channel.join(",").concat(")"))},e.prototype.ComputeValueHSLA=function(){this.value="hsla("+this.channel[0]+","+this.channel[1]+"%,"+this.channel[2]+"%,"+this.channel[3]+")"},e.prototype.ConvertToHSLA=function(t){var e=this.channel[0]/255,o=this.channel[1]/255,i=this.channel[2]/255,n=Math.max(e,o,i),r=Math.min(e,o,i),s=n-r,a=n+r,c=0,p=0,h=.5*a;n!==r&&(p=h>.5?s/(2-n-r):s/(n+r),c=n===e?(o-i)/s+(o<i?6:0):n===o?(i-e)/s+2:(e-o)/s+4,c/=6),this.channel[0]=360*c,this.channel[1]=100*p,this.channel[2]=100*h,!0===t&&(this.channel[0]=Math.round(this.channel[0]),this.channel[1]=Math.round(this.channel[1]),this.channel[2]=Math.round(this.channel[2])),this.currentConversion="hsl",this.ComputeValueHSLA()},e.prototype.SetRGB=function(e,o,i){var n=t.Utils.Clamp;this.channel[0]=n(e,0,255),this.channel[1]=n(o,0,255),this.channel[2]=n(i,0,255),this.currentConversion="rgb",this.ComputeValueRGBA()},e.prototype.SetHex=function(t){t=t.replace(/#/g,"");var e=t.match(/.{2}/g);e=e.map(o),this.SetRGB(e[0],e[1],e[2])},e.prototype.IncreaseChannel=function(t,e){this.channel[t]+=e,"rgb"===this.currentConversion?this.ComputeValueRGBA():"hsl"===this.currentConversion&&this.ComputeValueHSLA()},t.Color=e}},function(t,e){t.exports=function(t){"use strict";t.Utils.RandomInteger=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.Utils.RandomFloat=function(t,e){return Math.random()*(e-t)+t},t.Utils.IsInteger=function(t){return Number(t)===t&&t%1==0},t.Utils.IsFloat=function(t){return Number(t)===t&&t%1!=0},t.Utils.Clamp=function(t,e,o){return t<e?e:t>o?o:t},t.Utils.InverseClamp=function(t,e,o){return t<e?o:t>o?e:t},t.Utils.IntegerNotation=function(t,e,o){var i=t%e,n=t/e;return Math.ceil(0===i?n+1:n)+o+(1+i)},t.Utils.UUID=function(e,o,i,n){e=void 0===e?32:e,o=void 0===o?4:o,i=void 0===i?0:i,n=void 0===n?"-":n;for(var r,s,a="",c=0,p=Math.floor(e/o),h=t.Utils.CharacterSets[i];c<e;++c)r=c/p,0!==r&&Number.isInteger(r)?a+=n:(s=t.Utils.RandomInteger(1,h.length-1),a+=h.charAt(s));return a},t.Utils.CharacterSets=["0123456789ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz","0123456789ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz!?#$%@","0123456789","ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz","ABCDEFGHJIKLMNOPQRSTUWVXYZ","abcdefghijklmnopqrstuwvxyz"],t.Utils.ApplyProperties=function(t,e){if(void 0!==e){var o;for(o in e)void 0!==t[o]&&(t[o]=e[o])}},t.Utils.NestedStringAccess=function(e,o,i,n){"string"==typeof o&&(o=o.split("."));var r;if(o.length>1)r=o.shift(),void 0!==e[r]&&t.Utils.NestedStringAccess(e[r],o,i,n);else if(r=o.shift(),void 0!==e[r]){if(!0!==i)return e[r];e[r]=n}},t.Utils.ArrayGetRandom=function(t,e){for(var o=[],i={},n=t.length,r=0,s=e;r<s;++r){var a=Math.floor(Math.random()*n);void 0===i[a]?(i[a]=null,o.push(t[a])):r--}return o},t.Utils.ArrayRemove=function(t,e){var o=t.indexOf(e);return-1!==o?t.splice(o,1)[0]:null},t.Utils.ArrayInsert=function(t,e,o){t.splice(o,0,e)},t.Utils.Cipher={},t.Utils.Decipher={},t.Utils.Cipher.CCH1=function(e,o){var i=[];o=void 0===o?1:o;for(var n,r,s=0,a=e.split(""),c=a.length;s<c;++s)n=a[s],n=(n.charCodeAt(0)+o).toString(2),r=t.Utils.RandomInteger(1,9),i.push(r+"x"+n.replace(/1/g,r));return i.join(" ")},t.Utils.Decipher.CCH1=function(t,e){var o=[];e=void 0===e?1:e;for(var i,n=0,r=t.split(" "),s=r.length;n<s;++n)i=r[n],i=i.slice(2-i.length),o.push(String.fromCharCode(parseInt(i.replace(/[2-9]/g,"1"),2)-e));return o.join("")}}},function(t,e,o){t.exports=o(0)}]);