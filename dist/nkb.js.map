{"version":3,"sources":["webpack:///webpack/bootstrap bb7679d50f30bf94c08a","webpack:///(webpack)/buildin/global.js","webpack:///./src/nk-polyfill/nk-polyfill.js","webpack:///./src/nk-utils/nk-maker.js","webpack:///./src/nk-event/nk-local-listener.js","webpack:///./src/nk-event/nk-local-event.js","webpack:///./src/nk-time/nk-timer/nk-timer.js","webpack:///./src/nk-math/nk-vector/nk-vector2d.js","webpack:///./src/nkb.js","webpack:///./src/nk-base/nkb-base.js","webpack:///./src/nk-time/nk-ticker/nk-server-ticker.js","webpack:///./src/nk-math/nk-matrix/nk-matrix2d.js","webpack:///./src/nk-math/nk-transform/nk-basetransform2d.js","webpack:///./src/nk-math/nk-transform/nk-transform2d.js","webpack:///./src/nk-geom/nk-line/nk-line2d.js","webpack:///./src/nk-geom/nk-aabb/nk-aabb2d.js","webpack:///./src/nk-math/nk-math.js","webpack:///./src/nk-geom/nk-polygon/nk-polygon2d.js","webpack:///./src/nk-geom/nk-circle/nk-circle.js","webpack:///./src/nk-math/nk-collision/nk-collision2d.js","webpack:///./src/nk-math/nk-ease.js","webpack:///./src/nk-motion/nk-motion.js","webpack:///./src/nk-motion/nk-motion-manager.js","webpack:///./src/nk-utils/nk-quadtree-node.js","webpack:///./src/nk-entity/nk-core-entity2d.js","webpack:///./src/nk-entity/nk-container2d.js","webpack:///./src/nk-entity/nk-case2d.js","webpack:///./src/nk-utils/nk-assert.js","webpack:///./src/nk-cp/nk-option.js","webpack:///./src/nk-cp/nk-command.js","webpack:///./src/nk-cp/nk-register.js","webpack:///./src/nk-utils/nk-pool.js","webpack:///./src/nk-utils/nk-glob.js","webpack:///./src/nk-utils/nk-cache.js","webpack:///./src/nk-utils/nk-utils.js","webpack:///./src/nk-utils/nk-flag-list.js","webpack:///./src/nk-utils/nk-flag-enum.js"],"names":[],"mappings":"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;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,yCAAyC,OAAO;;AAEhD;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,yCAAyC,OAAO;;AAEhD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,KAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,qCAAqC;;AAErC;;;;;;;;;;;;;;;;AC5lBA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACzCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;;ACrBA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,OAAO;;AAEP;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;;AC7GA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;;AChOA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;;AC/CA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;;AC7FA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,oBAAoB,kBAAkB;;AAEtC;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;;ACnJA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;;AChLA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,yEAAyE,OAAO;;AAEhF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uGAAuG,OAAO;;AAE9G;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;A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GAAG;AACH;AACA;;AAEA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAAK;AACL;;AAEA;;AAEA;AACA,GAAG;AACH;;AAEA;;;;;;;;AC1IA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;AACA;;AAEA;;AAEA;;AAEA,WAAW;;AAEX;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA,OAAO;;AAEP;AACA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,YAAY,SAAS;;AAErB;;AAEA;;AAEA;;AAEA;;AAEA,gBAAgB,SAAS;;AAEzB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;;ACvcA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;;ACvFA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;;ACxHA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,qCAAqC,OAAO;;AAE5C;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,qCAAqC,OAAO;;AAE5C;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,qCAAqC,OAAO;;AAE5C;;AAEA;;AAEA;;AAEA;;AAEA,wEAAwE,OAAO;;AAE/E;AACA;;AAEA;;AAEA;;AAEA;;AAEA,wEAAwE,OAAO;;AAE/E;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;;AC7JA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AA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OAAO;;AAEP;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;;ACvFA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;;;AC5KA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,6EAA6E,OAAO;;AAEpF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,6EAA6E,OAAO;;AAEpF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,6EAA6E,OAAO;;AAEpF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;;AC5KA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,wBAAwB,SAAS;;AAEjC;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wHAAwH,aAAa;;AAErI;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,gCAAgC;;AAEhC,iCAAiC,OAAO;;AAExC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,WAAW,QAAQ;;AAEnB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,wEAAwE,OAAO;;AAE/E;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,oEAAoE,OAAO;;AAE3E;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,2DAA2D;;AAE3D;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA,sBAAsB,oBAAoB;;AAE1C;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;;ACvYA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;;;ACvDA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA","file":"nkb.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 140);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bb7679d50f30bf94c08a","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 0\n// module chunks = 0 2","module.exports = function() {\r\n\r\n  Array.prototype.indexPop = function( index ) {\r\n\r\n    var last = this.length - 1;\r\n\r\n    if ( last > 1 && index <= last && index >= 0 ) {\r\n  \r\n      var temp = this[last];\r\n      this[last] = this[index];\r\n      this[index] = temp;\r\n  \r\n      return this.pop();\r\n    \r\n    }\r\n\r\n    return this.pop();\r\n  \r\n  };\r\n\r\n  Array.prototype.indexShift = function( index ) {\r\n  \r\n    if ( this.length > 1 && index <= this.length - 1 && index >= 0 ) {\r\n  \r\n      var temp = this[0];\r\n      this[0] = this[index];\r\n      this[index] = temp;\r\n\r\n      return this.shift();\r\n    \r\n    }\r\n\r\n    return this.shift();\r\n  \r\n  };\r\n\r\n  Array.prototype.popSplice = function( index ) {\r\n\r\n    var l = this.length - 1;\r\n    if ( l < 1 ) return;\r\n    var returnee = this[index];\r\n\r\n    while ( index < l ) {\r\n \r\n      this[index] = this[index + 1]; \r\n      index++; \r\n    \r\n    }\r\n\r\n    this.pop();\r\n\r\n    return returnee;\r\n  \r\n  };\r\n\r\n  Array.prototype.shiftSplice = function( index ) {\r\n\r\n    if ( this.length < 1 ) return;\r\n    var returnee = this[index];\r\n\r\n    while ( index > 0 ) {\r\n\r\n      this[index] = this[index - 1];\r\n      index--;\r\n    \r\n    }\r\n\r\n    this.shift();\r\n\r\n    return returnee;\r\n  \r\n  };\r\n\r\n  Array.prototype.fickleSplice = function( index ) {\r\n\r\n    if ( index > ( this.length * 0.5 ) | 0 ) {\r\n\r\n      return this.popSplice( index );\r\n    \r\n    }\r\n\r\n    return this.shiftSplice( index );\r\n  \r\n  };\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-polyfill/nk-polyfill.js\n// module id = 1\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  var NESTED = Nenkraft.Utils.Nested;\r\n\r\n  function Maker () {\r\n\r\n    if ( !( this instanceof Maker ) ) return new Maker();\r\n    this.orders = [];\r\n  \r\n  }\r\n\r\n  Maker.prototype = Object.create( null );\r\n  Maker.prototype.constructor = Maker;\r\n  // Static\r\n\r\n  // Members\r\n  Maker.prototype.orders = null;\r\n  Maker.prototype.classUsed = null;\r\n  Maker.prototype.amount = 1;\r\n  Maker.prototype.locked = false;\r\n\r\n  // Methods\r\n\r\n  Maker.prototype.Many = function( _amount ) {\r\n\r\n    this.amount = _amount;\r\n    return this;\r\n  \r\n  };\r\n\r\n  Maker.prototype.Bind = function( _object, _reset ) {\r\n\r\n    if ( _reset ) this.orders.length = 0;\r\n    this.orders.push( _object );\r\n    return this;\r\n  \r\n  };\r\n\r\n  Maker.prototype.Make = function( _class ) {\r\n\r\n    if ( this.locked === true ) throw new Error( '\"Make\" called twice before end!' );\r\n\r\n    this.locked = true;\r\n\r\n    this.orders.length = 0;\r\n    this.classUsed = _class;\r\n\r\n    for ( var i = 0; i < this.amount; ++i ) {\r\n\r\n      this.orders.push(\r\n        new ( Function.prototype.bind.apply( _class, arguments ) )()\r\n      );\r\n      \r\n    }\r\n\r\n    return this;\r\n  \r\n  };\r\n\r\n  Maker.prototype.Call = function( _function, _args ) {\r\n\r\n    var orders = this.orders;\r\n\r\n    for ( var i = 0, order = orders[i]; i < orders.length; order = orders[++i] ) {\r\n\r\n      var context = NESTED( order, _function, true );\r\n      var f = NESTED( order, _function );\r\n\r\n      if ( _args != null && _args.length > 0 ) {\r\n\r\n        for ( var j = 0; j < _args.length; ++j ) {\r\n\r\n          if ( typeof _args[j] === 'string' && _args[j][0] === '$' ) {\r\n  \r\n            _args[j] = order[_args[j].slice( 1 )];\r\n        \r\n          }\r\n      \r\n        }\r\n      \r\n      }\r\n\r\n      f.apply( context, _args );\r\n    \r\n    }\r\n\r\n    return this;\r\n  \r\n  };\r\n\r\n  Maker.prototype.Cast = function( _key, _value ) {\r\n\r\n    var orders = this.order;\r\n\r\n    for ( var i = 0, order = orders[i]; i < orders.length; order = orders[++i] ) {\r\n\r\n      if ( typeof _value === 'string' && _value[0] === '$' ) {\r\n\r\n        _value = NESTED( order, _value );\r\n      \r\n      }\r\n  \r\n      NESTED( order, _key, false, true, _value );\r\n    \r\n    }\r\n\r\n    return this;\r\n  \r\n  };\r\n\r\n  Maker.prototype.Done = function() {\r\n\r\n    this.amount = 1;\r\n    this.locked = false;\r\n    return this.orders[0];\r\n  \r\n  };\r\n\r\n  Maker.prototype.Mass = function() {\r\n\r\n    this.amount = 1;\r\n    this.locked = false;\r\n    return this.orders;\r\n\r\n  };\r\n  \r\n  Nenkraft.Utils.Maker = Maker;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-maker.js\n// module id = 10\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function LocalListener ( _holderContext, _listenerContext, _handle, _removeOnNextCall ) {\r\n\r\n    if ( !( this instanceof LocalListener ) ) return new LocalListener( _holderContext, _listenerContext, _handle, _removeOnNextCall );\r\n    this.context = _listenerContext;\r\n    this.holderContext = _holderContext;\r\n    this.handle = _handle;\r\n    this.removeOnNextCall = _removeOnNextCall;\r\n  \r\n  }\r\n\r\n  LocalListener.prototype = Object.create( null );\r\n  LocalListener.prototype.constructor = LocalListener;\r\n  // Static\r\n\r\n  // Members\r\n\r\n  // Methods\r\n  LocalListener.prototype.Execute = function () {\r\n\r\n    this.handle.apply( this.context, arguments );\r\n\r\n    if ( this.removeOnNextCall === true ) {\r\n\r\n      this.Remove();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  LocalListener.prototype.Remove = function () {\r\n\r\n    this.holderContext.Remove( this.handle, this.context );\r\n  \r\n  };\r\n\r\n  Nenkraft.Event.LocalListener = LocalListener;\r\n  Nenkraft.LocalListener = LocalListener;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-event/nk-local-listener.js\n// module id = 11\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function LocalEvent () {\r\n\r\n    if ( !( this instanceof LocalEvent ) ) return new LocalEvent();\r\n    this.listeners = [];\r\n  \r\n  }\r\n\r\n  LocalEvent.prototype = Object.create( null );\r\n  LocalEvent.prototype.constructor = LocalEvent;\r\n  // Static\r\n\r\n  // Members\r\n  LocalEvent.prototype.stopPropagation = false;\r\n  LocalEvent.prototype.target = null;\r\n  LocalEvent.prototype.data = null;\r\n\r\n  // Methods\r\n  LocalEvent.prototype.GetListenerIndex = function ( _handle, _context ) {\r\n\r\n    var listeners = this.listeners;\r\n    if ( listeners.length === 0 ) return -1;\r\n\r\n    for ( var i = 0, l = listeners.length, listener; i < l; ++i ) {\r\n\r\n      listener = listeners[ i ];\r\n\r\n      if ( listener.context === _context && listener.handle === _handle ) {\r\n\r\n        return i;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return -1;\r\n  \r\n  };\r\n\r\n  LocalEvent.prototype.Add = function ( _handle, _context, _removeOnNextCall ) {\r\n\r\n    var listener = Nenkraft.LocalListener( this, _context, _handle, _removeOnNextCall );\r\n    this.listeners.push( listener );\r\n  \r\n  };\r\n\r\n  LocalEvent.prototype.Remove = function ( _handle, _context ) {\r\n\r\n    var ix = this.GetListenerIndex( _handle, _context );\r\n\r\n    if ( ix !== -1 ) {\r\n\r\n      this.listeners.fickleSplice( ix );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  LocalEvent.prototype.Dump = function ( _context ) {\r\n\r\n    var listeners = this.listeners;\r\n    if ( listeners.length === 0 ) return;\r\n\r\n    if ( _context !== undefined ) {\r\n\r\n      for ( var i = 0, l = listeners.length, listener; i < l; ++i ) {\r\n\r\n        listener = listeners[ i ];\r\n\r\n        if ( listener.context === _context ) {\r\n\r\n          this.listeners.fickleSplice( i );\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n    else {\r\n\r\n      this.listeners.length = 0;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  LocalEvent.prototype.Dispatch = function ( _target, _data ) {\r\n\r\n    var listeners = this.listeners;\r\n    if ( listeners.length === 0 ) return;\r\n    listeners = listeners.slice();\r\n    this.stopPropagation = false;\r\n    this.target = _target;\r\n    this.data = _data;\r\n\r\n    for ( var i = 0, l = listeners.length, listener; i < l; ++i ) {\r\n\r\n      listener = listeners[ i ];\r\n      listener.Execute( this );\r\n      if ( this.stopPropagation === true ) break;\r\n    \r\n    }\r\n\r\n    delete this.target;\r\n    delete this.data;\r\n  \r\n  };\r\n\r\n  Nenkraft.Event.LocalEvent = LocalEvent;\r\n  Nenkraft.LocalEvent = LocalEvent;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-event/nk-local-event.js\n// module id = 12\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Timer ( _stopTime ) {\r\n\r\n    if ( !( this instanceof Timer ) ) return new Timer( _stopTime );\r\n\r\n    if ( _stopTime != null ) {\r\n\r\n      this.stopTime = _stopTime;\r\n    \r\n    }\r\n\r\n    this.onStop = Nenkraft.LocalEvent();\r\n    this.onFinish = Nenkraft.LocalEvent();\r\n    this.onStart = Nenkraft.LocalEvent();\r\n    this.onReset = Nenkraft.LocalEvent();\r\n    this.onPause = Nenkraft.LocalEvent();\r\n    this.onResume = Nenkraft.LocalEvent();\r\n  \r\n  }\r\n\r\n  Timer.prototype = Object.create( null );\r\n  Timer.prototype.constructor = Timer;\r\n  // Static\r\n\r\n  // Members\r\n  Timer.prototype.time = 0;\r\n  Timer.prototype.stopTime = 0;\r\n  Timer.prototype.isRunning = false;\r\n  Timer.prototype.canResume = false;\r\n  Timer.prototype.count = 0;\r\n\r\n  // Methods\r\n  Timer.prototype.Reset = function () {\r\n\r\n    this.onReset.Dispatch( this, null );\r\n    this.count = 0;\r\n    this.time = 0;\r\n    this.isRunning = false;\r\n    this.canResume = false;\r\n    this.stopTime = null;\r\n  \r\n  };\r\n\r\n  Timer.prototype.Start = function ( _stopTime ) {\r\n\r\n    this.stopTime = Math.round( _stopTime == null ? this.stopTime : _stopTime );\r\n\r\n    if ( this.stopTime > 0 ) {\r\n\r\n      this.time = 0;\r\n      this.isRunning = true;\r\n      this.canResume = false;\r\n      this.onStart.Dispatch( this, { stopTime: this.stopTime } );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Timer.prototype.Stop = function () {\r\n\r\n    if ( this.isRunning === true ) {\r\n\r\n      this.isRunning = false;\r\n      this.onStop.Dispatch( this, null );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Timer.prototype.Pause = function () {\r\n\r\n    if ( this.isRunning === true && this.canResume === false ) {\r\n\r\n      this.isRunning = false;\r\n      this.canResume = true;\r\n      this.onPause.Dispatch( this, null );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Timer.prototype.Resume = function () {\r\n\r\n    if ( this.canResume === true ) {\r\n\r\n      this.isRunning = true;\r\n      this.canResume = false;\r\n      this.onResume.Dispatch( this, null );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Timer.prototype.Process = function () {\r\n\r\n    if ( this.time < this.stopTime && this.isRunning === true ) {\r\n\r\n      if ( ++this.time >= this.stopTime ) {\r\n\r\n        this.isRunning = false;\r\n        this.count++;\r\n        this.onFinish.Dispatch( this, null );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Time.Timer = Timer;\r\n  Nenkraft.Timer = Timer;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-time/nk-timer/nk-timer.js\n// module id = 13\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Vector2D ( _arg0, _arg1 ) {\r\n\r\n    if ( !( this instanceof Vector2D ) ) return new Vector2D( _arg0, _arg1 );\r\n\r\n    if ( _arg0 != undefined && _arg0.x != undefined && _arg0.y != undefined ) {\r\n\r\n      this.x = _arg0.x;\r\n      this.y = _arg0.y;\r\n    \r\n    }\r\n    else if ( _arg0 != undefined ) {\r\n\r\n      if ( _arg1 == undefined ) {\r\n\r\n        this.x = _arg0;\r\n        this.y = _arg0;\r\n      \r\n      }\r\n      else {\r\n\r\n        this.x = _arg0;\r\n        this.y = _arg1;\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  Vector2D.prototype = Object.create( null );\r\n  Vector2D.prototype.constructor = Vector2D;\r\n\r\n  // Static\r\n  Vector2D.TranslateMultiple = function ( _vectors, _vector ) {\r\n\r\n    for ( var i = 0, l = _vectors.length; i < l; ++i ) {\r\n\r\n      _vectors[ i ].AddV( _vector );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Vector2D.GetMinMaxDot = function ( _vectors, _axis ) {\r\n\r\n    var min = Infinity;\r\n    var max = -min;\r\n    var dot = 0, result = _axis.Copy();\r\n\r\n    for ( var i = 0, l = _vectors.length; i < l; ++i ) {\r\n\r\n      dot = _vectors[ i ].GetDotV( _axis );\r\n\r\n      if ( dot > max ) {\r\n\r\n        max = dot;\r\n      \r\n      }\r\n\r\n      if ( dot < min ) {\r\n\r\n        min = dot;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    result.Set( min, max );\r\n    return result;\r\n  \r\n  };\r\n\r\n  Vector2D.Pool = Nenkraft.Utils.Pool( Vector2D );\r\n\r\n  Vector2D.Pool.Retrieve = function ( _x, _y ) {\r\n\r\n    if ( this.objects.length === 0 ) {\r\n\r\n      this.Flood();\r\n    \r\n    }\r\n\r\n    var v = this.objects.pop();\r\n    v.Set( _x, _y );\r\n    return v;\r\n  \r\n  };\r\n\r\n  Vector2D.USE_POOL = true;\r\n  // Members\r\n  Vector2D.prototype.x = 0;\r\n  Vector2D.prototype.y = 0;\r\n\r\n  // Methods\r\n  Vector2D.prototype.Copy = function () {\r\n\r\n    if ( Vector2D.USE_POOL === true ) {\r\n\r\n      return Vector2D.Pool.Retrieve( this.x, this.y );\r\n    \r\n    }\r\n\r\n    return Vector2D( this );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.FromStore = function( _x, _y ) {\r\n\r\n    if ( Vector2D.USE_POOL === true ) {\r\n\r\n      return Vector2D.Pool.Retrieve( _x, _y );\r\n    \r\n    }\r\n\r\n    return Vector2D( _x, _y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.AbsoluteCopy = function () {\r\n\r\n    var v = this.Copy();\r\n    v.Positive();\r\n    return v;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.SetV = function ( _v ) {\r\n\r\n    this.x = _v.x;\r\n    this.y = _v.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Set = function ( _x, _y ) {\r\n\r\n    if ( _x != undefined && _y == undefined ) {\r\n\r\n      this.x = _x;\r\n      this.y = _x;\r\n    \r\n    } else {\r\n\r\n      this.x = _x;\r\n      this.y = _y;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Is0 = function () {\r\n\r\n    return this.x === 0 && this.y === 0;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.AddV = function ( _v ) {\r\n\r\n    this.x += _v.x;\r\n    this.y += _v.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.AddVC = function ( _v ) {\r\n\r\n    var r = this.Copy();\r\n    r.AddV( _v );\r\n    return r;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Add = function ( _x, _y ) {\r\n\r\n    this.x += _x;\r\n    this.y += _y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.SubtractV = function ( _v ) {\r\n\r\n    this.x -= _v.x;\r\n    this.y -= _v.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.SubtractVC = function ( _v ) {\r\n\r\n    var r = this.Copy();\r\n    r.SubtractV( _v );\r\n    return r;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Subtract = function ( _x, _y ) {\r\n\r\n    this.x -= _x;\r\n    this.y -= _y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.MultiplyV = function ( _v ) {\r\n\r\n    this.x *= _v.x;\r\n    this.y *= _v.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.MultiplyVC = function ( _v ) {\r\n\r\n    var r = this.Copy();\r\n    r.MultiplyV( _v );\r\n    return r;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Multiply = function ( _x, _y ) {\r\n\r\n    this.x *= _x;\r\n    this.y *= _y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.DivideV = function ( _v ) {\r\n\r\n    this.x /= _v.x;\r\n    this.y /= _v.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.DivideVC = function ( _v ) {\r\n\r\n    var r = this.Copy();\r\n    r.DivideV( _v );\r\n    return r;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Divide = function ( _x, _y ) {\r\n\r\n    this.x /= _x;\r\n    this.y /= _y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Normalize = function () {\r\n\r\n    var m = this.GetMagnitude();\r\n    this.Divide( m, m );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Positive = function () {\r\n\r\n    this.x = Math.abs( this.x );\r\n    this.y = Math.abs( this.y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Negative = function () {\r\n\r\n    this.x = -Math.abs( this.x );\r\n    this.y = -Math.abs( this.y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Invert = function () {\r\n\r\n    this.x = -this.x;\r\n    this.y = -this.y;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Rotate = function ( _a ) {\r\n\r\n    var s = Math.sin( _a ), c = Math.cos( _a );\r\n    var tx = this.x, ty = this.y;\r\n    this.x = tx * c - ty * s;\r\n    this.y = tx * s + ty * c;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.RotateAbsolute = function ( _a ) {\r\n\r\n    this.Rotate( _a - this.GetAngle() );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.RotateAroundV = function ( _v, _a ) {\r\n\r\n    this.SubtractV( _v );\r\n    this.Rotate( _a );\r\n    this.AddV( _v );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.RotateAround = function ( _x, _y, _a ) {\r\n\r\n    this.Subtract( _x, _y );\r\n    this.Rotate( _a );\r\n    this.Add( _x, _y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.RotateAbsoluteAroundV = function ( _v, _a ) {\r\n\r\n    this.SubtractV( _v );\r\n    this.RotateAbsolute( _a );\r\n    this.AddV( _v );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.RotateAbsoluteAround = function ( _x, _y, _a ) {\r\n\r\n    this.Subtract( _x, _y );\r\n    this.RotateAbsolute( _a );\r\n    this.Add( _x, _y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.PushFromV = function ( _v, _m ) {\r\n\r\n    var d = this.Copy();\r\n    d.SubtractV( _v );\r\n    d.Normalize();\r\n    d.Multiply( _m, _m );\r\n    this.AddV( d );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.PushFrom = function ( _x, _y, _m ) {\r\n\r\n    var d = this.Copy();\r\n    d.Subtract( _x, _y );\r\n    d.Normalize();\r\n    d.Multiply( _m, _m );\r\n    this.AddV( d );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetWeightedAverage = function( _x, _y, _perc ) {\r\n\r\n    return this.FromStore(\r\n      this.x * ( 1 - _perc ) + _x * _perc,\r\n      this.y * ( 1 - _perc ) + _y * _perc\r\n    );\r\n\r\n  };\r\n\r\n  Vector2D.prototype.GetWeightedAverageV = function( _v, _perc ) {\r\n\r\n    return this.FromStore(\r\n      this.x * ( 1 - _perc ) + _v.x * _perc,\r\n      this.y * ( 1 - _perc ) + _v.y * _perc\r\n    );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetAngle = function () {\r\n\r\n    return Math.atan2( this.y, this.x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetAngleBetweenV = function ( _v ) {\r\n\r\n    return Math.atan2( this.y - _v.y, this.x - _v.x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetAngleBetween = function ( _x, _y ) {\r\n\r\n    return Math.atan2( this.y - _y, this.x - _x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDotV = function ( _v ) {\r\n\r\n    return ( this.x * _v.x + this.y * _v.y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDot = function ( _x, _y ) {\r\n\r\n    return ( this.x * _x + this.y * _y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetCrossV = function ( _v ) {\r\n\r\n    return ( this.x * _v.y + this.y * _v.x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetCross = function ( _x, _y ) {\r\n\r\n    return ( this.x * _y + this.y * _x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetMagnitudeSquared = function () {\r\n\r\n    return ( this.x * this.x + this.y * this.y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetMagnitude = function () {\r\n\r\n    return Math.sqrt( this.GetMagnitudeSquared() );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDistanceV = function ( _v ) {\r\n\r\n    var d = this.Copy();\r\n    d.SubtractV( _v );\r\n    return d.GetMagnitude();\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDistance = function ( _x, _y ) {\r\n\r\n    var d = this.Copy();\r\n    d.Subtract( _x, _y );\r\n    return d.GetMagnitude();\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDistanceSquaredV = function ( _v ) {\r\n\r\n    var d = this.Copy();\r\n    d.SubtractV( _v );\r\n    return d.GetMagnitudeSquared();\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetDistanceSquared = function ( _x, _y ) {\r\n\r\n    var d = this.Copy();\r\n    d.Subtract( _x, _y );\r\n    return d.GetMagnitudeSquared();\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetPerpendicularCCWV = function ( _v ) {\r\n\r\n    return this.FromStore( -( _v.y - this.y ), _v.x - this.x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetPerpendicularCCW = function ( _x, _y ) {\r\n\r\n    return this.FromStore( -( _y - this.y ), _x - this.x );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetPerpendicularCWV = function ( _v ) {\r\n\r\n    return this.FromStore( _v.y - this.y, -( _v.x - this.x ) );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetPerpendicularCW = function ( _x, _y ) {\r\n\r\n    return this.FromStore( _y - this.y, -( _x - this.x ) );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetNormalAV = function ( _v ) {\r\n\r\n    var normal = this.GetPerpendicularCCWV( _v );\r\n    normal.Normalize();\r\n    return normal;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetNormalA = function ( _x, _y ) {\r\n\r\n    var normal = this.GetPerpendicularCCW( _x, _y );\r\n    normal.Normalize();\r\n    return normal;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetNormalBV = function ( _v ) {\r\n\r\n    var normal = this.GetPerpendicularCWV( _v );\r\n    normal.Normalize();\r\n    return normal;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetNormalB = function ( _x, _y ) {\r\n\r\n    var normal = this.GetPerpendicularCW( _x, _y );\r\n    normal.Normalize();\r\n    return normal;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetMidPointV = function ( _v ) {\r\n\r\n    var mp = this.Copy();\r\n    mp.AddV( _v );\r\n    mp.Divide( 2, 2 );\r\n    return mp;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetMidPoint = function ( _x, _y ) {\r\n\r\n    var mp = this.Copy();\r\n    mp.Add( _x, _y );\r\n    mp.Multiply( 0.5, 0.5 );\r\n    return mp;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.IsEqualTo = function ( _x, _y ) {\r\n\r\n    return ( this.x === _x && this.y === _y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.IsEqualToV = function ( _v ) {\r\n\r\n    return ( this.x === _v.x && this.y === _v.y );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetProjectionOntoV = function ( _v ) {\r\n\r\n    var dot = this.GetDotV( _v );\r\n    if ( dot === 0 ) return this.FromStore( 0 );\r\n    var mag = _v.GetMagnitude();\r\n    var scl = dot / ( mag * mag );\r\n    var p = _v.Copy();\r\n    p.Multiply( scl, scl );\r\n    return p;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetProjectionOnto = function ( _x, _y ) {\r\n\r\n    var p = this.Copy();\r\n    p.Set( _x, _y );\r\n    var dot = this.GetDotV( p );\r\n    if ( dot === 0 ) return this.FromStore( 0 );\r\n    var mag = p.GetMagnitude();\r\n    var scl = dot / ( mag * mag );\r\n    p.Multiply( scl, scl );\r\n    return p;\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetReflectionV = function ( _v ) {\r\n\r\n    var r = _v.Copy();\r\n    var dot = this.GetDotV( r );\r\n    r.Multiply( 2, 2 );\r\n    r.Multiply( dot, dot );\r\n    return this.SubtractVC( r );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetReflection = function ( _x, _y ) {\r\n\r\n    var r = this.Copy();\r\n    r.Set( _x, _y );\r\n    var dot = this.GetDotV( r );\r\n    r.Multiply( 2, 2 );\r\n    r.Multiply( dot, dot );\r\n    return this.SubtractVC( r );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Assert = function () {\r\n\r\n    var A = Nenkraft.Utils.Assert;\r\n    A( this.x, A.IS_SAME_TYPE, 0 );\r\n    A( this.y, A.IS_SAME_TYPE, 0 );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.Store = function () {\r\n\r\n    Vector2D.Pool.Store( this );\r\n  \r\n  };\r\n\r\n  Vector2D.prototype.GetLength = Vector2D.prototype.GetMagnitude;\r\n  Vector2D.prototype.GetLengthSquared = Vector2D.prototype.GetMagnitudeSquared;\r\n\r\n  Nenkraft.Math.Vector2D = Vector2D;\r\n  Nenkraft.Vector2D = Vector2D;\r\n\r\n  Vector2D.Pool.Flood( function () {}, 5000 );\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-vector/nk-vector2d.js\n// module id = 14\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nvar namespace = Object.create( null );\r\n\r\nrequire( './nk-polyfill/nk-polyfill' )();\r\nrequire( './nk-base/nkb-base' )( namespace );\r\nrequire( './nk-math/nk-math' )( namespace );\r\nrequire( './nk-utils/nk-assert' )( namespace );\r\nrequire( './nk-utils/nk-pool' )( namespace );\r\nrequire( './nk-utils/nk-glob' )( namespace );\r\nrequire( './nk-utils/nk-cache' )( namespace );\r\nrequire( './nk-utils/nk-utils' )( namespace );\r\nrequire( './nk-utils/nk-flag-list' )( namespace );\r\nrequire( './nk-utils/nk-flag-enum' )( namespace );\r\nrequire( './nk-utils/nk-maker' )( namespace );\r\nrequire( './nk-event/nk-local-listener' )( namespace );\r\nrequire( './nk-event/nk-local-event' )( namespace );\r\nrequire( './nk-time/nk-timer/nk-timer' )( namespace );\r\nrequire( './nk-time/nk-ticker/nk-server-ticker' )( namespace );\r\nrequire( './nk-math/nk-vector/nk-vector2d' )( namespace );\r\nrequire( './nk-math/nk-matrix/nk-matrix2d' )( namespace );\r\nrequire( './nk-math/nk-transform/nk-basetransform2d' )( namespace );\r\nrequire( './nk-math/nk-transform/nk-transform2d' )( namespace );\r\nrequire( './nk-math/nk-ease' )( namespace );\r\nrequire( './nk-motion/nk-motion' )( namespace );\r\nrequire( './nk-motion/nk-motion-manager' )( namespace );\r\nrequire( './nk-geom/nk-line/nk-line2d' )( namespace );\r\nrequire( './nk-geom/nk-aabb/nk-aabb2d' )( namespace );\r\nrequire( './nk-geom/nk-polygon/nk-polygon2d' )( namespace );\r\nrequire( './nk-geom/nk-circle/nk-circle' )( namespace );\r\nrequire( './nk-math/nk-collision/nk-collision2d' )( namespace );\r\nrequire( './nk-utils/nk-quadtree-node' )( namespace );\r\nrequire( './nk-entity/nk-core-entity2d' )( namespace );\r\nrequire( './nk-entity/nk-container2d' )( namespace );\r\nrequire( './nk-entity/nk-case2d' )( namespace );\r\nrequire( './nk-cp/nk-option' )( namespace );\r\nrequire( './nk-cp/nk-command' )( namespace );\r\nrequire( './nk-cp/nk-register' )( namespace );\r\n\r\nmodule.exports = namespace;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nkb.js\n// module id = 141\n// module chunks = 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  Nenkraft.Geom = Object.create( null );\r\n  Nenkraft.Math = Object.create( null );\r\n  Nenkraft.Utils = Object.create( null );\r\n  Nenkraft.Entity = Object.create( null );\r\n  Nenkraft.Event = Object.create( null );\r\n  Nenkraft.Time = Object.create( null );\r\n  Nenkraft.CP = Object.create( null );\r\n  Nenkraft.VERSION = '1.1.6';\r\n\r\n  Nenkraft.PRINT_VERSION = function() {\r\n\r\n    console.log( 'nenkraft-behind version ' + Nenkraft.VERSION );\r\n  \r\n  };\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-base/nkb-base.js\n// module id = 142\n// module chunks = 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function ServerTicker ( _onProcess, _rate, _halt ) {\r\n\r\n    if ( !( this instanceof ServerTicker ) ) return new ServerTicker( _onProcess, _rate, _halt );\r\n    if ( typeof _onProcess !== 'function' ) throw new Error( 'ServerTicker: An onProcess function is required!' );\r\n    this.SetDesiredRate( _rate );\r\n    this.onProcess = _onProcess;\r\n\r\n    if ( _halt == undefined || _halt === false ) {\r\n\r\n      this.Start();\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  ServerTicker.prototype = Object.create( null );\r\n  ServerTicker.prototype.constructor = ServerTicker;\r\n  // Static\r\n  ServerTicker.LOG = true;\r\n\r\n  ServerTicker.Log = function () {\r\n\r\n    if ( ServerTicker.LOG === false ) return;\r\n    console.log.apply( null, arguments );\r\n  \r\n  };\r\n\r\n  // Members\r\n  ServerTicker.prototype.intervalId = null;\r\n  ServerTicker.prototype.timeoutId = null;\r\n  ServerTicker.prototype.immediateId = null;\r\n  ServerTicker.prototype.delta = 0;\r\n  ServerTicker.prototype.then = 0;\r\n  ServerTicker.prototype.now = 0;\r\n  ServerTicker.prototype.desiredRate = 0;\r\n  ServerTicker.prototype.supplyDelta = true;\r\n\r\n  // Methods\r\n  ServerTicker.prototype.Process = function () {\r\n\r\n    this.onProcess( this.ComputeDelta() );\r\n  \r\n  };\r\n\r\n  ServerTicker.prototype.ComputeDelta = function () {\r\n\r\n    this.now = Date.now();\r\n    this.delta = this.now - this.then;\r\n    this.then = this.now;\r\n\r\n    return this.delta;\r\n  \r\n  };\r\n\r\n  ServerTicker.prototype.GetTPS = function () {\r\n\r\n    return Nenkraft.Math.PR( 1 / this.delta * 1000, 2 );\r\n  \r\n  };\r\n\r\n  ServerTicker.prototype.SetDesiredRate = function ( _rate ) {\r\n\r\n    this.desiredRate = _rate === undefined ? 16.66 : 1000 / _rate;\r\n  \r\n  };\r\n\r\n  ServerTicker.prototype.Start = function ( _force ) {\r\n\r\n    if ( this.intervalId !== null ) {\r\n\r\n      if ( _force === true ) {\r\n\r\n        this.Stop();\r\n        this.intervalId = setInterval( this.Process.bind( this ), this.desiredRate );\r\n      \r\n      } else {\r\n\r\n      }\r\n    \r\n    } else {\r\n\r\n      this.intervalId = setInterval( this.Process.bind( this ), this.desiredRate );\r\n      \r\n    }\r\n  \r\n  };\r\n\r\n  ServerTicker.prototype.Stop = function () {\r\n\r\n    if ( this.intervalId !== null ) {\r\n\r\n      clearInterval( this.intervalId );\r\n      this.intervalId = null;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Time.ServerTicker = ServerTicker;\r\n  Nenkraft.ServerTicker = ServerTicker;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-time/nk-ticker/nk-server-ticker.js\n// module id = 143\n// module chunks = 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Matrix2D () {\r\n\r\n    if ( !( this instanceof Matrix2D ) ) return new Matrix2D();\r\n    this.array = new Float32Array( 9 );\r\n  \r\n  }\r\n\r\n  Matrix2D.prototype = Object.create( null );\r\n  Matrix2D.prototype.constructor = Matrix2D;\r\n  // Static\r\n  Matrix2D.EPSILON = 0.00001;\r\n  // Members\r\n  Matrix2D.prototype.array = null;\r\n  Matrix2D.prototype.a = 1;\r\n  Matrix2D.prototype.b = 0;\r\n  Matrix2D.prototype.c = 0;\r\n  Matrix2D.prototype.d = 1;\r\n  Matrix2D.prototype.e = 0;\r\n  Matrix2D.prototype.f = 0;\r\n\r\n  // Methods\r\n  Matrix2D.prototype.Identity = function () {\r\n\r\n    this.a = 1;\r\n    this.b = 0;\r\n    this.c = 0;\r\n    this.d = 1;\r\n    this.e = 0;\r\n    this.f = 0;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Copy = function () {\r\n\r\n    var matrix = new Matrix2D();\r\n    matrix.Set( this.a, this.b, this.c, this.d, this.e, this.f );\r\n    return matrix;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Set = function ( _a, _b, _c, _d, _e, _f ) {\r\n\r\n    this.a = _a;\r\n    this.b = _b;\r\n    this.c = _c;\r\n    this.d = _d;\r\n    this.e = _e;\r\n    this.f = _f;\r\n    return this;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.SetTransform = function ( _x, _y, _sx, _sy, _r, _skx, _sky, _px, _py ) {\r\n\r\n    _x = _x == null ? 0 : _x;\r\n    _y = _y == null ? 0 : _y;\r\n    _sx = _sx == null ? 1 : _sx;\r\n    _sy = _sy == null ? 1 : _sy;\r\n    _r = _r == null ? 0 : _r;\r\n    _skx = _skx == null ? 0 : _skx;\r\n    _sky = _sky == null ? 0 : _sky;\r\n    _px = _px == null ? 0 : _px;\r\n    _py = _py == null ? 0 : _py;\r\n    var sr = Math.sin( _r );\r\n    var cr = Math.cos( _r );\r\n    var sskx = -Math.sin( _skx );\r\n    var cskx = Math.cos( _skx );\r\n    var ssky = Math.sin( _sky );\r\n    var csky = Math.cos( _sky );\r\n    var a = cr * _sx;\r\n    var b = sr * _sx;\r\n    var c = -sr * _sy;\r\n    var d = cr * _sy;\r\n    this.a = csky * a + ssky * c;\r\n    this.b = csky * b + ssky * d;\r\n    this.c = sskx * a + cskx * c;\r\n    this.d = sskx * b + cskx * d;\r\n    this.e = _x + _px * a + _py * c;\r\n    this.f = _y + _px * b + _py * d;\r\n    return this;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Translate = function ( _x, _y ) {\r\n\r\n    this.e += _x;\r\n    this.f += _y;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.TranslateTo = function( _x, _y ) {\r\n\r\n    this.e = _x;\r\n    this.f = _y;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.ApplyTranslation = function ( _x, _y ) {\r\n\r\n    this.e = _x * this.a + _y * this.c + this.e;\r\n    this.f = _x * this.b + _y * this.d + this.f;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.ApplyScale = function ( _x, _y ) {\r\n\r\n    this.a *= _x;\r\n    this.b *= _y;\r\n    this.c *= _x;\r\n    this.d *= _y;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Scale = function ( _x, _y ) {\r\n\r\n    this.a *= _x;\r\n    this.b *= _y;\r\n    this.c *= _x;\r\n    this.d *= _y;\r\n    this.e *= _x;\r\n    this.f *= _y;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Rotate = function ( _angle ) {\r\n\r\n    var sa = Math.sin( _angle );\r\n    var ca = Math.cos( _angle );\r\n    var a = this.a;\r\n    var c = this.c;\r\n    var e = this.e;\r\n    this.a = a * ca - this.b * sa;\r\n    this.b = a * sa + this.b * ca;\r\n    this.c = c * ca - this.d * sa;\r\n    this.d = c * sa + this.d * ca;\r\n    this.e = e * ca - this.f * sa;\r\n    this.f = e * sa + this.f * ca;\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.Decompose = function ( _transform ) {\r\n\r\n    var a = this.a;\r\n    var b = this.b;\r\n    var c = this.c;\r\n    var d = this.d;\r\n    var skx = -Math.atan2( -c, d );\r\n    var sky = Math.atan2( b, a );\r\n    var delta = Math.abs( skx + sky );\r\n\r\n    if ( delta < Matrix2D.EPSILON ) {\r\n\r\n      _transform.rotation = sky;\r\n\r\n      if ( a < 0 && d >= 0 ) {\r\n\r\n        _transform.rotation += Math.PI;\r\n      \r\n      }\r\n\r\n      _transform.skew.Set( 0 );\r\n    \r\n    } else {\r\n\r\n      _transform.skew.Set( skx, sky );\r\n    \r\n    }\r\n\r\n    _transform.scale.Set( Math.sqrt( a * a + b * b ), Math.sqrt( c * c + d * d ) );\r\n    _transform.position.Set( this.e, this.f );\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.ApplyToContext = function ( _rc ) {\r\n\r\n    _rc.setTransform( this.a, this.b, this.c, this.d, this.e, this.f );\r\n  \r\n  };\r\n\r\n  Matrix2D.prototype.AsArray = function ( _transpose ) {\r\n\r\n    var array = this.array;\r\n\r\n    if ( _transpose === true ) {\r\n\r\n      array[ 0 ] = this.a;\r\n      array[ 1 ] = this.b;\r\n      array[ 2 ] = 0;\r\n      array[ 3 ] = this.c;\r\n      array[ 4 ] = this.d;\r\n      array[ 5 ] = 0;\r\n      array[ 6 ] = this.e;\r\n      array[ 7 ] = this.f;\r\n      array[ 8 ] = 1;\r\n    \r\n    } else {\r\n\r\n      array[ 0 ] = this.a;\r\n      array[ 1 ] = this.c;\r\n      array[ 2 ] = this.e;\r\n      array[ 3 ] = this.b;\r\n      array[ 4 ] = this.d;\r\n      array[ 5 ] = this.f;\r\n      array[ 6 ] = 0;\r\n      array[ 7 ] = 0;\r\n      array[ 8 ] = 1;\r\n    \r\n    }\r\n\r\n    return array;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Matrix2D = Matrix2D;\r\n  Nenkraft.Matrix2D = Matrix2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-matrix/nk-matrix2d.js\n// module id = 15\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Basetransform2D ( _x, _y ) {\r\n\r\n    if ( !( this instanceof Basetransform2D ) ) return new Basetransform2D( _x, _y );\r\n    this.position = Nenkraft.Vector2D( _x, _y );\r\n    this.scale = Nenkraft.Vector2D( 1, 1 );\r\n    this.localTransform = Nenkraft.Vector2D( 0, 0 );\r\n    this.worldTransform = Nenkraft.Vector2D( 0, 0 );\r\n  \r\n  }\r\n\r\n  Basetransform2D.prototype = Object.create( null );\r\n  Basetransform2D.prototype.constructor = Basetransform2D;\r\n  // Static\r\n\r\n  // Members\r\n\r\n  // Methods\r\n  Basetransform2D.prototype.UpdateLocal = function () {\r\n\r\n    this.localTransform.SetV( this.position );\r\n  \r\n  };\r\n\r\n  Basetransform2D.prototype.UpdateWorld = function ( _parentWorldTransform ) {\r\n\r\n    var localTransform = this.localTransform;\r\n    localTransform.SetV( this.position );\r\n    this.worldTransform.Set( _parentWorldTransform.e + localTransform.x, _parentWorldTransform.f + localTransform.y );\r\n  \r\n  };\r\n\r\n  Basetransform2D.prototype.ApplyWorld = function ( _rc ) {\r\n\r\n    _rc.setTransform( this.scale.x, 0, 0, this.scale.y, this.worldTransform.x, this.worldTransform.y );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Basetransform2D = Basetransform2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-transform/nk-basetransform2d.js\n// module id = 16\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Transform2D ( _x, _y ) {\r\n\r\n    if ( !( this instanceof Transform2D ) ) return new Transform2D( _x, _y );\r\n    this.position = Nenkraft.Vector2D( _x, _y );\r\n    this.scale = Nenkraft.Vector2D( 1, 1 );\r\n    this.skew = Nenkraft.Vector2D( 0, 0 );\r\n    this.pivot = Nenkraft.Vector2D( 0, 0 );\r\n    this.localTransform = Nenkraft.Matrix2D();\r\n    this.worldTransform = Nenkraft.Matrix2D();\r\n  \r\n  }\r\n\r\n  Transform2D.prototype = Object.create( null );\r\n  Transform2D.prototype.constructor = Transform2D;\r\n  // Static\r\n\r\n  // Members\r\n  Transform2D.prototype.rotation = 0;\r\n  Transform2D.prototype.skewCX = 1;\r\n  Transform2D.prototype.skewSX = 0;\r\n  Transform2D.prototype.skewCY = 0;\r\n  Transform2D.prototype.skewSY = 1;\r\n\r\n  // Methods\r\n  Transform2D.prototype.Set = function ( _matrix ) {\r\n\r\n    _matrix.Decompose( this );\r\n    this.UpdateSkew();\r\n  \r\n  };\r\n\r\n  Transform2D.prototype.UpdateLocal = function () {\r\n\r\n    var localTransform = this.localTransform, position = this.position, scale = this.scale, pivot = this.pivot;\r\n\r\n    localTransform.a = this.skewCX * scale.x;\r\n    localTransform.b = this.skewSX * scale.x;\r\n    localTransform.c = this.skewCY * scale.y;\r\n    localTransform.d = this.skewSY * scale.y;\r\n\r\n    localTransform.e = position.x - pivot.x * localTransform.a + pivot.y * localTransform.c;\r\n    localTransform.f = position.y - pivot.y * localTransform.b + pivot.y * localTransform.d;\r\n  \r\n  };\r\n\r\n  Transform2D.prototype.UpdateWorld = function ( _parentWorldTransform ) {\r\n\r\n    var localTransform = this.localTransform, worldTransform = this.worldTransform, position = this.position, scale = this.scale, pivot = this.pivot;\r\n\r\n    localTransform.a = this.skewCX * scale.x;\r\n    localTransform.b = this.skewSX * scale.x;\r\n    localTransform.c = this.skewCY * scale.y;\r\n    localTransform.d = this.skewSY * scale.y;\r\n\r\n    localTransform.e = position.x - pivot.x * localTransform.a + pivot.y * localTransform.c;\r\n    localTransform.f = position.y - pivot.y * localTransform.b + pivot.y * localTransform.d;\r\n\r\n    worldTransform.a = localTransform.a * _parentWorldTransform.a + localTransform.b * _parentWorldTransform.c;\r\n    worldTransform.b = localTransform.a * _parentWorldTransform.b + localTransform.b * _parentWorldTransform.d;\r\n    worldTransform.c = localTransform.c * _parentWorldTransform.a + localTransform.d * _parentWorldTransform.c;\r\n    worldTransform.d = localTransform.c * _parentWorldTransform.b + localTransform.d * _parentWorldTransform.d;\r\n\r\n    worldTransform.e = localTransform.e * _parentWorldTransform.a + localTransform.f * _parentWorldTransform.c + _parentWorldTransform.e;\r\n    worldTransform.f = localTransform.e * _parentWorldTransform.b + localTransform.f * _parentWorldTransform.d + _parentWorldTransform.f;\r\n  \r\n  };\r\n\r\n  Transform2D.prototype.UpdateSkew = function () {\r\n\r\n    var skew = this.skew, rotation = this.rotation;\r\n    this.skewCX = Math.cos( rotation + skew.y );\r\n    this.skewSX = Math.sin( rotation + skew.y );\r\n    this.skewCY = -Math.sin( rotation - skew.x );\r\n    this.skewSY = Math.cos( rotation - skew.x );\r\n  \r\n  };\r\n\r\n  Transform2D.prototype.ApplyWorld = function ( _rc ) {\r\n\r\n    this.worldTransform.ApplyToContext( _rc );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Transform2D = Transform2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-transform/nk-transform2d.js\n// module id = 17\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var LLI = Nenkraft.Math.LineLineIntersection;\r\n  var CPOL = Nenkraft.Math.ClosestPointOnLine;\r\n\r\n  function Line2D ( _arg0, _arg1, _arg2, _arg3 ) {\r\n\r\n    if ( !( this instanceof Line2D ) ) return new Line2D( _arg0, _arg1, _arg2, _arg3 );\r\n\r\n    if ( _arg0 !== undefined && _arg0.x != null && _arg0.y != null && _arg1 !== undefined && _arg1.x != null && _arg1.y != null ) {\r\n\r\n      this.s = _arg0;\r\n      this.e = _arg1;\r\n    \r\n    }\r\n    else if ( _arg0 !== undefined && _arg1 !== undefined && _arg2 !== undefined && _arg3 !== undefined ) {\r\n\r\n      this.s = Nenkraft.Vector2D( _arg0, _arg1 );\r\n      this.e = Nenkraft.Vector2D( _arg2, _arg3 );\r\n    \r\n    }\r\n    else {\r\n\r\n      this.s = Nenkraft.Vector2D();\r\n      this.e = Nenkraft.Vector2D();\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  Line2D.prototype = Object.create( null );\r\n  Line2D.prototype.constructor = Line2D;\r\n  // Static\r\n  Line2D.TYPE = 0;\r\n  // Members\r\n  Line2D.prototype.TYPE = Line2D.TYPE;\r\n  Line2D.prototype.epsilon = 1000;\r\n  Line2D.prototype.belongsTo = null;\r\n\r\n  // Methods\r\n  Line2D.prototype.Stretch = function ( _magnitude ) {\r\n\r\n    var hm = _magnitude * 0.5;\r\n    this.s.PushFromV( this.e, hm );\r\n    this.e.PushFromV( this.s, hm );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.Rotate = function ( _angle, _anchorX, _anchorY ) {\r\n\r\n    _anchorX = _anchorX == undefined ? 0.5 : _anchorX;\r\n    var ap = this.s.Copy();\r\n    ap.AddV( this.e );\r\n    ap.Multiply( _anchorX, _anchorY == undefined ? _anchorX : _anchorY );\r\n    this.s.RotateAroundV( ap, _angle );\r\n    this.e.RotateAroundV( ap, _angle );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.Cut = function( _cuts, _points ) {\r\n\r\n    if ( _points == null ) _points = [];\r\n\r\n    for ( var i = 0; i < _cuts.length; ++i ) {\r\n\r\n      _points.push( this.s.GetWeightedAverageV( this.e, _cuts[i] ) );\r\n    \r\n    }\r\n\r\n    return _points;\r\n\r\n  };\r\n\r\n  Line2D.prototype.GetLength = function () {\r\n\r\n    return this.s.GetDistanceV( this.e );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.GetLengthSquared = function () {\r\n\r\n    return this.s.GetDistanceSquaredV( this.e );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    var s = this.s;\r\n    var e = this.e;\r\n    var cross = ( _v.y - s.y ) * ( e.x - s.x ) - ( _v.x - s.x ) * ( e.y - s.y );\r\n\r\n    if ( Math.abs( cross ) > this.epsilon ) {\r\n\r\n      return false;\r\n    \r\n    }\r\n\r\n    var dot = ( _v.x - s.x ) * ( e.x - s.x ) + ( _v.y - s.y ) * ( e.y - s.y );\r\n\r\n    if ( dot < 0 ) {\r\n\r\n      return false;\r\n    \r\n    }\r\n\r\n    if ( dot > this.GetLengthSquared() ) {\r\n\r\n      return false;\r\n    \r\n    }\r\n\r\n    return true;\r\n  \r\n  };\r\n\r\n  Line2D.prototype.IntersectsLine = function ( _line ) {\r\n\r\n    return LLI( this.s, this.e, _line.s, _line.e );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.GetClosestPointTo = function ( _v ) {\r\n\r\n    return CPOL( this.s, this.e, _v );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.GetNormalA = function () {\r\n\r\n    return this.s.GetNormalAV( this.e );\r\n  \r\n  };\r\n\r\n  Line2D.prototype.GetNormalB = function () {\r\n\r\n    return this.s.GetNormalBV( this.e );\r\n  \r\n  };\r\n\r\n  Nenkraft.Geom.Line2D = Line2D;\r\n  Nenkraft.Geom.Ray2D = Line2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-geom/nk-line/nk-line2d.js\n// module id = 18\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function AABB2D ( _arg0, _arg1, _arg2, _arg3 ) {\r\n\r\n    if ( !( this instanceof AABB2D ) ) return new AABB2D( _arg0, _arg1, _arg2, _arg3 );\r\n\r\n    if ( _arg0 instanceof Nenkraft.Vector2D && _arg1 instanceof Nenkraft.Vector2D ) {\r\n\r\n      this.tl = _arg0;\r\n      this.br = _arg1;\r\n    \r\n    }\r\n    else if (\r\n      _arg0 !== undefined &&\r\n      _arg1 !== undefined &&\r\n      _arg0.x !== undefined &&\r\n      _arg0.y !== undefined &&\r\n      _arg1.x !== undefined &&\r\n      _arg1.y !== undefined\r\n    ) {\r\n\r\n      this.tl = Nenkraft.Vector2D( _arg0.x, _arg0.y );\r\n      this.br = Nenkraft.Vector2D( _arg1.x, _arg1.y );\r\n    \r\n    }\r\n    else if ( _arg0 !== undefined && _arg1 !== undefined && _arg2 !== undefined && _arg3 !== undefined ) {\r\n\r\n      this.tl = Nenkraft.Vector2D( _arg0, _arg1 );\r\n      this.br = Nenkraft.Vector2D( _arg2, _arg3 );\r\n    \r\n    }\r\n    else {\r\n\r\n      this.tl = Nenkraft.Vector2D();\r\n      this.br = Nenkraft.Vector2D();\r\n    \r\n    }\r\n\r\n    this.ComputeWH();\r\n  \r\n  }\r\n\r\n  AABB2D.prototype = Object.create( null );\r\n  AABB2D.prototype.constructor = AABB2D;\r\n  // Static\r\n  AABB2D.TYPE = 1;\r\n  AABB2D.TOP_LEFT = 'TL';\r\n  AABB2D.TOP_RIGHT = 'TR';\r\n  AABB2D.BOTTOM_LEFT = 'BL';\r\n  AABB2D.BOTTOM_RIGHT = 'BR';\r\n  // Members\r\n  AABB2D.prototype.TYPE = AABB2D.TYPE;\r\n  AABB2D.prototype.w = 0;\r\n  AABB2D.prototype.h = 0;\r\n  AABB2D.prototype.hw = 0;\r\n  AABB2D.prototype.hh = 0;\r\n  AABB2D.prototype.area = 0;\r\n  AABB2D.prototype.belongsTo = null;\r\n\r\n  // Methods\r\n  AABB2D.prototype.Set = function ( _tlx, _tly, _brx, _bry ) {\r\n\r\n    this.tl.x = _tlx;\r\n    this.tl.y = _tly;\r\n    this.br.x = _brx;\r\n    this.br.y = _bry;\r\n    this.ComputeWH();\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.SetC = function ( _aabb ) {\r\n\r\n    this.Set( _aabb.tl.x, _aabb.tl.y, _aabb.br.x, _aabb.br.y );\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.Scale = function ( _x, _y ) {\r\n\r\n    this.tl.Multiply( _x, _y );\r\n    this.br.Multiply( _x, _y );\r\n    this.ComputeWH();\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.ComputeWH = function () {\r\n\r\n    this.w = this.br.x - this.tl.x;\r\n    this.h = this.br.y - this.tl.y;\r\n    this.hw = this.w * 0.5;\r\n    this.hh = this.h * 0.5;\r\n    this.area = this.w * this.h;\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.GetQuadrant = function ( _quadrant ) {\r\n\r\n    var tl = this.tl, br = this.br;\r\n\r\n    switch ( _quadrant ) {\r\n\r\n      case AABB2D.TOP_LEFT:\r\n        return AABB2D(\r\n          tl.x,\r\n          tl.y,\r\n          tl.x + this.hw,\r\n          tl.y + this.hh\r\n        );\r\n      case AABB2D.TOP_RIGHT:\r\n        return AABB2D(\r\n          tl.x + this.hw,\r\n          tl.y,\r\n          br.x,\r\n          tl.y + this.hh\r\n        );\r\n      case AABB2D.BOTTOM_LEFT:\r\n        return AABB2D(\r\n          tl.x,\r\n          tl.y + this.hh,\r\n          tl.x + this.hw,\r\n          br.y\r\n        );\r\n      case AABB2D.BOTTOM_RIGHT:\r\n        return AABB2D(\r\n          tl.x + this.hw,\r\n          tl.y + this.hh,\r\n          br.x,\r\n          br.y\r\n        );\r\n      default:\r\n        return null;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    return !( _v.x < this.tl.x || _v.x > this.br.x || _v.y < this.tl.y || _v.y > this.br.y );\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.ContainsPoint = function ( _v ) {\r\n\r\n    return ( _v.x > this.tl.x && _v.x < this.br.x && _v.y > this.tl.y && _v.y < this.br.y );\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.IntersectsAABB2D = function ( _aabb ) {\r\n\r\n    var tl1 = this.tl, br1 = this.br, tl2 = _aabb.tl, br2 = _aabb.br;\r\n    return !( tl2.x >= br1.x || tl2.y >= br1.y || br2.x <= tl1.x || br2.y <= tl1.y );\r\n  \r\n  };\r\n\r\n  AABB2D.prototype.ContainsAABB2D = function ( _aabb ) {\r\n\r\n    if ( _aabb.area > this.area ) {\r\n\r\n      return false;\r\n    \r\n    }\r\n\r\n    var tl1 = this.tl, br1 = this.br, tl2 = _aabb.tl, br2 = _aabb.br;\r\n    return ( tl2.x >= tl1.x && tl2.y >= tl1.y && br2.x <= br1.x && br2.y <= br1.y );\r\n  \r\n  };\r\n\r\n  Nenkraft.Geom.AABB2D = AABB2D;\r\n  Nenkraft.AABB2D = AABB2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-geom/nk-aabb/nk-aabb2d.js\n// module id = 19\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  var PI = Math.PI;\r\n  var Sin = Math.sin;\r\n  var Cos = Math.cos;\r\n  var Pow = Math.pow;\r\n  var Round = Math.round;\r\n\r\n  Nenkraft.Math.PII = PI * 2;\r\n  Nenkraft.Math.PI5 = PI * 0.5;\r\n  Nenkraft.Math.DEGREES_TO_RADIANS = PI / 180;\r\n  Nenkraft.Math.RADIANS_TO_DEGREES = 180 / PI;\r\n  Nenkraft.Math.RADIAN = Nenkraft.Math.DEGREES_TO_RADIANS;\r\n\r\n  var DTR = Nenkraft.Math.DegreesToRadians = Nenkraft.Math.DTR = function ( _angle ) {\r\n\r\n    return _angle * Nenkraft.Math.DEGREES_TO_RADIANS;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.RadiansToDegrees = Nenkraft.Math.RTD = function ( _angle ) {\r\n\r\n    return _angle * Nenkraft.Math.RADIANS_TO_DEGREES;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.PrecisionRound = function ( _value, _precision ) {\r\n\r\n    if ( _precision == null ) return _value;\r\n    var divisor = Pow( 10, _precision );\r\n    return Round( divisor * _value ) / divisor;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.PR = Nenkraft.Math.PrecisionRound;\r\n\r\n  Nenkraft.Math.Spread = function ( _start, _amount, _margin, _i ) {\r\n\r\n    return ( _start - ( _margin * ( _amount - 1 ) * 0.5 ) + ( _i * _margin ) );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.AttractRepel = function ( _repeller, _attractor, _velocity, _radius, _strength ) {\r\n\r\n    var delta = _attractor.SubtractVC( _repeller ), distance = delta.GetMagnitudeSquared();\r\n\r\n    if ( distance < _radius * _radius ) {\r\n\r\n      var theta = delta.GetAngle();\r\n      _velocity.Add(\r\n        Cos( theta ) * _strength,\r\n        Sin( theta ) * _strength\r\n      );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Oscillate = function( _time, _from, _to, _amplitude ) {\r\n\r\n    var delta = ( _to - _from ) * 0.5;\r\n    return ( _from + delta ) + ( Sin( DTR( _time * _amplitude ) ) * delta );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.LineLineIntersection = function ( _sA, _eA, _sB, _eB ) {\r\n\r\n    var d1 = _eA.SubtractVC( _sA );\r\n    var d2 = _eB.SubtractVC( _sB );\r\n    var l = -d2.x * d1.y + d1.x * d2.y;\r\n    var abx = _sA.x - _sB.x;\r\n    var aby = _sA.y - _sB.y;\r\n    var s = ( -d1.y * abx + d1.x * aby ) / l;\r\n    var t = ( d2.x * aby - d2.y * abx ) / l;\r\n\r\n    if ( s >= 0 && s <= 1 && t >= 0 && t <= 1 ) {\r\n\r\n      d1.Set( _sA.x + ( t * d1.x ), _sA.y + ( t * d1.y ) );\r\n      return d1;\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.ClosestPointOnLine = function ( _s, _e, _v ) {\r\n\r\n    var delta = _e.SubtractVC( _s );\r\n    var u = ( ( _v.x - _s.x ) * delta.x + ( _v.y - _s.y ) * delta.y ) / delta.GetMagnitudeSquared();\r\n\r\n    if ( u < 0 ) {\r\n\r\n      return _s;\r\n    \r\n    } else if ( u > 1 ) {\r\n\r\n      return _e;\r\n    \r\n    }\r\n\r\n    delta.Set( _s.x + u * delta.x, _s.y + u * delta.y );\r\n    return delta;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.LikeASquareGrid = function ( _points, _w, _marginX, _marginY ) {\r\n\r\n    for ( var i = 0, l = _points.length, columns = ( _w / _marginX ) | 0; i < l; ++i ) {\r\n\r\n      _points[ i ].Set( ( i % columns ) * _marginX, ( ( i / columns ) | 0 ) * _marginY );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.SquareGrid = function ( _w, _h, _marginX, _marginY, _creatableClass ) {\r\n\r\n    var grid = [];\r\n\r\n    for ( var i = 0, columns = ( _w / _marginX ) | 0, rows = ( _h / _marginY ) | 0, l = columns * rows; i < l; ++i ) {\r\n\r\n      grid.push( new _creatableClass( ( i % columns ) * _marginX, ( ( i / columns ) | 0 ) * _marginY ) );\r\n    \r\n    }\r\n\r\n    return grid;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.TriRectArray = function ( _x, _y, _w, _h, _arr ) {\r\n\r\n    if ( _arr != null ) {\r\n\r\n      _arr[ 0 ] = _x;\r\n      _arr[ 1 ] = _y;\r\n      _arr[ 2 ] = _x + _w;\r\n      _arr[ 3 ] = _y;\r\n      _arr[ 4 ] = _x;\r\n      _arr[ 5 ] = _y + _h;\r\n      _arr[ 6 ] = _x;\r\n      _arr[ 7 ] = _y + _h;\r\n      _arr[ 8 ] = _x + _w;\r\n      _arr[ 9 ] = _y;\r\n      _arr[ 10 ] = _x + _w;\r\n      _arr[ 11 ] = _y + _h;\r\n      return _arr;\r\n    \r\n    }\r\n\r\n    return [\r\n      _x, _y,\r\n      _x + _w, _y,\r\n      _x, _y + _h,\r\n      _x, _y + _h,\r\n      _x + _w, _y,\r\n      _x + _w, _y + _h\r\n    ];\r\n  \r\n  };\r\n\r\n  var GCD = Nenkraft.Math.GreatestCommonDivisor = Nenkraft.Math.GCD = function( _x, _y ) {\r\n\r\n    if ( _y === 0 ) return _x;\r\n    return GCD( _y, _x % _y );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.SimplifyAspectRatio = Nenkraft.Math.SAR = function( _x, _y, _array ) {\r\n\r\n    var gcd = GCD( _x, _y );\r\n    var array = _array == null ? [] : _array;\r\n    array[0] = _x / gcd;\r\n    array[1] = _y / gcd;\r\n    return array;\r\n\r\n  };\r\n\r\n  Object.defineProperty( Nenkraft.Math, 'PII', { writable: false } );\r\n  Object.defineProperty( Nenkraft.Math, 'PI5', { writable: false } );\r\n  Object.defineProperty( Nenkraft.Math, 'DEGREES_TO_RADIANS', { writable: false } );\r\n  Object.defineProperty( Nenkraft.Math, 'RADIANS_TO_DEGREES', { writable: false } );\r\n  Object.defineProperty( Nenkraft.Math, 'RADIAN', { writable: false } );\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-math.js\n// module id = 2\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  var RF = Nenkraft.Utils.RandomFloat;\r\n  var RI = Nenkraft.Utils.RandomInteger;\r\n\r\n  function Polygon2D ( _vertices ) {\r\n\r\n    if ( !( this instanceof Polygon2D ) ) return new Polygon2D( _vertices );\r\n    this.vertices = [];\r\n    this.normals = [];\r\n    this.perimeterMidPoints = [];\r\n    this.centroid = Nenkraft.Vector2D();\r\n\r\n    if ( _vertices != null ) {\r\n\r\n      if ( _vertices[ 0 ] instanceof Nenkraft.Vector2D ) {\r\n\r\n        this.AddPoints( _vertices );\r\n      \r\n      } else {\r\n\r\n        this.PushPoints( _vertices );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  Polygon2D.prototype = Object.create( null );\r\n  Polygon2D.prototype.constructor = Polygon2D;\r\n  // Static\r\n  Polygon2D.TYPE = 3;\r\n\r\n  Polygon2D.CreateCopy = function ( _polygon ) {\r\n\r\n    var p = new Polygon2D();\r\n\r\n    for ( var i = 0, vertices = _polygon.vertices, l = vertices.length; i < l; ++i ) {\r\n\r\n      p.AddPoint( vertices[ i ].Copy() );\r\n    \r\n    }\r\n\r\n    return p;\r\n  \r\n  };\r\n\r\n  Polygon2D.ExtractSegments = function( _polygon, _segments ) {\r\n\r\n    if ( _segments == null ) _segments = [];\r\n\r\n    for (\r\n      var i = 0, vertices = _polygon.vertices, vertex = vertices[ i ], l = vertices.length - 1;\r\n      i < l;\r\n      vertex = vertices[ ++i ] ) {\r\n\r\n      _segments.push( Nenkraft.Geom.Line2D( vertex, vertices[ i + 1 ] ) );\r\n    \r\n    }\r\n\r\n    _segments.push( Nenkraft.Geom.Line2D( vertices[ l ], vertices[ 0 ] ) );\r\n\r\n    return _segments;\r\n  \r\n  };\r\n\r\n  Polygon2D.GenerateRandomPoints = function( _polygon, _amount, _int, _outside ) {\r\n\r\n    _polygon.ComputeBounds();\r\n    if ( _outside == null ) _outside = false;\r\n\r\n    var randFunc = RF;\r\n    var tl = _polygon.aabb.tl;\r\n    var br = _polygon.aabb.br;\r\n    var points = [];\r\n\r\n    if ( _int === true ) randFunc = RI;\r\n\r\n    for ( var i = 0; i < _amount; ++i ) {\r\n      \r\n      var point = Nenkraft.Vector2D( randFunc( tl.x, br.x ), randFunc( tl.y, br.y ) );\r\n\r\n      while ( _polygon.IntersectsPoint( point ) === _outside ) {\r\n\r\n        point.Set( randFunc( tl.x, br.x ), randFunc( tl.y, br.y ) );\r\n\r\n      }\r\n\r\n      points.push( point );\r\n\r\n    }\r\n\r\n    return points;\r\n\r\n  };\r\n\r\n  Polygon2D.Construct = Object.create( null );\r\n\r\n  Polygon2D.Construct.Rectangular = function ( _po, _x, _y, _w, _h ) {\r\n\r\n    var tl = Nenkraft.Vector2D( _x, _y );\r\n    var tr = Nenkraft.Vector2D( _x + _w, _y );\r\n    var br = Nenkraft.Vector2D( _x + _w, _y + _h );\r\n    var bl = Nenkraft.Vector2D( _x, _y + _h );\r\n    _po.Recreate( [ tl, tr, br, bl ] );\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Isosceles = function ( _po, _x, _y, _w, _h ) {\r\n\r\n    var tm = Nenkraft.Vector2D( _x, _y );\r\n    var br = Nenkraft.Vector2D( _x + _w * 0.5, _y + _h );\r\n    var bl = Nenkraft.Vector2D( _x - _w * 0.5, _y + _h );\r\n    _po.Recreate( [ tm, br, bl ] );\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Cyclic = function ( _po, _x, _y, _ra, _acc ) {\r\n\r\n    var i = 0, l = _acc, x, y, th, an = Math.PI * 2 / l;\r\n    _po.Recreate( [] );\r\n\r\n    for ( i; i < l; ++i ) {\r\n\r\n      th = an * i;\r\n      x = Math.cos( th ) * _ra;\r\n      y = Math.sin( th ) * _ra;\r\n      _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    \r\n    }\r\n\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Equilateral = function ( _po, _x, _y, _side ) {\r\n\r\n    var th = 2.0943951023931953;\r\n    var x, y;\r\n    _po.Recreate( [] );\r\n    x = Math.cos( 0 ) * _side;\r\n    y = Math.sin( 0 ) * _side;\r\n    _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    x = Math.cos( th ) * _side;\r\n    y = Math.sin( th ) * _side;\r\n    _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    x = Math.cos( th * 2 ) * _side;\r\n    y = Math.sin( th * 2 ) * _side;\r\n    _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    _po.Rotate( Nenkraft.Math.RADIAN * -90 );\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Star = function ( _po, _x, _y, _ora, _ira, _cors ) {\r\n\r\n    var i = 0, l = _cors * 2, x, y, th, an = Math.PI * 2 / l, ra;\r\n    _po.Recreate( [] );\r\n\r\n    for ( i; i < l; ++i ) {\r\n\r\n      ra = ( i & 1 ) === 0 ? _ora : _ira;\r\n      th = an * i;\r\n      x = Math.cos( th ) * ra;\r\n      y = Math.sin( th ) * ra;\r\n      _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    \r\n    }\r\n\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Butterfly = function ( _po, _x, _y, _n, _ra ) {\r\n\r\n    var i = 0, x, y, u, c = Polygon2D.Construct.Butterfly.C;\r\n    _po.Recreate( [] );\r\n\r\n    for ( i; i < _n; ++i ) {\r\n\r\n      u = i * c._1 * Math.PI / _n;\r\n      x = Math.cos( u ) * ( Math.exp( Math.cos( u ) ) - c._2 * Math.cos( c._3 * u ) - Math.pow( Math.sin( u / c._4 ), c._5 ) ) * _ra;\r\n      y = Math.sin( u ) * ( Math.exp( Math.cos( u ) ) - c._2 * Math.cos( c._3 * u ) - Math.pow( Math.sin( u / c._4 ), c._5 ) ) * _ra;\r\n      _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    \r\n    }\r\n\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Butterfly.C = {\r\n    _1: 24,\r\n    _2: 2,\r\n    _3: 4,\r\n    _4: 12,\r\n    _5: 5,\r\n    Reset: function () {\r\n\r\n      this._1 = 24;\r\n      this._2 = 2;\r\n      this._3 = 4;\r\n      this._4 = 12;\r\n      this._5 = 5;\r\n    \r\n    }\r\n  };\r\n\r\n  Polygon2D.Construct.Supershape = function ( _po, _x, _y, _ra, _acc, _m, _n1, _n2, _n3 ) {\r\n\r\n    _n1 = _n1 === undefined ? 1 : _n1;\r\n    _n2 = _n2 === undefined ? 1 : _n2;\r\n    _n3 = _n3 === undefined ? 1 : _n3;\r\n    var i = 0, l = _acc, x, y, a, r, c = Polygon2D.Construct.Supershape.C, t1, t2;\r\n    _po.Recreate( [] );\r\n\r\n    for ( i; i < l; ++i ) {\r\n\r\n      a = i * Math.PI * 2 / _acc;\r\n\r\n      t1 = Math.cos( _m * a / 4 ) / c._A;\r\n      t1 = Math.abs( t1 );\r\n      t1 = Math.pow( t1, _n2 );\r\n\r\n      t2 = Math.sin( _m * a / 4 ) / c._B;\r\n      t2 = Math.abs( t2 );\r\n      t2 = Math.pow( t2, _n3 );\r\n\r\n      r = Math.pow( t1 + t2, 1 / _n1 );\r\n\r\n      if ( Math.abs( r ) === 0 ) {\r\n\r\n        x = 0;\r\n        y = 0;\r\n      \r\n      }\r\n      else {\r\n\r\n        r = 1 / r;\r\n        x = Math.cos( a ) * r * _ra;\r\n        y = Math.sin( a ) * r * _ra;\r\n      \r\n      }\r\n\r\n      _po.AddPoint( Nenkraft.Vector2D( _x + x, _y + y ) );\r\n    \r\n    }\r\n\r\n    _po.ComputeBounds();\r\n    _po.GetNormalsA();\r\n    return _po;\r\n  \r\n  };\r\n\r\n  Polygon2D.Construct.Supershape.C = {\r\n    _A: 1,\r\n    _B: 1\r\n  };\r\n  // Members\r\n  Polygon2D.prototype.TYPE = Polygon2D.TYPE;\r\n  Polygon2D.prototype.aabb = null;\r\n  Polygon2D.prototype.dirtyBounds = true;\r\n  Polygon2D.prototype.belongsTo = null;\r\n\r\n  // Methods\r\n  Polygon2D.prototype.AddPoint = function ( _p ) {\r\n\r\n    this.vertices.push( _p );\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.AddPoints = function ( _ps ) {\r\n\r\n    this.vertices.push.apply( this.vertices, _ps );\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.PushPoint = function ( _x, _y ) {\r\n\r\n    this.vertices.push( Nenkraft.Vector2D( _x, _y ) );\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.PushPoints = function ( _ps ) {\r\n\r\n    for ( var i = 0, l = _ps.length; i < l; i += 2 ) {\r\n\r\n      this.PushPoint( _ps[ i ], _ps[ i + 1 ] );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.Recreate = function ( _ps ) {\r\n\r\n    this.vertices.length = 0;\r\n    if ( _ps != undefined ) this.vertices.push.apply( this.vertices, _ps );\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.ComputeBounds = function () {\r\n\r\n    if ( this.aabb === null ) this.aabb = Nenkraft.Geom.AABB2D();\r\n    var mix = Infinity, max = -mix, miy = mix, may = -mix;\r\n\r\n    for ( var i = 0, ps = this.vertices, l = ps.length, p; i < l; ++i ) {\r\n\r\n      p = ps[ i ];\r\n      if ( p.x < mix ) mix = p.x;\r\n      if ( p.x > max ) max = p.x;\r\n      if ( p.y < miy ) miy = p.y;\r\n      if ( p.y > may ) may = p.y;\r\n    \r\n    }\r\n\r\n    this.aabb.Set( mix, miy, max, may );\r\n    this.dirtyBounds = false;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.Rotate = function ( _angle, _anchorX, _anchorY, _updateBounds ) {\r\n\r\n    if ( this.dirtyBounds === true && _updateBounds === true ) this.ComputeBounds();\r\n    else if ( this.aabb === null ) this.ComputeBounds();\r\n    _anchorX = _anchorX === undefined ? 0.5 : _anchorX;\r\n    var aabb = this.aabb;\r\n    var ap = aabb.tl.Copy();\r\n    ap.AddV( aabb.br );\r\n    ap.Multiply( _anchorX, _anchorY === undefined ? _anchorX : _anchorY );\r\n    var i = 0, ps = this.vertices, l = ps.length, p;\r\n\r\n    for ( i; i < l; ++i ) {\r\n\r\n      p = ps[ i ];\r\n      p.RotateAroundV( ap, _angle );\r\n    \r\n    }\r\n\r\n    this.dirtyBounds = true;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.GetCentroid = function () {\r\n\r\n    var centroid = this.centroid;\r\n    centroid.Set( 0, 0 );\r\n\r\n    for ( var i = 0, ps = this.vertices, l = ps.length, p; i < l; ++i ) {\r\n\r\n      p = ps[ i ];\r\n      centroid.AddV( p );\r\n    \r\n    }\r\n\r\n    centroid.Divide( l, l );\r\n    return centroid;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.GetNormalsA = function () {\r\n\r\n    var normals = this.normals;\r\n    normals.length = 0;\r\n\r\n    for (\r\n      var i = 0, vertices = this.vertices, vertex = vertices[ i ], l = this.vertices.length - 1;\r\n      i < l;\r\n      vertex = vertices[ ++i ] ) {\r\n\r\n      normals.push( vertex.GetNormalAV( vertices[ i + 1 ] ) );\r\n    \r\n    }\r\n\r\n    normals.push( vertices[ l ].GetNormalAV( vertices[ 0 ] ) );\r\n    return normals;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.GetNormalsB = function () {\r\n\r\n    var normals = this.normals;\r\n    normals.length = 0;\r\n\r\n    for (\r\n      var i = 0, vertices = this.vertices, vertex = vertices[ i ], l = vertices.length - 1;\r\n      i < l;\r\n      vertex = vertices[ ++i ] ) {\r\n\r\n      normals.push( vertex.GetNormalBV( vertices[ i + 1 ] ) );\r\n    \r\n    }\r\n\r\n    normals.push( vertices[ l ].GetNormalBV( vertices[ 0 ] ) );\r\n    return normals;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.GetPerimeterMidPoints = function () {\r\n\r\n    var perimeterMidPoints = this.perimeterMidPoints;\r\n    perimeterMidPoints.length = 0;\r\n\r\n    for (\r\n      var i = 0, vertices = this.vertices, vertex = vertices[ i ], l = vertices.length - 1;\r\n      i < l;\r\n      vertex = vertices[ ++i ] ) {\r\n\r\n      perimeterMidPoints.push( vertex.GetMidPointV( vertices[ i + 1 ] ) );\r\n    \r\n    }\r\n\r\n    perimeterMidPoints.push( vertices[ l ].GetMidPointV( vertices[ 0 ] ) );\r\n    return perimeterMidPoints;\r\n  \r\n  };\r\n\r\n  Polygon2D.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    if ( this.dirtyBounds === true ) this.ComputeBounds();\r\n    if ( this.aabb.IntersectsPoint( _v ) === false ) return false;\r\n    var x = _v.x;\r\n    var y = _v.y;\r\n    var intersects = false;\r\n    var i, j;\r\n    var vertices = this.vertices;\r\n    var vertexi, vertexj;\r\n    var l = vertices.length;\r\n\r\n    for ( i = 0, j = l - 1; i < l; j = i++ ) {\r\n\r\n      vertexi = vertices[ i ];\r\n      vertexj = vertices[ j ];\r\n\r\n      if (\r\n        ( ( vertexi.y > y ) !== ( vertexj.y > y ) ) &&\r\n        ( x < ( vertexj.x - vertexi.x ) * ( y - vertexi.y ) / ( vertexj.y - vertexi.y ) + vertexi.x )\r\n      ) {\r\n\r\n        intersects = !intersects;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return intersects;\r\n  \r\n  };\r\n\r\n  Nenkraft.Geom.Polygon2D = Polygon2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-geom/nk-polygon/nk-polygon2d.js\n// module id = 20\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  var RF = Nenkraft.Utils.RandomFloat;\r\n  var RI = Nenkraft.Utils.RandomInteger;\r\n\r\n  function Circle ( _x, _y, _radius ) {\r\n\r\n    if ( !( this instanceof Circle ) ) return new Circle( _x, _y, _radius );\r\n    this.center = Nenkraft.Vector2D( _x, _y );\r\n    this.radius = _radius === undefined ? 32 : _radius;\r\n  \r\n  }\r\n\r\n  Circle.prototype = Object.create( null );\r\n  Circle.prototype.constructor = Circle;\r\n  // Static\r\n  Circle.TYPE = 2;\r\n\r\n  Circle.GenerateRandomPoints = function( _circle, _amount, _int, _outside ) {\r\n\r\n    if ( _outside == null ) _outside = false;\r\n\r\n    var randFunc = RF;\r\n    var tl = Nenkraft.Vector2D( _circle.x - _circle.radius, _circle.y - _circle.radius );\r\n    var br = Nenkraft.Vector2D( _circle.x + _circle.radius, _circle.y + _circle.radius );\r\n    var points = [];\r\n\r\n    if ( _int === true ) randFunc = RI;\r\n\r\n    for ( var i = 0; i < _amount; ++i ) {\r\n      \r\n      var point = Nenkraft.Vector2D( randFunc( tl.x, br.x ), randFunc( tl.y, br.y ) );\r\n\r\n      while ( _circle.IntersectsPoint( point ) === _outside ) {\r\n\r\n        point.Set( randFunc( tl.x, br.x ), randFunc( tl.y, br.y ) );\r\n\r\n      }\r\n\r\n      points.push( point );\r\n\r\n    }\r\n\r\n    return points;\r\n\r\n  };\r\n\r\n  // Members\r\n  Circle.prototype.TYPE = Circle.TYPE;\r\n  Circle.prototype.diameter = 0;\r\n  Circle.prototype.w = 0;\r\n  Circle.prototype.h = 0;\r\n  Circle.prototype.radiusSquared = 0;\r\n  Circle.prototype.radiusUnsquared = 0;\r\n  Circle.prototype.area = 0;\r\n  Circle.prototype.belongsTo = null;\r\n\r\n  // Methods\r\n  Circle.prototype.Set = function ( _x, _y, _radius ) {\r\n\r\n    this.center.Set( _x, _y );\r\n    this.radius = _radius;\r\n  \r\n  };\r\n\r\n  Circle.prototype.SetC = function ( _circle ) {\r\n\r\n    this.center.SetV( _circle );\r\n    this.radius = _circle.radius;\r\n  \r\n  };\r\n\r\n  Circle.prototype.Scale = function ( _scale ) {\r\n\r\n    this.radius *= _scale;\r\n  \r\n  };\r\n\r\n  Circle.prototype.IntersectsCircle = function ( _circle ) {\r\n\r\n    var radii = this.radius + _circle.radius;\r\n    return ( radii * radii >= this.center.GetDistanceSquaredV( _circle.center ) );\r\n  \r\n  };\r\n\r\n  Circle.prototype.IntersectsPoint = function ( _v ) {\r\n\r\n    return ( this.radiusSquared >= this.center.GetDistanceSquaredV( _v ) );\r\n  \r\n  };\r\n\r\n  Object.defineProperty( Circle.prototype, 'x', {\r\n    set: function ( _value ) {\r\n\r\n      this.center.x = _value;\r\n    \r\n    },\r\n    get: function () {\r\n\r\n      return this.center.x;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Circle.prototype, 'y', {\r\n    set: function ( _value ) {\r\n\r\n      this.center.y = _value;\r\n    \r\n    },\r\n    get: function () {\r\n\r\n      return this.center.y;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( Circle.prototype, 'radius', {\r\n    set: function ( _value ) {\r\n\r\n      this.radiusUnsquared = _value;\r\n      this.radiusSquared = _value * _value;\r\n      this.diameter = this.w = this.h = _value * 2;\r\n      this.area = Math.PI * _value * _value;\r\n    \r\n    },\r\n    get: function () {\r\n\r\n      return this.radiusUnsquared;\r\n    \r\n    }\r\n  } );\r\n  Nenkraft.Geom.Circle = Circle;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-geom/nk-circle/nk-circle.js\n// module id = 21\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Collision2D = Object.create( null );\r\n  Collision2D.AABB2DvsAABB2D = Object.create( null );\r\n  Collision2D.AABB2DvsAABB2D.Relative = Object.create( null );\r\n  Collision2D.CirclevsCircle = Object.create( null );\r\n  Collision2D.CirclevsCircle.Relative = Object.create( null );\r\n  Collision2D.PolygonvsPolygon = Object.create( null );\r\n  Collision2D.PolygonvsPolygon.Relative = Object.create( null );\r\n  Collision2D.CirclevsLine = Object.create( null );\r\n  Collision2D.CirclevsLine.Relative = Object.create( null );\r\n\r\n  Collision2D.VectorSortMinMag = function ( _a, _b ) {\r\n\r\n    return _a.GetMagnitudeSquared() - _b.GetMagnitudeSquared();\r\n  \r\n  };\r\n\r\n  var V2DMMD = Nenkraft.Vector2D.GetMinMaxDot;\r\n  var CPOL = Nenkraft.Math.ClosestPointOnLine;\r\n\r\n  Collision2D.AABB2DvsAABB2D.Result = function () {\r\n\r\n    this.mtv = Nenkraft.Vector2D();\r\n  \r\n  };\r\n\r\n  Collision2D.AABB2DvsAABB2D.Result.prototype.occured = false;\r\n\r\n  Collision2D.AABB2DvsAABB2D.Result.prototype.Reset = function () {\r\n\r\n    this.mtv.Set( 0, 0 );\r\n    this.occured = false;\r\n  \r\n  };\r\n\r\n  Collision2D.AABB2DvsAABB2D.Relative.Collide = function ( _obj1, _obj2, _result ) {\r\n\r\n    var aabb1 = _obj1.shape, w1 = aabb1.w, h1 = aabb1.h, anchor1 = _obj1.anchor;\r\n    var aabb2 = _obj2.shape, w2 = aabb2.w, h2 = aabb2.h, anchor2 = _obj2.anchor;\r\n    var tl1 = aabb1.tl.SubtractVC( _obj1.relative );\r\n    var tl2 = aabb2.tl.SubtractVC( _obj2.relative );\r\n\r\n    if ( anchor1 != undefined ) {\r\n\r\n      tl1.x += anchor1.x * w1;\r\n      tl1.y += anchor1.y * h1;\r\n    \r\n    }\r\n\r\n    if ( anchor2 != undefined ) {\r\n\r\n      tl2.x += anchor2.x * w2;\r\n      tl2.y += anchor2.y * h2;\r\n    \r\n    }\r\n\r\n    var tl2xw = tl2.x + w1;\r\n    var tl1xw = tl1.x + w2;\r\n    var br2yh = tl2.y + h1;\r\n    var br1yh = tl1.y + h2;\r\n\r\n    if (\r\n      tl1.x < tl2xw &&\r\n      tl2.x < tl1xw &&\r\n      tl1.y < br2yh &&\r\n      tl2.y < br1yh\r\n    ) {\r\n\r\n      if ( _result != undefined ) {\r\n\r\n        var tvs = [\r\n          Nenkraft.Vector2D( tl1.x - tl2xw, 0 ),\r\n          Nenkraft.Vector2D( tl1xw - tl2.x, 0 ),\r\n          Nenkraft.Vector2D( 0, tl1.y - br2yh ),\r\n          Nenkraft.Vector2D( 0, br1yh - tl2.y )\r\n        ];\r\n        tvs.sort( Collision2D.VectorSortMinMag );\r\n        _result.mtv.SetV( tvs[ 0 ] );\r\n        _result.occured = true;\r\n      \r\n      }\r\n\r\n      return true;\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsCircle.Result = function () {\r\n\r\n    this.mtv = Nenkraft.Vector2D( 0, 0 );\r\n    this.poc = {\r\n      a: null,\r\n      b: null,\r\n      c: null\r\n    };\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsCircle.Result.prototype.mtd = 0;\r\n  Collision2D.CirclevsCircle.Result.prototype.delta = null;\r\n  Collision2D.CirclevsCircle.Result.prototype.occured = false;\r\n\r\n  Collision2D.CirclevsCircle.Result.prototype.Reset = function () {\r\n\r\n    this.poc.a = null;\r\n    this.poc.b = null;\r\n    this.poc.c = null;\r\n    this.mtv.Set( 0, 0 );\r\n    this.mtd = 0;\r\n    this.delta = null;\r\n    this.occured = false;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsCircle.Relative.Collide = function ( _obj1, _obj2, _result ) {\r\n\r\n    var c1 = _obj1.shape, c2 = _obj2.shape;\r\n    var r1 = c1.radius, r2 = c2.radius;\r\n    var radii = r1 + r2;\r\n    var anchor1 = _obj1.anchor, anchor2 = _obj2.anchor;\r\n    var pos1 = _obj1.relative.Copy();\r\n    var pos2 = _obj2.relative.Copy();\r\n\r\n    if ( anchor1 != undefined ) {\r\n\r\n      pos1.x += anchor1.x * c1.diameter;\r\n      pos1.y += anchor1.y * c1.diameter;\r\n    \r\n    }\r\n\r\n    if ( anchor2 != undefined ) {\r\n\r\n      pos2.x += anchor2.x * c2.diameter;\r\n      pos2.y += anchor2.y * c2.diameter;\r\n    \r\n    }\r\n\r\n    var delta = pos2.SubtractVC( pos1 );\r\n    var distanceSq = delta.GetMagnitudeSquared();\r\n\r\n    if ( radii * radii > distanceSq ) {\r\n\r\n      if ( _result != undefined ) {\r\n\r\n        var distance = Math.sqrt( distanceSq );\r\n        var dm = ( c1.radiusSquared - c2.radiusSquared + distanceSq ) / ( distance + distance );\r\n        var poc1 = Nenkraft.Vector2D(\r\n          pos1.x + ( delta.x * dm / distance ),\r\n          pos1.y + ( delta.y * dm / distance )\r\n        );\r\n        var de = Math.sqrt( ( c1.radiusSquared ) - ( dm * dm ) ) / distance;\r\n        var rx = -delta.y * de;\r\n        var ry = delta.x * de;\r\n        var poc2 = Nenkraft.Vector2D(\r\n          poc1.x + rx,\r\n          poc1.y + ry\r\n        );\r\n        var poc3 = Nenkraft.Vector2D(\r\n          poc1.x - rx,\r\n          poc1.y - ry\r\n        );\r\n        var mtv = pos1.SubtractVC( pos2 );\r\n        mtv.Divide( radii, radii );\r\n        var mtd = distance - r1 - r2;\r\n        _result.poc.a = poc1;\r\n        _result.poc.b = poc2;\r\n        _result.poc.c = poc3;\r\n        _result.mtv.SetV( mtv );\r\n        _result.mtd = mtd;\r\n        _result.delta = delta;\r\n        _result.occured = true;\r\n      \r\n      }\r\n\r\n      return true;\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsCircle.Relative.ElasticResponse = function ( _obj1, _obj2, _result ) {\r\n\r\n    var n = _result.delta.Copy();\r\n    var mtv = _result.mtv.Copy();\r\n    n.Normalize();\r\n    var m1 = _obj1.mass;\r\n    var m2 = _obj2.mass;\r\n    var v1 = _obj1.velocity;\r\n    var v2 = _obj2.velocity;\r\n    var a1 = v1.GetDotV( n );\r\n    var a2 = v2.GetDotV( n );\r\n    var op = 2 * ( a1 - a2 ) / ( m1 + m2 );\r\n    v1.Set(\r\n      v1.x - op * m2 * n.x,\r\n      v1.y - op * m2 * n.y\r\n    );\r\n    v2.Set(\r\n      v2.x + op * m1 * n.x,\r\n      v2.y + op * m1 * n.y\r\n    );\r\n    mtv.Multiply( _result.mtd, _result.mtd );\r\n    mtv.Divide( 2, 2 );\r\n    _obj1.relative.SubtractV( mtv );\r\n    _obj2.relative.AddV( mtv );\r\n  \r\n  };\r\n\r\n  Collision2D.PolygonvsPolygon.Result = function () {\r\n\r\n    this.mtv = Nenkraft.Vector2D( 0, 0 );\r\n    this.olAxis = Nenkraft.Vector2D( 0, 0 );\r\n  \r\n  };\r\n\r\n  Collision2D.PolygonvsPolygon.Result.prototype.occured = false;\r\n  Collision2D.PolygonvsPolygon.Result.prototype.mtd = Infinity;\r\n\r\n  Collision2D.PolygonvsPolygon.Result.prototype.Reset = function () {\r\n\r\n    this.occured = false;\r\n    this.mtv.Set( 0, 0 );\r\n    this.mtd = Infinity;\r\n    this.olAxis.Set( 0, 0 );\r\n  \r\n  };\r\n\r\n  var AS = Collision2D.PolygonvsPolygon.Relative.AxisSeparates = function ( _obj1, _obj2, _axis, _result ) {\r\n\r\n    var d1 = V2DMMD( _obj1.shape.vertices, _axis );\r\n    var d2 = V2DMMD( _obj2.shape.vertices, _axis );\r\n    var offset = _obj2.relative.SubtractVC( _obj1.relative ).GetDotV( _axis );\r\n    d2.Add( offset, offset );\r\n\r\n    if ( d1.x > d2.y || d2.x > d1.y ) {\r\n\r\n      return true;\r\n    \r\n    }\r\n\r\n    if ( _result != undefined ) {\r\n\r\n      var mtd = 0;\r\n      var d1x = d1.x;\r\n      var d1y = d1.y;\r\n      var d2x = d2.x;\r\n      var d2y = d2.y;\r\n      var o1 = 0, o2 = 0;\r\n\r\n      if ( d1x < d2x ) {\r\n\r\n        if ( d1y < d2y ) {\r\n\r\n          mtd = d1y - d2x;\r\n        \r\n        } else {\r\n\r\n          o1 = d1y - d2x;\r\n          o2 = d2y - d1x;\r\n\r\n          if ( o1 < o2 ) {\r\n\r\n            mtd = o1;\r\n          \r\n          } else {\r\n\r\n            mtd = -o2;\r\n          \r\n          }\r\n        \r\n        }\r\n      \r\n      } else if ( d1y > d2y ) {\r\n\r\n        mtd = d1x - d2y;\r\n        \r\n      } else {\r\n\r\n        o1 = d1y - d2x;\r\n        o2 = d2y - d1x;\r\n\r\n        if ( o1 < o2 ) {\r\n\r\n          mtd = o1;\r\n          \r\n        } else {\r\n\r\n          mtd = -o2;\r\n          \r\n        }\r\n        \r\n      }\r\n\r\n      var absMtd = Math.abs( mtd );\r\n\r\n      if ( absMtd < _result.mtd ) {\r\n\r\n        _result.mtd = absMtd;\r\n        _result.olAxis.SetV( _axis );\r\n\r\n        if ( mtd < 0 ) {\r\n\r\n          _result.olAxis.Invert();\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Collision2D.PolygonvsPolygon.Relative.Collide = function ( _obj1, _obj2, _result ) {\r\n\r\n    var p1 = _obj1.shape;\r\n    var p2 = _obj2.shape;\r\n    var p1Normals = p1.normals;\r\n    var p2Normals = p2.normals;\r\n    var i = 0, p1l = p1Normals.length, p2l = p2Normals.length;\r\n\r\n    for ( i; i < p1l; ++i ) {\r\n\r\n      if ( AS( _obj1, _obj2, p1Normals[ i ], _result ) === true ) {\r\n\r\n        return false;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    for ( i = 0; i < p2l; ++i ) {\r\n\r\n      if ( AS( _obj1, _obj2, p2Normals[ i ], _result ) === true ) {\r\n\r\n        return false;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    if ( _result != undefined ) {\r\n\r\n      _result.mtv.SetV( _result.olAxis );\r\n      _result.mtv.Multiply( _result.mtd, _result.mtd );\r\n      _result.occured = true;\r\n    \r\n    }\r\n\r\n    return true;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsLine.Result = function () {\r\n\r\n    this.mtv = Nenkraft.Vector2D( 0, 0 );\r\n    this.cp = Nenkraft.Vector2D( 0, 0 );\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsLine.Result.prototype.occured = false;\r\n  Collision2D.CirclevsLine.Result.prototype.sore = 0;\r\n\r\n  Collision2D.CirclevsLine.Result.prototype.Reset = function () {\r\n\r\n    this.mtv.Set( 0, 0 );\r\n    this.cp.Set( 0, 0 );\r\n    this.occured = false;\r\n    this.sore = 0;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsLine.Relative.Collide = function ( _c, _l, _result ) {\r\n\r\n    var lshape = _l.shape;\r\n    var cshape = _c.shape;\r\n    var lpos = _l.relative;\r\n    var cpos = _c.relative;\r\n    var s = lshape.s.AddVC( lpos );\r\n    var e = lshape.e.AddVC( lpos );\r\n    var cp = CPOL( s, e, cpos );\r\n    var delta = cpos.SubtractVC( cp );\r\n    var distanceSq = delta.GetMagnitudeSquared();\r\n\r\n    if ( distanceSq < cshape.radiusSquared ) {\r\n\r\n      if ( _result ) {\r\n\r\n        var mtv = delta;\r\n        var distance = cshape.radius - Math.sqrt( distanceSq );\r\n        mtv.Normalize();\r\n        mtv.Multiply( distance, distance );\r\n        _result.mtv.SetV( mtv );\r\n        _result.cp.SetV( cp );\r\n        _result.occured = true;\r\n\r\n        if ( cp === s ) {\r\n\r\n          _result.sore = 1;\r\n        \r\n        } else if ( cp === e ) {\r\n\r\n          _result.sore = 2;\r\n        \r\n        }\r\n      \r\n      }\r\n\r\n      return true;\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Collision2D.CirclevsLine.Relative.ReflectingResponse = function ( _c, _l, _result ) {\r\n\r\n    var lshape = _l.shape;\r\n    var cvel = _c.velocity;\r\n    var cpos = _c.relative;\r\n    var n;\r\n    var refl;\r\n    var cp = _result.cp;\r\n\r\n    if ( _result.sore !== 0 ) {\r\n\r\n      n = cp.SubtractVC( cpos );\r\n      n.Normalize();\r\n    \r\n    } else {\r\n\r\n      n = lshape.GetNormalA();\r\n    \r\n    }\r\n\r\n    refl = cvel.GetReflectionV( n );\r\n    cvel.SetV( refl );\r\n    cpos.AddV( _result.mtv );\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Collision2D = Collision2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-collision/nk-collision2d.js\n// module id = 22\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  Nenkraft.Math.Ease = Object.create( null );\r\n\r\n  var Sin = Math.sin;\r\n  var Cos = Math.cos;\r\n  var Sqrt = Math.sqrt;\r\n  var PI = Math.PI;\r\n\r\n  Nenkraft.Math.Ease.Linear = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    return _amplitude * _time / _duration + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.QuadIn = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    _time /= _duration;\r\n    return _amplitude * _time * _time + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.QuadOut = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    _time /= _duration;\r\n    return -_amplitude * _time * ( _time - 2 ) + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.QuadInOut = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    _time /= _duration * 0.5;\r\n    if ( _time < 1 ) return _amplitude * 0.5 * _time * _time + _startValue;\r\n    _time--;\r\n    return -_amplitude * 0.5 * ( _time * ( _time - 2 ) - 1 ) + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.SineIn = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    return -_amplitude * Cos( _time / _duration * ( PI * 0.5 ) ) + _amplitude + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.SineOut = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    return _amplitude * Sin( _time / _duration * ( PI * 0.5 ) ) + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.SineInOut = function ( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    return -_amplitude * 0.5 * ( Cos( PI * _time / _duration ) - 1 ) + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.CircIn = function( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    _time /= _duration;\r\n    return -_amplitude * ( Sqrt( 1 - _time * _time ) - 1 ) + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.CircOut = function( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    _time /= _duration;\r\n    _time--;\r\n    return _amplitude * Sqrt( 1 - _time * _time ) + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Math.Ease.CircInOut = function( _time, _startValue, _amplitude, _duration ) {\r\n\r\n    _time /= _duration * 0.5;\r\n    if ( _time < 1 ) return -_amplitude * 0.5 * ( Sqrt( 1 - _time * _time ) - 1 ) + _startValue;\r\n    _time -= 2;\r\n    return _amplitude * 0.5 * ( Sqrt( 1 - _time * _time ) + 1 ) + _startValue;\r\n  \r\n  };\r\n\r\n  Nenkraft.Ease = Nenkraft.Math.Ease;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-math/nk-ease.js\n// module id = 23\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Motion ( _id, _target, _propertyString, _value, _duration, _easing ) {\r\n\r\n    if ( !( this instanceof Motion ) ) return new Motion( _id, _target, _propertyString, _value, _duration, _easing );\r\n    this.id = _id;\r\n    this.target = _target;\r\n    this.propertyString = _propertyString;\r\n    if ( _value !== undefined ) this.value = _value;\r\n    if ( _duration !== undefined ) this.duration = _duration;\r\n    this.easing = Nenkraft.Math.Ease[ _easing === undefined ? Motion.DEFAULT_EASING : _easing ];\r\n    this.onStart = Nenkraft.Event.LocalEvent();\r\n    this.onEnd = Nenkraft.Event.LocalEvent();\r\n    this.onStop = Nenkraft.Event.LocalEvent();\r\n    this.onReconfigure = Nenkraft.Event.LocalEvent();\r\n    this.onReset = Nenkraft.Event.LocalEvent();\r\n  \r\n  }\r\n\r\n  Motion.prototype = Object.create( null );\r\n  Motion.prototype.constructor = Motion;\r\n  // Static\r\n  Motion.DEFAULT_EASING = 'Linear';\r\n  // Members\r\n  Motion.prototype.id = null;\r\n  Motion.prototype.target = null;\r\n  Motion.prototype.easing = null;\r\n  Motion.prototype.duration = 1000;\r\n  Motion.prototype.time = 0;\r\n  Motion.prototype.value = 1;\r\n  Motion.prototype.startValue = 0;\r\n  Motion.prototype.propertyString = null;\r\n  Motion.prototype.change = 0;\r\n  Motion.prototype.property = null;\r\n  Motion.prototype.propertyObject = null;\r\n  Motion.prototype.running = false;\r\n\r\n  // Methods\r\n  Motion.prototype.Start = function () {\r\n\r\n    var property = this.propertyString.split( '.' );\r\n    this.property = property[ property.length - 1 ];\r\n    this.propertyObject = Nenkraft.Utils.Nested( this.target, this.propertyString, true );\r\n    this.startValue = this.propertyObject[ this.property ];\r\n    this.change = this.value - this.startValue;\r\n    this.time = 0;\r\n    this.running = true;\r\n    this.onStart.Dispatch( this, null );\r\n  \r\n  };\r\n\r\n  Motion.prototype.Stop = function () {\r\n\r\n    delete this.property;\r\n    delete this.propertyObject;\r\n    delete this.startValue;\r\n    delete this.change;\r\n    delete this.time;\r\n    delete this.running;\r\n    this.onStop.Dispatch( this, null );\r\n  \r\n  };\r\n\r\n  Motion.prototype.Process = function () {\r\n\r\n    if ( this.running === true ) {\r\n\r\n      this.propertyObject[ this.property ] = this.easing( this.time, this.startValue, this.change, this.duration );\r\n\r\n      if ( ++this.time >= this.duration ) {\r\n\r\n        this.running = false;\r\n        this.propertyObject[ this.property ] = this.value;\r\n        this.onEnd.Dispatch( this, null );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Motion.prototype.Reconfigure = function ( _propertyString, _value, _duration, _easing ) {\r\n\r\n    if ( _propertyString !== undefined ) this.propertyString = _propertyString;\r\n    this.value = _value;\r\n    this.duration = _duration;\r\n    this.easing = Nenkraft.Math.Ease[ _easing === undefined ? Motion.DEFAULT_EASING : _easing ];\r\n    this.onReconfigure.Dispatch( this, null );\r\n  \r\n  };\r\n\r\n  Motion.prototype.NewVal = function( _value ) {\r\n\r\n    this.value = _value;\r\n    this.Start();\r\n\r\n  };\r\n\r\n  Motion.prototype.Reset = function () {\r\n\r\n    if ( this.propertyObject === null || this.property === null ) return false;\r\n    this.propertyObject[ this.property ] = this.startValue;\r\n    delete this.property;\r\n    delete this.propertyObject;\r\n    delete this.startValue;\r\n    delete this.change;\r\n    delete this.time;\r\n    delete this.running;\r\n    this.onReset.Dispatch( this, null );\r\n  \r\n  };\r\n\r\n  Nenkraft.Motion = Motion;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-motion/nk-motion.js\n// module id = 24\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function MotionManager ( _target ) {\r\n\r\n    if ( !( this instanceof MotionManager ) ) return new MotionManager( _target );\r\n    this.motions = [];\r\n    this.target = _target;\r\n  \r\n  }\r\n\r\n  MotionManager.prototype = Object.create( null );\r\n  MotionManager.prototype.constructor = MotionManager;\r\n  // Static\r\n\r\n  // Members\r\n  MotionManager.prototype.target = null;\r\n  MotionManager.prototype.motions = null;\r\n\r\n  // Methods\r\n  MotionManager.prototype.Create = function ( _id, _propertyString, _value, _duration, _easing ) {\r\n\r\n    var exists = this.GetMotion( _id );\r\n\r\n    if ( exists === null ) {\r\n\r\n      var motion = Nenkraft.Motion( _id, this.target, _propertyString, _value, _duration, _easing );\r\n      this.motions.push( motion );\r\n      return motion;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.Add = function ( _motion ) {\r\n\r\n    var exists = this.GetMotion( _motion.id );\r\n\r\n    if ( exists === null ) {\r\n\r\n      this.motions.push( _motion );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.Start = function ( _id ) {\r\n\r\n    var motion = this.GetMotion( _id );\r\n\r\n    if ( motion !== null ) {\r\n\r\n      motion.Start();\r\n    \r\n    }\r\n\r\n    return motion;\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.StartMultiple = function ( _ids ) {\r\n\r\n    _ids = _ids.split( ' ' );\r\n\r\n    for ( var i = 0, l = _ids.length; i < l; ++i ) {\r\n\r\n      this.Start( _ids[ i ] );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.Stop = function ( _id ) {\r\n\r\n    var motion = this.GetMotion( _id );\r\n\r\n    if ( motion !== null ) {\r\n\r\n      motion.Stop();\r\n    \r\n    }\r\n\r\n    return motion;\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.StopMultiple = function ( _ids ) {\r\n\r\n    _ids = _ids.split( ' ' );\r\n\r\n    for ( var i = 0, l = _ids.length; i < l; ++i ) {\r\n\r\n      this.Stop( _ids[ i ] );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.Reset = function ( _id ) {\r\n\r\n    var motion = this.GetMotion( _id );\r\n\r\n    if ( motion !== null ) {\r\n\r\n      motion.Reset();\r\n    \r\n    }\r\n\r\n    return motion;\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.ResetMultiple = function ( _ids ) {\r\n\r\n    _ids = _ids.split( ' ' );\r\n\r\n    for ( var i = 0, l = _ids.length; i < l; ++i ) {\r\n\r\n      this.Reset( _ids[ i ] );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.Process = function () {\r\n\r\n    for ( var i = 0, motions = this.motions, l = motions.length, motion; i < l; ++i ) {\r\n\r\n      motion = motions[ i ];\r\n      motion.Process();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  MotionManager.prototype.GetMotion = function ( _id ) {\r\n\r\n    for ( var i = 0, motions = this.motions, l = motions.length, motion; i < l; ++i ) {\r\n\r\n      motion = motions[ i ];\r\n      if ( motion.id === _id ) return motion;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Nenkraft.MotionManager = MotionManager;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-motion/nk-motion-manager.js\n// module id = 25\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function QuadtreeNode ( _aabb, _level, _objCap, _levelCap ) {\r\n\r\n    if ( !( this instanceof QuadtreeNode ) ) return new QuadtreeNode( _aabb, _level, _objCap, _levelCap );\r\n    this.Set( _aabb, _level, _objCap, _levelCap );\r\n    this.nodes = {};\r\n    this.objects = [];\r\n    this.convergence = [];\r\n  \r\n  }\r\n\r\n  QuadtreeNode.prototype = Object.create( null );\r\n  QuadtreeNode.prototype.constructor = QuadtreeNode;\r\n  // Static\r\n  QuadtreeNode.TOP_LEFT = 'TL';\r\n  QuadtreeNode.TOP_RIGHT = 'TR';\r\n  QuadtreeNode.BOTTOM_LEFT = 'BL';\r\n  QuadtreeNode.BOTTOM_RIGHT = 'BR';\r\n  QuadtreeNode.Pool = Nenkraft.Utils.Pool( QuadtreeNode );\r\n\r\n  QuadtreeNode.Pool.Retrieve = function( _aabb, _level, _objCap, _levelCap ) {\r\n\r\n    if ( this.objects.length === 0 ) {\r\n\r\n      this.Flood();\r\n    \r\n    }\r\n\r\n    var qtn = this.objects.pop();\r\n    qtn.Set( _aabb, _level, _objCap, _levelCap );\r\n    return qtn;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.USE_POOL = true;\r\n  // Members\r\n  QuadtreeNode.prototype.objectCap = 0;\r\n  QuadtreeNode.prototype.levelCap = 0;\r\n  QuadtreeNode.prototype.level = 0;\r\n  QuadtreeNode.prototype.nodes = null;\r\n  QuadtreeNode.prototype.objects = null;\r\n  QuadtreeNode.prototype.convergence = null;\r\n  QuadtreeNode.prototype.aabb = null;\r\n  QuadtreeNode.prototype.hasSplit = false;\r\n\r\n  // Methods\r\n  QuadtreeNode.prototype.Set = function( _aabb, _level, _objCap, _levelCap ) {\r\n\r\n    this.aabb = _aabb;\r\n    this.level = _level;\r\n    this.objectCap = _objCap;\r\n    this.levelCap = _levelCap;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.FromStore = function( _aabb, _level, _objCap, _levelCap ) {\r\n\r\n    if ( QuadtreeNode.USE_POOL === true ) {\r\n\r\n      return QuadtreeNode.Pool.Retrieve( _aabb, _level, _objCap, _levelCap );\r\n    \r\n    }\r\n\r\n    return QuadtreeNode( _aabb, _level, _objCap, _levelCap );\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Add = function ( _object ) {\r\n\r\n    var marking = '';\r\n    var objects = this.objects;\r\n    var nodes = this.nodes;\r\n    var i = 0;\r\n\r\n    if ( this.hasSplit === true ) {\r\n\r\n      marking = this.Marking( _object );\r\n\r\n      if ( marking !== null ) {\r\n\r\n        nodes[ marking ].Add( _object );\r\n        return;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    objects.push( _object );\r\n\r\n    if ( this.level < this.levelCap ) {\r\n\r\n      if ( objects.length > this.objectCap ) {\r\n\r\n        if ( this.hasSplit === false ) {\r\n\r\n          this.Split();\r\n        \r\n        }\r\n\r\n        while ( i < objects.length ) {\r\n\r\n          marking = this.Marking( objects[ i ] );\r\n\r\n          if ( marking !== null ) {\r\n\r\n            nodes[ marking ].Add( objects.fickleSplice( i ) );\r\n          \r\n          } else {\r\n\r\n            ++i;\r\n          \r\n          }\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Converge = function ( _object ) {\r\n\r\n    var convergence = this.convergence;\r\n    convergence.length = 0;\r\n    convergence.push.apply( convergence, this.objects );\r\n    var marking = null;\r\n    var nodes = this.nodes;\r\n\r\n    if ( this.hasSplit === true ) {\r\n\r\n      marking = this.Marking( _object );\r\n\r\n      if ( marking !== null ) {\r\n\r\n        convergence.push.apply( convergence, nodes[ marking ].Converge( _object ) );\r\n      \r\n      } else {\r\n\r\n        convergence.push.apply( convergence, nodes[ QuadtreeNode.TOP_LEFT ].Converge( _object ) );\r\n        convergence.push.apply( convergence, nodes[ QuadtreeNode.TOP_RIGHT ].Converge( _object ) );\r\n        convergence.push.apply( convergence, nodes[ QuadtreeNode.BOTTOM_LEFT ].Converge( _object ) );\r\n        convergence.push.apply( convergence, nodes[ QuadtreeNode.BOTTOM_RIGHT ].Converge( _object ) );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return convergence;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Split = function () {\r\n\r\n    var nl = this.level + 1;\r\n    var oc = this.objectCap;\r\n    var lc = this.levelCap;\r\n    var nodes = this.nodes;\r\n    var aabb = this.aabb;\r\n    nodes[ QuadtreeNode.TOP_LEFT ] = this.FromStore(\r\n      aabb.GetQuadrant( QuadtreeNode.TOP_LEFT ),\r\n      nl, oc, lc\r\n    );\r\n    nodes[ QuadtreeNode.TOP_RIGHT ] = this.FromStore(\r\n      aabb.GetQuadrant( QuadtreeNode.TOP_RIGHT ),\r\n      nl, oc, lc\r\n    );\r\n    nodes[ QuadtreeNode.BOTTOM_LEFT ] = this.FromStore(\r\n      aabb.GetQuadrant( QuadtreeNode.BOTTOM_LEFT ),\r\n      nl, oc, lc\r\n    );\r\n    nodes[ QuadtreeNode.BOTTOM_RIGHT ] = this.FromStore(\r\n      aabb.GetQuadrant( QuadtreeNode.BOTTOM_RIGHT ),\r\n      nl, oc, lc\r\n    );\r\n    this.hasSplit = true;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Dump = function () {\r\n\r\n    var nodes = this.nodes;\r\n    this.objects.length = 0;\r\n\r\n    if ( this.hasSplit === true ) {\r\n\r\n      nodes[ QuadtreeNode.TOP_LEFT ].Dump();\r\n      nodes[ QuadtreeNode.TOP_RIGHT ].Dump();\r\n      nodes[ QuadtreeNode.BOTTOM_LEFT ].Dump();\r\n      nodes[ QuadtreeNode.BOTTOM_RIGHT ].Dump();\r\n\r\n      if ( QuadtreeNode.USE_POOL === true ) {\r\n\r\n        nodes[QuadtreeNode.TOP_LEFT].Store();\r\n        nodes[ QuadtreeNode.TOP_RIGHT ].Store();\r\n        nodes[ QuadtreeNode.BOTTOM_LEFT ].Store();\r\n        nodes[ QuadtreeNode.BOTTOM_RIGHT ].Store();\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    this.nodes = {};\r\n    this.hasSplit = false;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Marking = function ( _object ) {\r\n\r\n    var nodes = this.nodes;\r\n\r\n    if ( nodes[ QuadtreeNode.TOP_LEFT ].aabb.ContainsAABB2D( _object ) === true ) {\r\n\r\n      return QuadtreeNode.TOP_LEFT;\r\n    \r\n    }\r\n\r\n    if ( nodes[ QuadtreeNode.TOP_RIGHT ].aabb.ContainsAABB2D( _object ) === true ) {\r\n\r\n      return QuadtreeNode.TOP_RIGHT;\r\n    \r\n    }\r\n\r\n    if ( nodes[ QuadtreeNode.BOTTOM_LEFT ].aabb.ContainsAABB2D( _object ) === true ) {\r\n\r\n      return QuadtreeNode.BOTTOM_LEFT;\r\n    \r\n    }\r\n\r\n    if ( nodes[ QuadtreeNode.BOTTOM_RIGHT ].aabb.ContainsAABB2D( _object ) === true ) {\r\n\r\n      return QuadtreeNode.BOTTOM_RIGHT;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.ConcatNodes = function ( _nodeList ) {\r\n\r\n    if ( _nodeList === undefined ) _nodeList = [];\r\n    _nodeList.push( this );\r\n    var nodes = this.nodes;\r\n    if ( this.hasSplit === false ) return _nodeList;\r\n    nodes[ QuadtreeNode.TOP_LEFT ].ConcatNodes( _nodeList );\r\n    nodes[ QuadtreeNode.TOP_RIGHT ].ConcatNodes( _nodeList );\r\n    nodes[ QuadtreeNode.BOTTOM_LEFT ].ConcatNodes( _nodeList );\r\n    nodes[ QuadtreeNode.BOTTOM_RIGHT ].ConcatNodes( _nodeList );\r\n    return _nodeList;\r\n  \r\n  };\r\n\r\n  QuadtreeNode.prototype.Store = function() {\r\n\r\n    QuadtreeNode.Pool.Store( this );\r\n\r\n    // console.log( QuadtreeNode.Pool.objects.length );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.QuadtreeNode = QuadtreeNode;\r\n  Nenkraft.QuadtreeNode = QuadtreeNode;\r\n\r\n  QuadtreeNode.Pool.Flood( function() {}, 1000 );\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-quadtree-node.js\n// module id = 26\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function CoreEntity2D ( _x, _y ) {\r\n\r\n    if ( !( this instanceof CoreEntity2D ) ) return new CoreEntity2D( _x, _y );\r\n    this.transform = Nenkraft.Math.Transform2D( _x, _y );\r\n    this.data = Object.create( null );\r\n  \r\n  }\r\n\r\n  CoreEntity2D.prototype = Object.create( null );\r\n  CoreEntity2D.prototype.constructor = CoreEntity2D;\r\n  // Static\r\n  CoreEntity2D.NULL_TRANSFORM = Nenkraft.Math.Transform2D();\r\n  // Members\r\n  CoreEntity2D.prototype.parent = null;\r\n  CoreEntity2D.prototype.transform = null;\r\n  CoreEntity2D.prototype.data = null;\r\n  CoreEntity2D.prototype.w = 0;\r\n  CoreEntity2D.prototype.h = 0;\r\n  CoreEntity2D.prototype.bounds = null;\r\n  CoreEntity2D.prototype.boundsDirty = true;\r\n  CoreEntity2D.prototype.globalPosition = null;\r\n\r\n  // Methods\r\n  CoreEntity2D.prototype.UpdateTransform = function () {\r\n\r\n    if ( this.parent ) {\r\n\r\n      this.transform.UpdateWorld( this.parent.transform.worldTransform );\r\n    \r\n    } else {\r\n\r\n      this.transform.UpdateWorld( CoreEntity2D.NULL_TRANSFORM.worldTransform );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  CoreEntity2D.prototype.GetWorldPosition = function () {\r\n\r\n    var wt = this.transform.worldTransform;\r\n\r\n    if ( this.globalPosition === null ) {\r\n\r\n      this.globalPosition = Nenkraft.Vector2D( wt.e, wt.f );\r\n    \r\n    } else {\r\n\r\n      this.globalPosition.Set( wt.e, wt.f );\r\n      \r\n    }\r\n\r\n    return this.globalPosition;\r\n  \r\n  };\r\n\r\n  CoreEntity2D.prototype.ComputeBounds = function ( _anchor ) {\r\n\r\n    var wtax = 0;\r\n    var htay = 0;\r\n\r\n    if ( _anchor != null ) {\r\n\r\n      wtax = this.width * _anchor.x;\r\n      htay = this.height * _anchor.y;\r\n    \r\n    }\r\n\r\n    if ( this.bounds === null ) {\r\n\r\n      this.bounds = Nenkraft.Geom.AABB2D(\r\n        this.x - wtax,\r\n        this.y - htay,\r\n        this.x + this.width - wtax,\r\n        this.y + this.height - htay\r\n      );\r\n      this.bounds.belongsTo = this;\r\n    \r\n    } else {\r\n\r\n      this.bounds.Set(\r\n        this.x - wtax,\r\n        this.y - htay,\r\n        this.x + this.width - wtax,\r\n        this.y + this.height - htay\r\n      );\r\n    \r\n    }\r\n\r\n    this.boundsDirty = false;\r\n    return this.bounds;\r\n  \r\n  };\r\n\r\n  Object.defineProperty( CoreEntity2D.prototype, 'rotation', {\r\n    get: function () {\r\n\r\n      return this.transform.rotation;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.transform.rotation = _value;\r\n      this.transform.UpdateSkew();\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'scale', {\r\n    get: function () {\r\n\r\n      return this.transform.scale;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'position', {\r\n    get: function () {\r\n\r\n      return this.transform.position;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'pivot', {\r\n    get: function () {\r\n\r\n      return this.transform.pivot;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'x', {\r\n    get: function () {\r\n\r\n      return this.transform.position.x;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.transform.position.x = _value;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'y', {\r\n    get: function () {\r\n\r\n      return this.transform.position.y;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.transform.position.y = _value;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'width', {\r\n    get: function () {\r\n\r\n      return this.w * this.scale.x;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.w = _value;\r\n    \r\n    }\r\n  } );\r\n  Object.defineProperty( CoreEntity2D.prototype, 'height', {\r\n    get: function () {\r\n\r\n      return this.h * this.scale.y;\r\n    \r\n    },\r\n    set: function ( _value ) {\r\n\r\n      this.h = _value;\r\n    \r\n    }\r\n  } );\r\n  Nenkraft.Entity.CoreEntity2D = CoreEntity2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-core-entity2d.js\n// module id = 27\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.CoreEntity2D;\r\n\r\n  function Container2D ( _x, _y ) {\r\n\r\n    if ( !( this instanceof Container2D ) ) return new Container2D( _x, _y );\r\n    Super.call( this, _x, _y );\r\n    this.children = [];\r\n  \r\n  }\r\n\r\n  Container2D.prototype = Object.create( Super.prototype );\r\n  Container2D.prototype.constructor = Container2D;\r\n  // Static\r\n\r\n  // Members\r\n  Container2D.prototype.children = null;\r\n  Container2D.prototype.render = true;\r\n  Container2D.prototype.display = true;\r\n  Container2D.prototype.transformShouldUpdate = true;\r\n  Container2D.prototype.transformAutomaticUpdate = true;\r\n  //\r\n  Container2D.prototype.isBatchParent = false;\r\n  Container2D.prototype.childDataBuffer = null;\r\n  Container2D.prototype.bufferData = null;\r\n  Container2D.prototype.programController = null;\r\n  Container2D.prototype.bufferStartIndex = 0;\r\n  Container2D.prototype.bufferEndIndex = 0;\r\n\r\n  /*\r\n   *\r\n   *Methods\r\n   */\r\n  Container2D.prototype.PreDraw = function ( /* _rc */ ) {\r\n    // Override\r\n  };\r\n\r\n  Container2D.prototype.GLPreDraw = function ( /* _gl */ ) {\r\n    // Override\r\n  };\r\n\r\n  Container2D.prototype.Draw = function ( _rc ) {\r\n\r\n    this.PreDraw( _rc );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 && this.display === true ) {\r\n\r\n        this.DrawChildren( _rc );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GLDraw = function ( _gl ) {\r\n\r\n    this.GLPreDraw( _gl );\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 && this.display === true ) {\r\n\r\n        if ( this.isBatchParent === true ) {\r\n\r\n          this.GLBatchDrawChildren();\r\n        \r\n        } else {\r\n\r\n          this.GLDrawChildren( _gl );\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.RequestTransformUpdate = function () {\r\n\r\n    this.transformShouldUpdate = true;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.DrawChildren = function ( _rc ) {\r\n\r\n    for ( var i = 0, children = this.children, l = children.length; i < l; ++i ) {\r\n\r\n      children[i].Draw( _rc );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GLDrawChildren = function ( _gl ) {\r\n\r\n    for ( var i = 0, children = this.children, l = children.length; i < l; ++i ) {\r\n\r\n      children[i].GLDraw( _gl );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GLBatchDrawChildren = function () {\r\n\r\n    if ( this.childDataBuffer != null && this.programController != null ) {\r\n\r\n      this.programController.Execute( this.childDataBuffer, this.children.length );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.ComputeBatchBuffer = function ( _getBufferData ) {\r\n\r\n    var childDataBuffer = [];\r\n\r\n    for ( var i = 0, children = this.children, l = children.length, child, childData; i < l; ++i ) {\r\n\r\n      child = children[ i ];\r\n\r\n      if ( _getBufferData != null ) {\r\n\r\n        childData = _getBufferData( child );\r\n      \r\n      } else {\r\n\r\n        childData = child.GetBufferData();\r\n      \r\n      }\r\n\r\n      child.bufferStartIndex = childDataBuffer.length;\r\n      child.bufferEndIndex = childDataBuffer.length + childData.length;\r\n      childDataBuffer.push.apply( childDataBuffer, childData );\r\n    \r\n    }\r\n\r\n    this.childDataBuffer = new Float32Array( childDataBuffer );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.UpdateInBuffer = function () {\r\n\r\n    throw new Error( 'Cannot update buffer data directly!' );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GetBufferData = function () {\r\n\r\n    throw new Error( 'Cannot access buffer data directly!' );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.AddChild = function ( _child ) {\r\n\r\n    var parent = _child.parent;\r\n\r\n    if ( parent !== null ) {\r\n\r\n      parent.RemoveChild( _child );\r\n    \r\n    }\r\n\r\n    this.children.push( _child );\r\n    _child.parent = this;\r\n    return _child;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.AddChildren = function () {\r\n\r\n    var children = arguments;\r\n\r\n    if ( Array.isArray( children[ 0 ] ) ) {\r\n\r\n      children = children[ 0 ];\r\n    \r\n    }\r\n\r\n    for ( var i = 0, l = children.length; i < l; ++i ) {\r\n\r\n      this.AddChild( children[ i ] );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.Mount = function () {\r\n\r\n    this.AddChildren.apply( this, arguments );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.AddSibling = function ( _sibling ) {\r\n\r\n    var parent = this.parent;\r\n\r\n    if ( parent !== null ) {\r\n\r\n      parent.AddChild( _sibling );\r\n    \r\n    }\r\n\r\n    return _sibling;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.RemoveChild = function ( _child ) {\r\n\r\n    var children = this.children;\r\n    var ix = children.indexOf( _child );\r\n\r\n    if ( ix !== -1 ) {\r\n\r\n      _child.parent = null;\r\n      return children.fickleSplice( ix );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.RemoveChildren = function () {\r\n\r\n    var children = this.children;\r\n    var aChildren = arguments[ 0 ].length ? arguments[ 0 ] : arguments;\r\n    var rChildren = [];\r\n\r\n    for ( var i = 0, l = aChildren.length, child, ix; i < l; ++i ) {\r\n\r\n      child = aChildren[ i ];\r\n      ix = children.indexOf( child );\r\n\r\n      if ( ix !== -1 ) {\r\n\r\n        rChildren.push( children.fickleSplice( ix ) );\r\n        child.parent = null;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return rChildren;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.SendToFront = function () {\r\n\r\n    if ( this.parent !== null ) {\r\n\r\n      var pChildren = this.parent.children;\r\n      var ix = pChildren.indexOf( this );\r\n\r\n      if ( ix !== -1 ) {\r\n\r\n        pChildren.push( pChildren.fickleSplice( ix ) );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.SendToBack = function () {\r\n\r\n    if ( this.parent !== null ) {\r\n\r\n      var pChildren = this.parent.children;\r\n      var ix = pChildren.indexOf( this );\r\n\r\n      if ( ix !== -1 ) {\r\n\r\n        pChildren.unshift( pChildren.fickleSplice( ix ) );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Container2D.prototype.Dump = function () {\r\n\r\n    this.children.length = 0;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.Destroy = function () {\r\n\r\n    this.Dump();\r\n    if ( this.parent !== null ) this.parent.RemoveChild( this );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.AttachTo = function ( _parent ) {\r\n\r\n    _parent.AddChild( this );\r\n  \r\n  };\r\n\r\n  Container2D.prototype.Detach = function () {\r\n\r\n    if ( this.parent !== null ) return this.parent.RemoveChild( this );\r\n    return null;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GetChildClosestTo = function ( _object, _filter ) {\r\n\r\n    var children = this.children, closestChild = null;\r\n\r\n    if ( children.length !== 0 ) {\r\n\r\n      for ( var i = 0, l = children.length, child, distance = Infinity, tempDistance; i < l; ++i ) {\r\n\r\n        child = children[ i ];\r\n\r\n        if ( _filter !== undefined ) {\r\n\r\n          if ( _filter( child ) === false ) continue;\r\n        \r\n        }\r\n\r\n        tempDistance = Math.abs( child.position.GetDistanceSquared( _object.x, _object.y ) );\r\n\r\n        if ( tempDistance < distance ) {\r\n\r\n          distance = tempDistance;\r\n          closestChild = child;\r\n        \r\n        }\r\n      \r\n      }\r\n\r\n      return closestChild;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.GetChildFurthestFrom = function ( _object, _filter ) {\r\n\r\n    var children = this.children, closestChild = null;\r\n\r\n    if ( children.length !== 0 ) {\r\n\r\n      for ( var i = 0, l = children.length, child, distance = 0, tempDistance; i < l; ++i ) {\r\n\r\n        child = children[ i ];\r\n\r\n        if ( _filter !== undefined ) {\r\n\r\n          if ( _filter( child ) === false ) continue;\r\n        \r\n        }\r\n\r\n        tempDistance = Math.abs( child.position.GetDistanceSquared( _object.x, _object.y ) );\r\n\r\n        if ( tempDistance > distance ) {\r\n\r\n          distance = tempDistance;\r\n          closestChild = child;\r\n        \r\n        }\r\n      \r\n      }\r\n\r\n      return closestChild;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Container2D.prototype.UseAsBatchParent = function ( _pc ) {\r\n\r\n    this.isBatchParent = true;\r\n    this.programController = _pc;\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Container2D = Container2D;\r\n  Nenkraft.Container2D = Container2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-container2d.js\n// module id = 28\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Super = Nenkraft.Entity.Container2D;\r\n\r\n  function Case2D ( _x, _y ) {\r\n\r\n    if ( !( this instanceof Case2D ) ) return new Case2D( _x, _y );\r\n    Super.call( this, _x, _y );\r\n  \r\n  }\r\n\r\n  Case2D.prototype = Object.create( Super.prototype );\r\n  Case2D.prototype.constructor = Case2D;\r\n\r\n  /*\r\n   *Static\r\n   *Members\r\n   *Methods\r\n   */\r\n  Case2D.prototype.Render = function () {\r\n\r\n    if ( this.render === true ) {\r\n\r\n      if ( this.transformShouldUpdate === true ) {\r\n\r\n        this.UpdateTransform();\r\n        if ( this.transformAutomaticUpdate === false ) this.transformShouldUpdate = false;\r\n      \r\n      }\r\n\r\n      if ( this.children.length > 0 ) {\r\n\r\n        this.RenderChildren();\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Case2D.prototype.RenderChildren = function () {\r\n\r\n    for ( var i = 0, children = this.children, l = children.length, child; i < l; ++i ) {\r\n\r\n      child = children[ i ];\r\n      if ( child.Render ) child.Render();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Entity.Case2D = Case2D;\r\n  Nenkraft.Case2D = Case2D;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-entity/nk-case2d.js\n// module id = 29\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Assert ( _data, _compare, _value, _noSelfAssert ) {\r\n\r\n    if ( _noSelfAssert == undefined || typeof _data.Assert !== 'function' ) {\r\n\r\n      switch ( _compare ) {\r\n\r\n        case Assert.IS:\r\n          Is( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_NOT:\r\n          IsNot( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_SAME_TYPE:\r\n          IsSameType( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_NOT_SAME_TYPE:\r\n          IsNotSameType( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_INSTANCE_OF:\r\n          IsInstanceOf( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_NOT_INSTANCE_OF:\r\n          IsNotInstanceOf( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_LESS_THAN:\r\n          IsLessThan( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_GREATER_THAN:\r\n          IsGreaterThan( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_LESS_THAN_OR_EQUAL:\r\n          IsLessThanOrEqual( _data, _value, _compare );\r\n          return;\r\n        case Assert.IS_GREATER_THAN_OR_EQUAL:\r\n          IsGreaterThanOrEqual( _data, _value, _compare );\r\n          return;\r\n        default:\r\n          throw new Error( 'No comparison: ' + _compare );\r\n      \r\n      }\r\n    \r\n    } else {\r\n\r\n      _data.Assert( _compare, _value );\r\n    \r\n    }\r\n  \r\n  }\r\n\r\n  function Is ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data !== _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsNot ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data === _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsSameType ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( Array.isArray( _data ) || Array.isArray( _value ) ) {\r\n\r\n      if ( !Array.isArray( _data ) !== !Array.isArray( _value ) ) {\r\n\r\n        failed = true;\r\n\r\n      }  \r\n    \r\n    } else if ( _data === null || _value === null ) {\r\n\r\n      if ( _data !== _value ) {\r\n\r\n        failed = true;\r\n        \r\n      }\r\n      \r\n    } else if ( typeof _data !== typeof _value ) {\r\n\r\n      failed = true;\r\n      \r\n    } else if ( typeof _data === 'number' || typeof _value === 'number' ) {\r\n\r\n      if ( isNaN( _data ) || isNaN( _value ) ) {\r\n\r\n        if ( _data !== _value ) {\r\n\r\n          failed = true;\r\n      \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsNotSameType ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( Array.isArray( _data ) || Array.isArray( _value ) ) {\r\n\r\n      if ( Array.isArray( _data ) && ( Array.isArray( _value ) ) ) {\r\n\r\n        failed = true;\r\n      \r\n      }\r\n    \r\n    } else if ( _data === null || _value === null ) {\r\n\r\n      if ( _value === _data ) {\r\n\r\n        failed = true;\r\n        \r\n      }\r\n      \r\n    } else if ( typeof _data === typeof _value ) {\r\n\r\n      failed = true;\r\n      \r\n    } else if ( typeof _data === 'number' || typeof _value === 'number' ) {\r\n\r\n      if ( isNaN( _data ) || isNaN( _value ) ) {\r\n\r\n        if ( isNaN( _data ) && isNaN( _value ) ) {\r\n\r\n          failed = true;\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsInstanceOf ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( !( _data instanceof _value ) ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value.name, _compare );\r\n  \r\n  }\r\n\r\n  function IsNotInstanceOf ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data instanceof _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value.name, _compare );\r\n  \r\n  }\r\n\r\n  function IsLessThan ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data >= _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsGreaterThan ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data <= _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsLessThanOrEqual ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data > _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function IsGreaterThanOrEqual ( _data, _value, _compare ) {\r\n\r\n    var failed = false;\r\n\r\n    if ( _data < _value ) {\r\n\r\n      failed = true;\r\n    \r\n    }\r\n\r\n    Check( failed, _data, _value, _compare );\r\n  \r\n  }\r\n\r\n  function Check ( _failed, _data, _value, _compare ) {\r\n\r\n    if ( _failed ) {\r\n\r\n      ErrorInfo( _data, _value, _compare );\r\n      throw new Error( 'Assertion failed: ' + _compare );\r\n    \r\n    } else if ( Assert.LOG && window ) {\r\n\r\n      SuccessLog( _data, _value, _compare );\r\n      \r\n    }\r\n  \r\n  }\r\n\r\n  function ErrorInfo ( _data, _value, _compare ) {\r\n\r\n    switch ( _compare ) {\r\n\r\n      case Assert.IS:\r\n        _compare = Assert.IS_NOT;\r\n        break;\r\n      case Assert.IS_NOT:\r\n        _compare = Assert.IS;\r\n        break;\r\n      case Assert.IS_SAME_TYPE:\r\n        _compare = Assert.IS_NOT_SAME_TYPE;\r\n        break;\r\n      case Assert.IS_NOT_SAME_TYPE:\r\n        _compare = Assert.IS_SAME_TYPE;\r\n        break;\r\n      case Assert.IS_INSTANCE_OF:\r\n        _compare = Assert.IS_NOT_INSTANCE_OF;\r\n        break;\r\n      case Assert.IS_NOT_INSTANCE_OF:\r\n        _compare = Assert.IS_INSTANCE_OF;\r\n        break;\r\n      case Assert.IS_LESS_THAN:\r\n        _compare = Assert.IS_GREATER_THAN_OR_EQUAL;\r\n        break;\r\n      case Assert.IS_GREATER_THAN:\r\n        _compare = Assert.IS_LESS_THAN_OR_EQUAL;\r\n        break;\r\n      case Assert.IS_LESS_THAN_OR_EQUAL:\r\n        _compare = Assert.IS_GREATER_THAN;\r\n        break;\r\n      case Assert.IS_GREATER_THAN_OR_EQUAL:\r\n        _compare = Assert.IS_LESS_THAN;\r\n        break;\r\n      default:\r\n        throw new Error( 'Unexpected error' );\r\n    \r\n    }\r\n\r\n    console.error( _data, _compare, _value );\r\n  \r\n  }\r\n\r\n  function SuccessLog ( _data, _value, _compare ) {\r\n\r\n    console.log( '%c<<||-?START?-||>>', 'background-color: black; color: #0FF; padding: 0px 25px;' );\r\n    console.log( '%cAssertion success: ', 'background-color: #333; color: #0F0; padding: 0px 25px;' );\r\n    console.log( _data );\r\n    console.log( _compare );\r\n    console.log( _value );\r\n    console.log( '%c>>||-?END?-||<<', 'background-color: black; color: #FF0; padding: 0px 25px;' );\r\n  \r\n  }\r\n\r\n  Assert.IS = 'IS';\r\n  Assert.IS_NOT = 'IS NOT';\r\n  Assert.IS_SAME_TYPE = 'IS SAME TYPE';\r\n  Assert.IS_NOT_SAME_TYPE = 'IS NOT SAME TYPE';\r\n  Assert.IS_INSTANCE_OF = 'IS INSTANCE OF';\r\n  Assert.IS_NOT_INSTANCE_OF = 'IS NOT INSTANCE OF';\r\n  Assert.IS_LESS_THAN = 'IS LESS THAN';\r\n  Assert.IS_GREATER_THAN = 'IS GREATER THAN';\r\n  Assert.IS_LESS_THAN_OR_EQUAL = 'IS LESS THAN OR EQUAL';\r\n  Assert.IS_GREATER_THAN_OR_EQUAL = 'IS GREATER THAN OR EQUAL';\r\n\r\n  Assert.Assign = function ( _g ) {\r\n\r\n    if ( window && !_g ) {\r\n\r\n      _g = window;\r\n    \r\n    } else if ( global && _g ) {\r\n\r\n      _g = global;\r\n    \r\n    }\r\n\r\n    if ( _g ) {\r\n\r\n      _g.IS = Assert.IS;\r\n      _g.IS_NOT = Assert.IS_NOT;\r\n      _g.IS_SAME_TYPE = Assert.IS_SAME_TYPE;\r\n      _g.IS_NOT_SAME_TYPE = Assert.IS_NOT_SAME_TYPE;\r\n      _g.IS_INSTANCE_OF = Assert.IS_INSTANCE_OF;\r\n      _g.IS_NOT_INSTANCE_OF = Assert.IS_NOT_INSTANCE_OF;\r\n      _g.IS_LESS_THAN = Assert.IS_LESS_THAN;\r\n      _g.IS_GREATER_THAN = Assert.IS_GREATER_THAN;\r\n      _g.IS_LESS_THAN_OR_EQUAL = Assert.IS_LESS_THAN_OR_EQUAL;\r\n      _g.IS_GREATER_THAN_OR_EQUAL = Assert.IS_GREATER_THAN_OR_EQUAL;\r\n    \r\n    } else {\r\n\r\n      throw new Error( 'No global namespace' );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Assert.LOG = false;\r\n  Nenkraft.Utils.Assert = Assert;\r\n  Nenkraft.Assert = Assert;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-assert.js\n// module id = 3\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Option ( _id, _handle, _info, _priority, _breakIfExecuted ) {\r\n\r\n    if ( !( this instanceof Option ) ) return new Option( _id, _handle, _info, _priority, _breakIfExecuted );\r\n\r\n    this.id = _id.split( ' ' );\r\n    this.handle = _handle;\r\n    this.info = _info;\r\n    if ( _priority !== undefined ) this.priority = _priority;\r\n    if ( _breakIfExecuted !== undefined ) this.breakIfExecuted = _breakIfExecuted;\r\n    this.data = {};\r\n  \r\n  }\r\n\r\n  Option.prototype = Object.create( null );\r\n  Option.prototype.constructor = Option;\r\n  // Static\r\n\r\n  // Members\r\n  Option.prototype.command = null;\r\n  Option.prototype.priority = 0;\r\n  Option.prototype.breakIfExecuted = false;\r\n\r\n  // Methods\r\n  Option.prototype.Execute = function ( _dataStrs, _data, _staticData ) {\r\n\r\n    this.handle( _dataStrs, _data, _staticData );\r\n    return this.breakIfExecuted;\r\n  \r\n  };\r\n\r\n  Nenkraft.CP.Option = Option;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-cp/nk-option.js\n// module id = 30\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Command ( _id, _handle, _info, _continueToPrime, _optionPrefix ) {\r\n\r\n    if ( !( this instanceof Command ) ) return new Command( _id, _handle, _info, _continueToPrime, _optionPrefix );\r\n\r\n    this.id = _id.split( ' ' );\r\n    this.handle = _handle;\r\n    this.info = _info;\r\n    this.data = {};\r\n    this.optionPrefix = _optionPrefix === undefined ? Command.OPTION_PREFIX : _optionPrefix;\r\n    this.dsCopy = [];\r\n    if ( _continueToPrime !== undefined ) this.continueToPrime = _continueToPrime;\r\n  \r\n  }\r\n\r\n  Command.prototype = Object.create( null );\r\n  Command.prototype.constructor = Command;\r\n  // Static\r\n  Command.OPTION_PREFIX = '';\r\n  // Members\r\n  Command.prototype.dataSeparator = '=';\r\n  Command.prototype.options = null;\r\n  Command.prototype.allOptionIds = null;\r\n  Command.prototype.fullInfo = null;\r\n  Command.prototype.optionPrefix = null;\r\n  Command.prototype.continueToPrime = true;\r\n  Command.prototype.dsCopy = null;\r\n  Command.prototype.register = null;\r\n\r\n  // Methods\r\n  Command.prototype.Execute = function ( _dataStrs, _data, _staticData ) {\r\n\r\n    this.HandleData( _dataStrs, _data );\r\n\r\n    if ( this.HandleOptions( _dataStrs, _data, _staticData ) === true ) {\r\n\r\n      this.handle( _dataStrs, _data, _staticData );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Command.prototype.AddOption = function ( _id, _handle, _info, _priority, _breakIfExecuted, _optionPrefix ) {\r\n\r\n    _optionPrefix = _optionPrefix === undefined ? this.optionPrefix : _optionPrefix;\r\n    if ( _optionPrefix !== null ) _id = _id.replace( /\\S+/g, _optionPrefix + '$&' );\r\n    if ( this.options === null ) this.options = [];\r\n    _priority = _priority === undefined ? 0 : _priority;\r\n    var opt = Nenkraft.CP.Option( _id, _handle, _info, _priority, _breakIfExecuted );\r\n    opt.command = this;\r\n\r\n    for ( var i = 0, options = this.options, l = options.length, option; i < l; ++i ) {\r\n\r\n      option = options[ i ];\r\n\r\n      if ( option.priority <= _priority ) {\r\n\r\n        options.splice( i, 0, opt );\r\n        this.allOptionIds = this.GetAllOptionIds();\r\n        return this;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    this.options.push( opt );\r\n    this.allOptionIds = this.GetAllOptionIds();\r\n    return this;\r\n  \r\n  };\r\n\r\n  Command.prototype.HandleData = function ( _dataStrs, _data ) {\r\n\r\n    var dsCopy = this.dsCopy;\r\n    dsCopy.push.apply( dsCopy, _dataStrs );\r\n\r\n    for ( var i = 0, l = dsCopy.length, str, data, ds = this.dataSeparator; i < l; ++i ) {\r\n\r\n      str = dsCopy[ i ];\r\n      data = str.split( ds );\r\n\r\n      if ( data.length === 2 ) {\r\n\r\n        _dataStrs.fickleSplice( i );\r\n        _data[ data[ 0 ] ] = data[ 1 ];\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    dsCopy.length = 0;\r\n  \r\n  };\r\n\r\n  Command.prototype.HandleOptions = function ( _dataStrs, _data, _staticData ) {\r\n\r\n    if ( _dataStrs.length === 0 ) {\r\n\r\n      return this.continueToPrime;\r\n    \r\n    }\r\n\r\n    var matchingOptionIds = this.GetAndRemoveMatchingOptionIds( _dataStrs );\r\n    if ( matchingOptionIds === null ) return this.continueToPrime;\r\n\r\n    for ( var i = 0, l = matchingOptionIds.length, option; i < l; ++i ) {\r\n\r\n      option = this.GetOptionById( matchingOptionIds[ i ] );\r\n      if ( option.Execute( _dataStrs, _data, _staticData ) === true ) return false;\r\n    \r\n    }\r\n\r\n    return this.continueToPrime;\r\n  \r\n  };\r\n\r\n  Command.prototype.GetOptionById = function ( _id ) {\r\n\r\n    for ( var i = 0, options = this.options, l = options.length, option; i < l; ++i ) {\r\n\r\n      option = options[ i ];\r\n      if ( option.id.indexOf( _id ) !== -1 ) return option;\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Command.prototype.GetAllOptionIds = function () {\r\n\r\n    var allOptionIds = [];\r\n\r\n    for ( var i = 0, options = this.options, l = options.length; i < l; ++i ) {\r\n\r\n      allOptionIds.push.apply( allOptionIds, options[ i ].id );\r\n    \r\n    }\r\n\r\n    return allOptionIds;\r\n  \r\n  };\r\n\r\n  Command.prototype.GetAndRemoveMatchingOptionIds = function ( _dataStrs ) {\r\n\r\n    var allOptionIds = this.allOptionIds;\r\n    if ( allOptionIds === null ) return null;\r\n    var optionIds = [];\r\n\r\n    for ( var i = 0, l = allOptionIds.length; i < l; ++i ) {\r\n\r\n      var ix = _dataStrs.indexOf( allOptionIds[ i ] );\r\n\r\n      if ( ix !== -1 ) {\r\n\r\n        optionIds.push( _dataStrs.fickleSplice( ix ) );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return optionIds;\r\n  \r\n  };\r\n\r\n  Command.prototype.GenerateInfoString = function () {\r\n\r\n    var str = 'COMMAND: ' + this.id.join( ', ' ) + ' -> ' + this.info + '\\n';\r\n\r\n    for ( var i = 0, options = this.options, l = options.length, option; i < l; ++i ) {\r\n\r\n      option = options[ i ];\r\n      str += 'OPTION: ' + option.id.join( ', ' ) + ' -> ' + option.info + '\\n';\r\n    \r\n    }\r\n\r\n    return str;\r\n  \r\n  };\r\n\r\n  Nenkraft.CP.Command = Command;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-cp/nk-command.js\n// module id = 31\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Register ( _options ) {\r\n\r\n    if ( !( this instanceof Register ) ) return new Register( _options );\r\n\r\n    this.commands = [];\r\n  \r\n  }\r\n\r\n  Register.prototype = Object.create( null );\r\n  Register.prototype.constructor = Register;\r\n  // Static\r\n\r\n  // Members\r\n  Register.prototype.splitter = ' ';\r\n\r\n  // Methods\r\n  Register.prototype.AddCommand = function ( _command ) {\r\n\r\n    if ( _command.register === null ) {\r\n\r\n      this.commands.push( _command );\r\n      _command.register = this;\r\n      return _command;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Register.prototype.RemoveCommand = function( _command ) {\r\n\r\n    var commands = this.commands;\r\n    var ix = commands.indexOf( _command );\r\n\r\n    if ( ix !== -1 ) {\r\n\r\n      _command.register = null;\r\n      return commands.fickleSplice( ix );\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Register.prototype.GetCommand = function ( _id ) {\r\n\r\n    for ( var i = 0, commands = this.commands, l = commands.length, command; i < l; ++i ) {\r\n\r\n      command = this.commands[ i ];\r\n\r\n      if ( command ) {\r\n\r\n        for ( var j = 0, jl = command.id.length; j < jl; ++j ) {\r\n\r\n          if ( command.id[ j ] === _id ) return command;\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Register.prototype.Parse = function ( _str, _staticData ) {\r\n\r\n    var strs = String( _str ).split( this.splitter );\r\n    var cmdStr = strs.shift();\r\n    var command = this.GetCommand( cmdStr );\r\n\r\n    if ( command ) {\r\n\r\n      command.Execute( strs, {}, _staticData );\r\n      return null;\r\n    \r\n    }\r\n\r\n    return cmdStr;\r\n  \r\n  };\r\n\r\n  Nenkraft.CP.Register = Register;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-cp/nk-register.js\n// module id = 32\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Pool ( _class ) {\r\n\r\n    if ( !( this instanceof Pool ) ) return new Pool( _class );\r\n    this.class = _class;\r\n    this.objects = [];\r\n  \r\n  }\r\n\r\n  Pool.prototype = Object.create( null );\r\n  Pool.prototype.constructor = Pool;\r\n  // Static\r\n\r\n  // Members\r\n  Pool.prototype.class = null;\r\n  Pool.prototype.objects = null;\r\n  Pool.prototype.floodFunction = null;\r\n  Pool.prototype.floodAmount = 100;\r\n  Pool.prototype.context = null;\r\n\r\n  // Methods\r\n  Pool.prototype.Store = function ( _object ) {\r\n\r\n    this.objects.push( _object );\r\n  \r\n  };\r\n\r\n  Pool.prototype.Retrieve = function () {\r\n\r\n    if ( this.objects.length === 0 ) {\r\n\r\n      this.Flood();\r\n    \r\n    }\r\n\r\n    return this.objects.pop();\r\n  \r\n  };\r\n\r\n  Pool.prototype.Flood = function ( _func, _amount, _context ) {\r\n\r\n    if ( _func ) this.floodFunction = _func;\r\n    if ( _amount ) this.floodAmount = _amount;\r\n    if ( _context ) this.context = _context;\r\n\r\n    for ( var i = 0; i < this.floodAmount; ++i ) {\r\n\r\n      if ( this.class != null ) {\r\n\r\n        var object = new this.class();\r\n        this.Store( object );\r\n        this.floodFunction.call( this.context, object );\r\n      \r\n      } else {\r\n\r\n        this.Store( this.floodFunction.call( this.context ) );\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Pool.prototype.Flush = function () {\r\n\r\n    this.objects.length = 0;\r\n  \r\n  };\r\n\r\n  Pool.prototype.Clean = function () {\r\n\r\n    var amount = this.objects.length;\r\n    this.Flush();\r\n    this.Flood( undefined, amount );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Pool = Pool;\r\n  Nenkraft.Pool = Pool;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-pool.js\n// module id = 4\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function Glob () {\r\n\r\n    if ( !( this instanceof Glob ) ) return new Glob();\r\n    this.functions = {};\r\n    this.values = {};\r\n    this.constants = {};\r\n    this.components = {};\r\n    this.objects = {};\r\n    this.lists = {};\r\n  \r\n  }\r\n\r\n  Glob.prototype = Object.create( null );\r\n  Glob.prototype.constructor = Glob;\r\n\r\n  // Static\r\n  Glob.Create = function( _id ) {\r\n\r\n    if ( window == null ) {\r\n\r\n      if ( global != null ) {\r\n\r\n        if ( global[_id] !== undefined ) throw new Error( 'global.' + _id + ' already exists!' );\r\n\r\n        global[_id] = new Glob();\r\n      \r\n      } else {\r\n\r\n        throw new Error( 'Neither window nor global exists!' );\r\n      \r\n      }\r\n\r\n    } else {\r\n\r\n      if ( window[_id] !== undefined ) throw new Error( 'window.' + _id + ' already exists!' );\r\n\r\n      window[_id] = new Glob();\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Glob.FUNCTION = 'functions';\r\n  Glob.VALUE = 'values';\r\n  Glob.CONSTANT = 'constants';\r\n  Glob.COMPONENT = 'components';\r\n  Glob.OBJECT = 'objects';\r\n  Glob.LIST = 'lists';\r\n  Glob.AllowGetNullUndefined = false;\r\n\r\n  // Members\r\n  Glob.prototype.functions = null;\r\n  Glob.prototype.values = null;\r\n  Glob.prototype.constants = null;\r\n  Glob.prototype.components = null;\r\n  Glob.prototype.objects = null;\r\n  Glob.prototype.lists = null;\r\n\r\n  // Methods\r\n  Glob.prototype.Define = function( _type, _id, _value ) {\r\n\r\n    this.Mark( _type, _id );\r\n    this.Set( _type, _id, _value );\r\n  \r\n  };\r\n\r\n  Glob.prototype.Mark = function( _type, _id ) {\r\n\r\n    if ( typeof _type !== 'string' ) throw new Error( 'Type needs to be a string!' );\r\n    if ( typeof _id !== 'string' ) throw new Error( 'Id needs to be a string!' );\r\n\r\n    if ( this[_type] == null ) throw new Error( 'Type does not exist' );\r\n\r\n    if ( _type === Glob.CONSTANT || _type === Glob.COMPONENT ) {\r\n\r\n      if ( this[_type][_id] !== undefined ) throw new Error( 'Constants cannot be reassigned!' );\r\n\r\n    }\r\n\r\n    this[_type][_id] = null;\r\n  \r\n  };\r\n\r\n  Glob.prototype.Get = function( _type, _id ) {\r\n\r\n    if ( typeof _type !== 'string' ) throw new Error( 'Type needs to be a string!' );\r\n    if ( typeof _id !== 'string' ) throw new Error( 'Id needs to be a string!' );\r\n\r\n    if ( this[_type] == null ) throw new Error( 'Type does not exist' );\r\n\r\n    if ( Glob.AllowGetNullUndefined === false ) {\r\n\r\n      if ( this[_type][_id] == null ) throw new Error( 'Null or undefined!' );\r\n    \r\n    }\r\n\r\n    return this[_type][_id];\r\n  \r\n  };\r\n\r\n  Glob.prototype.Set = function( _type, _id, _value ) {\r\n\r\n    if ( typeof _type !== 'string' ) throw new Error( 'Type needs to be a string!' );\r\n    if ( typeof _id !== 'string' ) throw new Error( 'Id needs to be a string!' );\r\n\r\n    switch ( _type ) {\r\n\r\n      case Glob.FUNCTION:\r\n        if ( typeof _value !== 'function' ) throw new Error( 'Needs to be a function!' );\r\n  \r\n        if ( this.functions[_id] !== null ) throw new Error( 'No mark!' );\r\n  \r\n        this.functions[_id] = _value;\r\n        break;\r\n\r\n      case Glob.VALUE: \r\n        if ( _value instanceof Object ) throw new Error( 'Objects are not allowed!' );\r\n  \r\n        if ( this.values[_id] !== null ) throw new Error( 'No mark!' );\r\n\r\n        this.values[_id] = _value;\r\n        break;\r\n      case Glob.CONSTANT:\r\n        if ( _value instanceof Object ) throw new Error( 'Objects are not allowed!' );\r\n  \r\n        if ( this.constants[_id] !== null ) throw new Error( 'No mark!' );\r\n\r\n        this.constants[_id] = _value;\r\n\r\n        break;\r\n      case Glob.COMPONENT:\r\n        if ( typeof _value !== 'function' ) throw new Error( 'Needs to be a function!' );\r\n  \r\n        if ( this.components[_id] !== null ) throw new Error( 'No mark!' );\r\n\r\n        this.components[_id] = _value;\r\n        break;\r\n      \r\n      case Glob.OBJECT:\r\n        if ( typeof _value !== 'object' ) throw new Error( 'Needs to be an object' );\r\n        if ( Nenkraft.Utils.IsArray( _value ) === true ) throw new Error( 'Arrays are not allowed!' );\r\n  \r\n        if ( this.objects[_id] !== null ) throw new Error( 'No mark!' );\r\n\r\n        this.objects[_id] = _value;\r\n        break;\r\n      case Glob.LIST:\r\n        if ( Nenkraft.Utils.IsArray( _value ) === false ) throw new Error( 'Needs to be an array!' );\r\n\r\n        if ( this.lists[_id] !== null ) throw new Error( 'No mark!' );\r\n\r\n        this.lists[_id] = _value;\r\n        break;\r\n\r\n      default:\r\n        throw new Error( 'Unrecognized type!' );\r\n    \r\n    }\r\n\r\n  };\r\n\r\n  Nenkraft.Utils.Glob = Glob;\r\n  Nenkraft.Glob = Glob;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-glob.js\n// module id = 5\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Assert = Nenkraft.Utils.Assert;\r\n  var EO = Object.create( null );\r\n  var ES = '';\r\n\r\n  function Cache ( _type ) {\r\n\r\n    if ( !( this instanceof Cache ) ) return new Cache( _type );\r\n\r\n    if ( _type != null ) {\r\n\r\n      this.type = _type;\r\n    \r\n    }\r\n\r\n    this.items = [];\r\n  \r\n  }\r\n\r\n  Cache.prototype = Object.create( null );\r\n  Cache.prototype.constructor = Cache;\r\n  // Static\r\n\r\n  // Members\r\n  Cache.prototype.type = null;\r\n  Cache.prototype.items = null;\r\n\r\n  // Methods\r\n  Cache.prototype.Store = function ( _item ) {\r\n\r\n    var valid = false;\r\n\r\n    if ( _item == null ) {\r\n\r\n      console.warn( 'Item is null. Cannot store null item.' );\r\n      return null;\r\n    \r\n    }\r\n\r\n    if ( _item.id != null && _item.id !== '' ) {\r\n\r\n      valid = !this.Contains( _item, _item.id );\r\n    \r\n    } else if ( _item.data ) {\r\n\r\n      if ( _item.data.id != null && _item.data.id !== '' ) {\r\n\r\n        valid = !this.Contains( _item, _item.data.id );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    if ( valid === false ) {\r\n\r\n      console.warn( 'Item is not valid. Check the item id. The item has not been stored' );\r\n      return false;\r\n    \r\n    }\r\n\r\n    this.items.push( _item );\r\n    return true;\r\n  \r\n  };\r\n\r\n  Cache.prototype.StoreSafe = function ( _item ) {\r\n\r\n    if ( this.type != null ) {\r\n\r\n      Assert( _item, Assert.IS_INSTANCE_OF, this.type );\r\n    \r\n    }\r\n\r\n    Assert( _item, Assert.IS_SAME_TYPE, EO );\r\n\r\n    if ( _item.id ) {\r\n\r\n      Assert( _item.id, Assert.IS_SAME_TYPE, ES );\r\n      Assert( _item.id, Assert.IS_NOT, '' );\r\n    \r\n    } else {\r\n\r\n      Assert( _item.data, Assert.IS_SAME_TYPE, EO );\r\n      Assert( _item.data.id, Assert.IS_SAME_TYPE, ES );\r\n      Assert( _item.data.id, Assert.IS_NOT, '' );\r\n    \r\n    }\r\n\r\n    return this.Store( _item );\r\n  \r\n  };\r\n\r\n  Cache.prototype.GetById = function ( _id ) {\r\n\r\n    for ( var i = 0, items = this.items, l = items.length, item = items[ i ]; i < l; item = items[ ++i ] ) {\r\n\r\n      if ( item != null ) {\r\n\r\n        if ( item.id === _id || ( item.data != null && item.data.id === _id ) ) {\r\n\r\n          return item;\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Cache.prototype.PerformOnAll = function ( _funcName, _params, _context ) {\r\n\r\n    for ( var i = 0, items = this.items, l = items.length, item = items[ i ]; i < l; item = items[ ++i ] ) {\r\n\r\n      if ( item != null && item[ _funcName ] ) {\r\n\r\n        item[ _funcName ].apply( _context ? _context : item, _params );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return null;\r\n  \r\n  };\r\n\r\n  Cache.prototype.Contains = function ( _item, _id ) {\r\n\r\n    for ( var i = 0, items = this.items, l = items.length, item = items[ i ]; i < l; item = items[ ++i ] ) {\r\n\r\n      if ( item != null ) {\r\n\r\n        if ( item === _item ) {\r\n\r\n          return true;\r\n        \r\n        }\r\n\r\n        if ( item.id === _id ) {\r\n\r\n          return true;\r\n        \r\n        }\r\n\r\n        if ( item.data != null ) {\r\n\r\n          if ( item.data.id === _id ) {\r\n\r\n            return true;\r\n          \r\n          }\r\n        \r\n        }\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return false;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Cache = Cache;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-cache.js\n// module id = 6\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n  var Random = Math.random;\r\n  var PR = Nenkraft.Math.PR;\r\n\r\n  var RI = Nenkraft.Utils.RandomInteger = function ( _min, _max ) {\r\n\r\n    return ( Random() * ( _max - _min + 1 ) + _min ) | 0;\r\n  \r\n  };\r\n\r\n  var RF = Nenkraft.Utils.RandomFloat = function ( _min, _max ) {\r\n\r\n    return Random() * ( _max - _min ) + _min;\r\n  \r\n  };\r\n\r\n  var II = Nenkraft.Utils.IsInteger = function ( _value ) {\r\n\r\n    return Number( _value ) === _value && _value % 1 === 0;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.IsFloat = function ( _value ) {\r\n\r\n    return Number( _value ) === _value && _value % 1 !== 0;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.IsArray = function( _value ) {\r\n\r\n    return Object.prototype.toString.call( _value ) === '[object Array]';\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Sign = function( _value, _1IfZero ) {\r\n\r\n    if ( _value === 0 ) {\r\n\r\n      if ( _1IfZero === true ) {\r\n\r\n        return 1;\r\n      \r\n      }\r\n\r\n      return 0;\r\n    \r\n    }\r\n\r\n    if ( _value > 0 ) return 1;\r\n    return -1;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Clamp = function ( _value, _min, _max ) {\r\n\r\n    if ( _value < _min ) return _min;\r\n    else if ( _value > _max ) return _max;\r\n    return _value;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.InverseClamp = function ( _value, _min, _max ) {\r\n\r\n    if ( _value < _min ) return _max;\r\n    else if ( _value > _max ) return _min;\r\n    return _value;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.ThisOrThat = function ( _this, _that ) {\r\n\r\n    if ( RI( 1, 2 ) === 1 ) return _this;\r\n    return _that;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.IntegerNotation = function ( _value, _roof, _splitter ) {\r\n\r\n    var vrm = _value % _roof, vrd = _value / _roof;\r\n    return Math.ceil( vrm === 0 ? vrd + 1 : vrd ) + _splitter + ( 1 + vrm );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.GenerateSequence = function( _from, _to, _interval, _precision ) {\r\n\r\n    var sequence = [];\r\n\r\n    for ( var i = _from; i < _to; i += _interval ) {\r\n\r\n      sequence.push( PR( i, _precision ) );\r\n    \r\n    }\r\n\r\n    return sequence;\r\n  \r\n  };\r\n\r\n  var RIA = Nenkraft.Utils.RandomInArray = function( _array ) {\r\n\r\n    return _array[RI( 0, _array.length - 1 )];\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.MinMaxOrValue = function( _options, _other ) {\r\n\r\n    if ( _options.min != null && _options.max != null ) {\r\n        \r\n      return RF( _options.min, _options.max );\r\n\r\n    } else if ( _options.values != null && _options.values.length > 0 ) {\r\n\r\n      return RIA( _options.values );\r\n\r\n    } else if ( _other != null && _options[_other].length > 0 ) {\r\n\r\n      return RIA( _options[_other] );\r\n\r\n    }\r\n\r\n    return _options;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.UUID = function ( _length, _parts, _charSetIndex, _separator ) {\r\n\r\n    _length = _length == null ? 32 : _length;\r\n    _parts = _parts == null ? 4 : _parts;\r\n    _charSetIndex = _charSetIndex == null ? 0 : _charSetIndex;\r\n    _separator = _separator == null ? '-' : _separator;\r\n    var id = '';\r\n\r\n    for ( var i = 0, lpd = ( _length / _parts ) | 0, ilpdd, at, charset = Nenkraft.Utils.CharacterSets[ _charSetIndex ]; i < _length; ++i ) {\r\n\r\n      ilpdd = i / lpd;\r\n\r\n      if ( ilpdd !== 0 && II( ilpdd ) ) id += _separator;\r\n      else {\r\n\r\n        at = RI( 1, charset.length - 1 );\r\n        id += charset.charAt( at );\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return id;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.CharacterSets = [\r\n    '0123456789ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz',\r\n    '0123456789ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz!?#$%@&',\r\n    '0123456789',\r\n    'ABCDEFGHJIKLMNOPQRSTUWVXYZabcdefghijklmnopqrstuwvxyz',\r\n    'ABCDEFGHJIKLMNOPQRSTUWVXYZ',\r\n    'abcdefghijklmnopqrstuwvxyz',\r\n    '0123456789abcdefghijklmnopqrstuwvxyz',\r\n    '0123456789ABCDEFGHJIKLMNOPQRSTUWVXYZ'\r\n  ];\r\n\r\n  Nenkraft.Utils.ApplyProperties = function ( _object, _props ) {\r\n\r\n    if ( _props !== undefined ) {\r\n\r\n      var key;\r\n\r\n      for ( key in _props ) {\r\n\r\n        if ( _object[ key ] !== undefined ) _object[ key ] = _props[ key ];\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  var NESTED = Nenkraft.Utils.Nested = function ( _object, _string, _getObjectHolding, _set, _value, _splitter ) {\r\n\r\n    if ( typeof _string === 'string' ) {\r\n\r\n      _splitter = _splitter == null ? '.' : _splitter;\r\n      _string = _string.split( _splitter );\r\n    \r\n    }\r\n\r\n    var key;\r\n\r\n    if ( _string.length > 1 ) {\r\n\r\n      key = _string.shift();\r\n\r\n      if ( _object[ key ] !== undefined ) {\r\n\r\n        return NESTED( _object[ key ], _string, _getObjectHolding, _set, _value, _splitter );\r\n      \r\n      }\r\n    \r\n    } else {\r\n\r\n      key = _string.shift();\r\n\r\n      if ( _object[ key ] !== undefined ) {\r\n\r\n        if ( _set === true ) {\r\n\r\n          _object[ key ] = _value;\r\n          return;\r\n        \r\n        }\r\n\r\n        if ( _getObjectHolding === true ) {\r\n\r\n          return _object;\r\n        \r\n        }\r\n\r\n        return _object[ key ];\r\n      \r\n      }\r\n\r\n      if ( _set === true ) {\r\n\r\n        _object[ key ] = _value;\r\n        return;\r\n      \r\n      }\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.ArrayGetRandom = function ( _array, _amount ) {\r\n\r\n    var array = [], control = {}, _al = _array.length;\r\n\r\n    for ( var i = 0, l = _amount; i < l; ++i ) {\r\n\r\n      var ix = ( Random() * _al ) | 0;\r\n      if ( control[ ix ] === undefined ) {\r\n\r\n        control[ ix ] = null;\r\n        array.push( _array[ ix ] );\r\n      \r\n      }\r\n      else i--;\r\n    \r\n    }\r\n\r\n    return array;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.ArrayShuffle = function ( _array ) {\r\n\r\n    var i = _array.length - 1, temp, rand;\r\n\r\n    for ( ; i >= 0; --i ) {\r\n\r\n      rand = ( Random() * i ) | 0;\r\n      temp = _array[ i ];\r\n      _array[ i ] = _array[ rand ];\r\n      _array[ rand ] = temp;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Cipher = {};\r\n  Nenkraft.Utils.Decipher = {};\r\n\r\n  Nenkraft.Utils.Cipher.CCH1 = function ( _str, _cci ) {\r\n\r\n    var output = [];\r\n    _cci = _cci === undefined ? 1 : _cci;\r\n\r\n    for ( var i = 0, chrs = _str.split( '' ), l = chrs.length, chr, otn; i < l; ++i ) {\r\n\r\n      chr = chrs[ i ];\r\n      chr = ( chr.charCodeAt( 0 ) + _cci ).toString( 2 );\r\n      otn = RI( 1, 9 );\r\n      output.push( otn + 'x' + chr.replace( /1/g, otn ) );\r\n    \r\n    }\r\n\r\n    return output.join( ' ' );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Decipher.CCH1 = function ( _str, _cci ) {\r\n\r\n    var output = [];\r\n    _cci = _cci === undefined ? 1 : _cci;\r\n\r\n    for ( var i = 0, strs = _str.split( ' ' ), l = strs.length, str; i < l; ++i ) {\r\n\r\n      str = strs[ i ];\r\n      str = str.slice( -str.length + 2 );\r\n      output.push( String.fromCharCode( parseInt( str.replace( /[2-9]/g, '1' ), 2 ) - _cci ) );\r\n    \r\n    }\r\n\r\n    return output.join( '' );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Base16ToBase10 = function ( _value ) {\r\n\r\n    return parseInt( _value, 16 );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.Base2ToBase10 = function ( _value ) {\r\n\r\n    return parseInt( _value, 2 );\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.IsObjectEmpty = function ( _object ) {\r\n\r\n    for ( var key in _object ) {\r\n\r\n      if ( _object.hasOwnProperty( key ) ) {\r\n\r\n        return false;\r\n      \r\n      }\r\n    \r\n    }\r\n\r\n    return JSON.stringify( _object ) === JSON.stringify( {} );\r\n  \r\n  };\r\n\r\n  var DC = Nenkraft.Utils.DeepClone = function( _object ) {\r\n\r\n    var r = null;\r\n    var ia = false;\r\n\r\n    if ( typeof _object === 'function' ) {\r\n\r\n      throw new TypeError( 'Object was of type: function. Not acceptable.' );\r\n\r\n    }\r\n\r\n    if ( Array.isArray( _object ) ) {\r\n\r\n      r = [];\r\n      ia = true;\r\n\r\n    } else if ( typeof _object === 'object' ) {\r\n\r\n      r = {};\r\n\r\n    } else {\r\n\r\n      return _object;\r\n\r\n    }\r\n\r\n    if ( ia ) {\r\n\r\n      for ( var i = 0; i < _object.length; ++i ) {\r\n\r\n        r[i] = DC( _object[i] );\r\n\r\n      }\r\n\r\n    } else {\r\n\r\n      for ( var key in _object ) {\r\n\r\n        if ( _object.hasOwnProperty( key ) ) {\r\n\r\n          r[key] = DC( _object[key] );\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return r;\r\n  \r\n  };\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-utils.js\n// module id = 7\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function FlagList () {\r\n\r\n    if ( !( this instanceof FlagList ) ) return new FlagList();\r\n  \r\n  }\r\n\r\n  FlagList.prototype = Object.create( null );\r\n  FlagList.prototype.constructor = FlagList;\r\n  /*\r\n   *Static\r\n   *Members\r\n   */\r\n  FlagList.prototype.value = 0;\r\n\r\n  // Methods\r\n  FlagList.prototype.Add = function ( _value ) {\r\n\r\n    this.value |= _value;\r\n  \r\n  };\r\n\r\n  FlagList.prototype.Remove = function ( _value ) {\r\n\r\n    this.value = ( this.value & ~_value );\r\n  \r\n  };\r\n\r\n  FlagList.prototype.Compare = function ( _value ) {\r\n\r\n    return ( ( this.value & _value ) !== 0 );\r\n  \r\n  };\r\n\r\n  FlagList.prototype.Holds = function ( _value ) {\r\n\r\n    return ( ( this.value & _value ) === _value );\r\n  \r\n  };\r\n\r\n  FlagList.prototype.Toggle = function ( _value ) {\r\n\r\n    this.value ^= _value;\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.FlagList = FlagList;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-flag-list.js\n// module id = 8\n// module chunks = 0 2","/**\r\n * @author Gustav 'Nuuf' Åberg <gustavrein@gmail.com>\r\n */\r\n\r\nmodule.exports = function ( Nenkraft ) {\r\n\r\n  'use strict';\r\n\r\n  function FlagEnum () {\r\n\r\n    if ( !( this instanceof FlagEnum ) ) return new FlagEnum();\r\n  \r\n  }\r\n\r\n  FlagEnum.prototype = Object.create( null );\r\n  FlagEnum.prototype.constructor = FlagEnum;\r\n  /*\r\n   *Static\r\n   *Members\r\n   */\r\n  FlagEnum.prototype.NONE = 0;\r\n  FlagEnum.prototype.next = 1;\r\n\r\n  // Methods\r\n  FlagEnum.prototype.Add = function ( _id ) {\r\n\r\n    _id = _id.toUpperCase();\r\n\r\n    if ( this[ _id ] === undefined ) {\r\n\r\n      this[ _id ] = this.next;\r\n      this.next = this.next << 1;\r\n    \r\n    }\r\n  \r\n  };\r\n\r\n  Nenkraft.Utils.FlagEnum = FlagEnum;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/nk-utils/nk-flag-enum.js\n// module id = 9\n// module chunks = 0 2"],"sourceRoot":""}